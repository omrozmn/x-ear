// Thin API wrapper for patients that uses Orval generated client.
// Purpose: single responsibility file that re-exports generated methods and
// adapts shapes only when necessary. No manual fetch()

import { getXEarCRMAPIAutoGenerated } from '../../api/generated/xEarCRMAPIAutoGenerated';
import type { CreatePatientBody } from '../../types/patient/patient.types';

const api = getXEarCRMAPIAutoGenerated();

export const patientsApi = {
  list: (params?: any) => api.patientsGetPatients(params),
  create: (data: CreatePatientBody) => api.patientsCreatePatient(data),
  delete: (id: string) => api.patientsDeletePatient(id),
  search: (query?: any) => api.patientsSearchPatients(query),
  
  // Timeline operations
  getTimeline: (patientId: string) => api.timelineGetPatientTimeline(patientId),
  addTimelineEvent: (patientId: string, data: any) => api.timelineAddTimelineEvent(patientId, data),
  deleteTimelineEvent: (patientId: string, eventId: string) => api.timelineDeleteTimelineEvent(patientId, eventId),
  logActivity: (patientId: string, data: any) => api.timelineLogPatientActivity(patientId, data),
  
  // Notes operations
  createNote: (patientId: string, data: any) => api.timelineAddTimelineEvent(patientId, data),
  deleteNote: (patientId: string, noteId: string) => api.timelineDeleteTimelineEvent(patientId, noteId),
  
  // Sales operations
  getSales: () => api.salesListSales(),
  createSale: (data: any) => api.salesCreateSale(data),
  deleteSale: (saleId: string) => api.salesDeleteSale(saleId),
  
  // SGK operations
  uploadSgkDocument: (data?: any) => api.sgkUploadSgkDocument(data),
  deleteSgkDocument: (documentId: string) => api.sgkDeleteSgkDocument(documentId),
};

export default patientsApi;