import { getXEarCRMAPIAutoGenerated } from '../../api/generated/xEarCRMAPIAutoGenerated';
import { sgkService as fullSgkService } from '../sgk.service';

const api = getXEarCRMAPIAutoGenerated();
const { sgkUploadSgkDocument, sgkDeleteSgkDocument, sgkProcessOcr, automationTriggerSgkProcessing, sgkGetPatientSgkDocuments } = api;

// SGK Service - handles SGK document operations
export const sgkService = {
  // Upload SGK document
  uploadDocument: (body?: any, opts?: any) => sgkUploadSgkDocument(body, opts),
  
  // Delete SGK document
  deleteDocument: (documentId: string, opts?: any) => sgkDeleteSgkDocument(documentId, opts),
  
  // List SGK documents for a patient
  listDocuments: (patientId: string, opts?: any) => sgkGetPatientSgkDocuments(patientId, opts),
  
  // Process OCR
  processOcr: (body?: any, opts?: any) => sgkProcessOcr(body, opts),
  
  // Trigger SGK processing
  triggerProcessing: (body?: any, opts?: any) => automationTriggerSgkProcessing(body, opts),
  
  // Workflow methods from the full SGK service
  getWorkflow: (workflowId: string) => fullSgkService.getWorkflow(workflowId),
  updateWorkflowStatus: (workflowId: string, status: any, notes?: string) => fullSgkService.updateWorkflowStatus(workflowId, status, notes),
  createWorkflow: (patientId: string, documentId?: string, workflowType?: string) => fullSgkService.createWorkflow(patientId, documentId, workflowType),
  
  // Document management methods from the full SGK service
  validateDocument: (data: any) => fullSgkService.validateDocument(data),
  createDocument: (data: any) => fullSgkService.createDocument(data),
  processDocument: (request: any) => fullSgkService.processDocument(request),
  updateDocumentStatus: (id: string, status: any) => fullSgkService.updateDocument(id, { processingStatus: status }),
};

export default sgkService;
