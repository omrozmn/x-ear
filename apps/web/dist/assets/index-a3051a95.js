var e4=Object.defineProperty;var t4=(e,t,r)=>t in e?e4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var mt=(e,t,r)=>(t4(e,typeof t!="symbol"?t+"":t,r),r),ch=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var Z=(e,t,r)=>(ch(e,t,"read from private field"),r?r.call(e):t.get(e)),Le=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Fe=(e,t,r,s)=>(ch(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);var sd=(e,t,r,s)=>({set _(n){Fe(e,t,n,r)},get _(){return Z(e,t,s)}}),tt=(e,t,r)=>(ch(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var Vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hw={exports:{}},kf={},Ww={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),r4=Symbol.for("react.portal"),s4=Symbol.for("react.fragment"),n4=Symbol.for("react.strict_mode"),a4=Symbol.for("react.profiler"),i4=Symbol.for("react.provider"),o4=Symbol.for("react.context"),l4=Symbol.for("react.forward_ref"),c4=Symbol.for("react.suspense"),u4=Symbol.for("react.memo"),d4=Symbol.for("react.lazy"),m1=Symbol.iterator;function f4(e){return e===null||typeof e!="object"?null:(e=m1&&e[m1]||e["@@iterator"],typeof e=="function"?e:null)}var Kw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gw=Object.assign,qw={};function Cl(e,t,r){this.props=e,this.context=t,this.refs=qw,this.updater=r||Kw}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yw(){}Yw.prototype=Cl.prototype;function cx(e,t,r){this.props=e,this.context=t,this.refs=qw,this.updater=r||Kw}var ux=cx.prototype=new Yw;ux.constructor=cx;Gw(ux,Cl.prototype);ux.isPureReactComponent=!0;var p1=Array.isArray,Xw=Object.prototype.hasOwnProperty,dx={current:null},Qw={key:!0,ref:!0,__self:!0,__source:!0};function Zw(e,t,r){var s,n={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Xw.call(t,s)&&!Qw.hasOwnProperty(s)&&(n[s]=t[s]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];n.children=u}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)n[s]===void 0&&(n[s]=l[s]);return{$$typeof:Ou,type:e,key:a,ref:i,props:n,_owner:dx.current}}function h4(e,t){return{$$typeof:Ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ou}function m4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var x1=/\/+/g;function uh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m4(""+e.key):t.toString(36)}function Wd(e,t,r,s,n){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ou:case r4:i=!0}}if(i)return i=e,n=n(i),e=s===""?"."+uh(i,0):s,p1(n)?(r="",e!=null&&(r=e.replace(x1,"$&/")+"/"),Wd(n,t,r,"",function(c){return c})):n!=null&&(fx(n)&&(n=h4(n,r+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(x1,"$&/")+"/")+e)),t.push(n)),1;if(i=0,s=s===""?".":s+":",p1(e))for(var l=0;l<e.length;l++){a=e[l];var u=s+uh(a,l);i+=Wd(a,t,r,u,n)}else if(u=f4(e),typeof u=="function")for(e=u.call(e),l=0;!(a=e.next()).done;)a=a.value,u=s+uh(a,l++),i+=Wd(a,t,r,u,n);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function nd(e,t,r){if(e==null)return e;var s=[],n=0;return Wd(e,s,"","",function(a){return t.call(r,a,n++)}),s}function p4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zr={current:null},Kd={transition:null},x4={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:Kd,ReactCurrentOwner:dx};function Jw(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:nd,forEach:function(e,t,r){nd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nd(e,function(){t++}),t},toArray:function(e){return nd(e,function(t){return t})||[]},only:function(e){if(!fx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=Cl;st.Fragment=s4;st.Profiler=a4;st.PureComponent=cx;st.StrictMode=n4;st.Suspense=c4;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x4;st.act=Jw;st.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Gw({},e.props),n=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=dx.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Xw.call(t,u)&&!Qw.hasOwnProperty(u)&&(s[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)s.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}return{$$typeof:Ou,type:e.type,key:n,ref:a,props:s,_owner:i}};st.createContext=function(e){return e={$$typeof:o4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:i4,_context:e},e.Consumer=e};st.createElement=Zw;st.createFactory=function(e){var t=Zw.bind(null,e);return t.type=e,t};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:l4,render:e}};st.isValidElement=fx;st.lazy=function(e){return{$$typeof:d4,_payload:{_status:-1,_result:e},_init:p4}};st.memo=function(e,t){return{$$typeof:u4,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=Kd.transition;Kd.transition={};try{e()}finally{Kd.transition=t}};st.unstable_act=Jw;st.useCallback=function(e,t){return zr.current.useCallback(e,t)};st.useContext=function(e){return zr.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return zr.current.useDeferredValue(e)};st.useEffect=function(e,t){return zr.current.useEffect(e,t)};st.useId=function(){return zr.current.useId()};st.useImperativeHandle=function(e,t,r){return zr.current.useImperativeHandle(e,t,r)};st.useInsertionEffect=function(e,t){return zr.current.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return zr.current.useLayoutEffect(e,t)};st.useMemo=function(e,t){return zr.current.useMemo(e,t)};st.useReducer=function(e,t,r){return zr.current.useReducer(e,t,r)};st.useRef=function(e){return zr.current.useRef(e)};st.useState=function(e){return zr.current.useState(e)};st.useSyncExternalStore=function(e,t,r){return zr.current.useSyncExternalStore(e,t,r)};st.useTransition=function(){return zr.current.useTransition()};st.version="18.3.1";Ww.exports=st;var F=Ww.exports;const gt=wf(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g4=F,y4=Symbol.for("react.element"),v4=Symbol.for("react.fragment"),w4=Object.prototype.hasOwnProperty,k4=g4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S4={key:!0,ref:!0,__self:!0,__source:!0};function ek(e,t,r){var s,n={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)w4.call(t,s)&&!S4.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:y4,type:e,key:a,ref:i,props:n,_owner:k4.current}}kf.Fragment=v4;kf.jsx=ek;kf.jsxs=ek;Hw.exports=kf;var o=Hw.exports,f0={},tk={exports:{}},xs={},rk={exports:{}},sk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,R){var se=te.length;te.push(R);e:for(;0<se;){var U=se-1>>>1,T=te[U];if(0<n(T,R))te[U]=R,te[se]=T,se=U;else break e}}function r(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var R=te[0],se=te.pop();if(se!==R){te[0]=se;e:for(var U=0,T=te.length,j=T>>>1;U<j;){var L=2*(U+1)-1,z=te[L],I=L+1,J=te[I];if(0>n(z,se))I<T&&0>n(J,z)?(te[U]=J,te[I]=se,U=I):(te[U]=z,te[L]=se,U=L);else if(I<T&&0>n(J,se))te[U]=J,te[I]=se,U=I;else break e}}return R}function n(te,R){var se=te.sortIndex-R.sortIndex;return se!==0?se:te.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(te){for(var R=r(c);R!==null;){if(R.callback===null)s(c);else if(R.startTime<=te)s(c),R.sortIndex=R.expirationTime,t(u,R);else break;R=r(c)}}function b(te){if(x=!1,w(te),!m)if(r(u)!==null)m=!0,X(D);else{var R=r(c);R!==null&&ee(b,R.startTime-te)}}function D(te,R){m=!1,x&&(x=!1,g(S),S=-1),p=!0;var se=h;try{for(w(R),f=r(u);f!==null&&(!(f.expirationTime>R)||te&&!C());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var T=U(f.expirationTime<=R);R=e.unstable_now(),typeof T=="function"?f.callback=T:f===r(u)&&s(u),w(R)}else s(u);f=r(u)}if(f!==null)var j=!0;else{var L=r(c);L!==null&&ee(b,L.startTime-R),j=!1}return j}finally{f=null,h=se,p=!1}}var A=!1,_=null,S=-1,k=5,N=-1;function C(){return!(e.unstable_now()-N<k)}function E(){if(_!==null){var te=e.unstable_now();N=te;var R=!0;try{R=_(!0,te)}finally{R?M():(A=!1,_=null)}}else A=!1}var M;if(typeof v=="function")M=function(){v(E)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=E,M=function(){Y.postMessage(null)}}else M=function(){y(E,0)};function X(te){_=te,A||(A=!0,M())}function ee(te,R){S=y(function(){te(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,X(D))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(te){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var se=h;h=R;try{return te()}finally{h=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,R){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=h;h=te;try{return R()}finally{h=se}},e.unstable_scheduleCallback=function(te,R,se){var U=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?U+se:U):se=U,te){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=se+T,te={id:d++,callback:R,priorityLevel:te,startTime:se,expirationTime:T,sortIndex:-1},se>U?(te.sortIndex=se,t(c,te),r(u)===null&&te===r(c)&&(x?(g(S),S=-1):x=!0,ee(b,se-U))):(te.sortIndex=T,t(u,te),m||p||(m=!0,X(D))),te},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(te){var R=h;return function(){var se=h;h=R;try{return te.apply(this,arguments)}finally{h=se}}}})(sk);rk.exports=sk;var b4=rk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _4=F,hs=b4;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nk=new Set,Uc={};function no(e,t){il(e,t),il(e+"Capture",t)}function il(e,t){for(Uc[e]=t,e=0;e<t.length;e++)nk.add(t[e])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,E4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g1={},y1={};function N4(e){return lm.call(y1,e)?!0:lm.call(g1,e)?!1:E4.test(e)?y1[e]=!0:(g1[e]=!0,!1)}function C4(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T4(e,t,r,s){if(t===null||typeof t>"u"||C4(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ur(e,t,r,s,n,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pr[e]=new Ur(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pr[t]=new Ur(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pr[e]=new Ur(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pr[e]=new Ur(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pr[e]=new Ur(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pr[e]=new Ur(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pr[e]=new Ur(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pr[e]=new Ur(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pr[e]=new Ur(e,5,!1,e.toLowerCase(),null,!1,!1)});var hx=/[\-:]([a-z])/g;function mx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hx,mx);pr[t]=new Ur(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hx,mx);pr[t]=new Ur(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hx,mx);pr[t]=new Ur(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pr[e]=new Ur(e,1,!1,e.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pr[e]=new Ur(e,1,!1,e.toLowerCase(),null,!0,!0)});function px(e,t,r,s){var n=pr.hasOwnProperty(t)?pr[t]:null;(n!==null?n.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T4(t,r,n,s)&&(r=null),s||n===null?N4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,s=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var ta=_4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ad=Symbol.for("react.element"),So=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),xx=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),ak=Symbol.for("react.provider"),ik=Symbol.for("react.context"),gx=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),yx=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),ok=Symbol.for("react.offscreen"),v1=Symbol.iterator;function Vl(e){return e===null||typeof e!="object"?null:(e=v1&&e[v1]||e["@@iterator"],typeof e=="function"?e:null)}var Ft=Object.assign,dh;function sc(e){if(dh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);dh=t&&t[1]||""}return`
`+dh+e}var fh=!1;function hh(e,t){if(!e||fh)return"";fh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),a=s.stack.split(`
`),i=n.length-1,l=a.length-1;1<=i&&0<=l&&n[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(n[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||n[i]!==a[l]){var u=`
`+n[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=l);break}}}finally{fh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sc(e):""}function A4(e){switch(e.tag){case 5:return sc(e.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 2:case 15:return e=hh(e.type,!1),e;case 11:return e=hh(e.type.render,!1),e;case 1:return e=hh(e.type,!0),e;default:return""}}function fm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bo:return"Fragment";case So:return"Portal";case cm:return"Profiler";case xx:return"StrictMode";case um:return"Suspense";case dm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ik:return(e.displayName||"Context")+".Consumer";case ak:return(e._context.displayName||"Context")+".Provider";case gx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yx:return t=e.displayName||null,t!==null?t:fm(e.type)||"Memo";case ua:t=e._payload,e=e._init;try{return fm(e(t))}catch{}}return null}function j4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fm(t);case 8:return t===xx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function F4(e){var t=lk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function id(e){e._valueTracker||(e._valueTracker=F4(e))}function ck(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=lk(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function h0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hm(e,t){var r=t.checked;return Ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function w1(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Xa(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uk(e,t){t=t.checked,t!=null&&px(e,"checked",t,!1)}function mm(e,t){uk(e,t);var r=Xa(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pm(e,t.type,r):t.hasOwnProperty("defaultValue")&&pm(e,t.type,Xa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function k1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pm(e,t,r){(t!=="number"||h0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nc=Array.isArray;function Oo(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Xa(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function xm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function S1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ee(92));if(nc(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xa(r)}}function dk(e,t){var r=Xa(t.value),s=Xa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function b1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var od,hk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(od=od||document.createElement("div"),od.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=od.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $c(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R4=["Webkit","ms","Moz","O"];Object.keys(gc).forEach(function(e){R4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gc[t]=gc[e]})});function mk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||gc.hasOwnProperty(e)&&gc[e]?(""+t).trim():t+"px"}function pk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=mk(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,n):e[r]=n}}var D4=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ym(e,t){if(t){if(D4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function vm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=null;function vx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var km=null,Io=null,Mo=null;function _1(e){if(e=Lu(e)){if(typeof km!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=Nf(t),km(e.stateNode,e.type,t))}}function xk(e){Io?Mo?Mo.push(e):Mo=[e]:Io=e}function gk(){if(Io){var e=Io,t=Mo;if(Mo=Io=null,_1(e),t)for(e=0;e<t.length;e++)_1(t[e])}}function yk(e,t){return e(t)}function vk(){}var mh=!1;function wk(e,t,r){if(mh)return e(t,r);mh=!0;try{return yk(e,t,r)}finally{mh=!1,(Io!==null||Mo!==null)&&(vk(),gk())}}function Vc(e,t){var r=e.stateNode;if(r===null)return null;var s=Nf(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ee(231,t,typeof r));return r}var Sm=!1;if(Wn)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Sm=!1}function P4(e,t,r,s,n,a,i,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var yc=!1,m0=null,p0=!1,bm=null,O4={onError:function(e){yc=!0,m0=e}};function I4(e,t,r,s,n,a,i,l,u){yc=!1,m0=null,P4.apply(O4,arguments)}function M4(e,t,r,s,n,a,i,l,u){if(I4.apply(this,arguments),yc){if(yc){var c=m0;yc=!1,m0=null}else throw Error(Ee(198));p0||(p0=!0,bm=c)}}function ao(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E1(e){if(ao(e)!==e)throw Error(Ee(188))}function L4(e){var t=e.alternate;if(!t){if(t=ao(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(n===null)break;var a=n.alternate;if(a===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===r)return E1(n),e;if(a===s)return E1(n),t;a=a.sibling}throw Error(Ee(188))}if(r.return!==s.return)r=n,s=a;else{for(var i=!1,l=n.child;l;){if(l===r){i=!0,r=n,s=a;break}if(l===s){i=!0,s=n,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,s=n;break}if(l===s){i=!0,s=a,r=n;break}l=l.sibling}if(!i)throw Error(Ee(189))}}if(r.alternate!==s)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?e:t}function Sk(e){return e=L4(e),e!==null?bk(e):null}function bk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bk(e);if(t!==null)return t;e=e.sibling}return null}var _k=hs.unstable_scheduleCallback,N1=hs.unstable_cancelCallback,B4=hs.unstable_shouldYield,z4=hs.unstable_requestPaint,zt=hs.unstable_now,U4=hs.unstable_getCurrentPriorityLevel,wx=hs.unstable_ImmediatePriority,Ek=hs.unstable_UserBlockingPriority,x0=hs.unstable_NormalPriority,$4=hs.unstable_LowPriority,Nk=hs.unstable_IdlePriority,Sf=null,yn=null;function V4(e){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Sf,e,void 0,(e.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:K4,H4=Math.log,W4=Math.LN2;function K4(e){return e>>>=0,e===0?32:31-(H4(e)/W4|0)|0}var ld=64,cd=4194304;function ac(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function g0(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,n=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~n;l!==0?s=ac(l):(a&=i,a!==0&&(s=ac(a)))}else i=r&~n,i!==0?s=ac(i):a!==0&&(s=ac(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&n)&&(n=s&-s,a=t&-t,n>=a||n===16&&(a&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Qs(t),n=1<<r,s|=e[r],t&=~n;return s}function G4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q4(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Qs(a),l=1<<i,u=n[i];u===-1?(!(l&r)||l&s)&&(n[i]=G4(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}}function _m(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ck(){var e=ld;return ld<<=1,!(ld&4194240)&&(ld=64),e}function ph(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Iu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qs(t),e[t]=r}function Y4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Qs(r),a=1<<n;t[n]=0,s[n]=-1,e[n]=-1,r&=~a}}function kx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Qs(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}var yt=0;function Tk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ak,Sx,jk,Fk,Rk,Em=!1,ud=[],Oa=null,Ia=null,Ma=null,Hc=new Map,Wc=new Map,ha=[],X4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C1(e,t){switch(e){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Hc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(t.pointerId)}}function Wl(e,t,r,s,n,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[n]},t!==null&&(t=Lu(t),t!==null&&Sx(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Q4(e,t,r,s,n){switch(t){case"focusin":return Oa=Wl(Oa,e,t,r,s,n),!0;case"dragenter":return Ia=Wl(Ia,e,t,r,s,n),!0;case"mouseover":return Ma=Wl(Ma,e,t,r,s,n),!0;case"pointerover":var a=n.pointerId;return Hc.set(a,Wl(Hc.get(a)||null,e,t,r,s,n)),!0;case"gotpointercapture":return a=n.pointerId,Wc.set(a,Wl(Wc.get(a)||null,e,t,r,s,n)),!0}return!1}function Dk(e){var t=vi(e.target);if(t!==null){var r=ao(t);if(r!==null){if(t=r.tag,t===13){if(t=kk(r),t!==null){e.blockedOn=t,Rk(e.priority,function(){jk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);wm=s,r.target.dispatchEvent(s),wm=null}else return t=Lu(r),t!==null&&Sx(t),e.blockedOn=r,!1;t.shift()}return!0}function T1(e,t,r){Gd(e)&&r.delete(t)}function Z4(){Em=!1,Oa!==null&&Gd(Oa)&&(Oa=null),Ia!==null&&Gd(Ia)&&(Ia=null),Ma!==null&&Gd(Ma)&&(Ma=null),Hc.forEach(T1),Wc.forEach(T1)}function Kl(e,t){e.blockedOn===t&&(e.blockedOn=null,Em||(Em=!0,hs.unstable_scheduleCallback(hs.unstable_NormalPriority,Z4)))}function Kc(e){function t(n){return Kl(n,e)}if(0<ud.length){Kl(ud[0],e);for(var r=1;r<ud.length;r++){var s=ud[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Oa!==null&&Kl(Oa,e),Ia!==null&&Kl(Ia,e),Ma!==null&&Kl(Ma,e),Hc.forEach(t),Wc.forEach(t),r=0;r<ha.length;r++)s=ha[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<ha.length&&(r=ha[0],r.blockedOn===null);)Dk(r),r.blockedOn===null&&ha.shift()}var Lo=ta.ReactCurrentBatchConfig,y0=!0;function J4(e,t,r,s){var n=yt,a=Lo.transition;Lo.transition=null;try{yt=1,bx(e,t,r,s)}finally{yt=n,Lo.transition=a}}function eC(e,t,r,s){var n=yt,a=Lo.transition;Lo.transition=null;try{yt=4,bx(e,t,r,s)}finally{yt=n,Lo.transition=a}}function bx(e,t,r,s){if(y0){var n=Nm(e,t,r,s);if(n===null)Eh(e,t,s,v0,r),C1(e,s);else if(Q4(n,e,t,r,s))s.stopPropagation();else if(C1(e,s),t&4&&-1<X4.indexOf(e)){for(;n!==null;){var a=Lu(n);if(a!==null&&Ak(a),a=Nm(e,t,r,s),a===null&&Eh(e,t,s,v0,r),a===n)break;n=a}n!==null&&s.stopPropagation()}else Eh(e,t,s,null,r)}}var v0=null;function Nm(e,t,r,s){if(v0=null,e=vx(s),e=vi(e),e!==null)if(t=ao(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return v0=e,null}function Pk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U4()){case wx:return 1;case Ek:return 4;case x0:case $4:return 16;case Nk:return 536870912;default:return 16}default:return 16}}var Ta=null,_x=null,qd=null;function Ok(){if(qd)return qd;var e,t=_x,r=t.length,s,n="value"in Ta?Ta.value:Ta.textContent,a=n.length;for(e=0;e<r&&t[e]===n[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===n[a-s];s++);return qd=n.slice(e,1<s?1-s:void 0)}function Yd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dd(){return!0}function A1(){return!1}function gs(e){function t(r,s,n,a,i){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?dd:A1,this.isPropagationStopped=A1,this}return Ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),t}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ex=gs(Tl),Mu=Ft({},Tl,{view:0,detail:0}),tC=gs(Mu),xh,gh,Gl,bf=Ft({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gl&&(Gl&&e.type==="mousemove"?(xh=e.screenX-Gl.screenX,gh=e.screenY-Gl.screenY):gh=xh=0,Gl=e),xh)},movementY:function(e){return"movementY"in e?e.movementY:gh}}),j1=gs(bf),rC=Ft({},bf,{dataTransfer:0}),sC=gs(rC),nC=Ft({},Mu,{relatedTarget:0}),yh=gs(nC),aC=Ft({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),iC=gs(aC),oC=Ft({},Tl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lC=gs(oC),cC=Ft({},Tl,{data:0}),F1=gs(cC),uC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fC[e])?!!t[e]:!1}function Nx(){return hC}var mC=Ft({},Mu,{key:function(e){if(e.key){var t=uC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nx,charCode:function(e){return e.type==="keypress"?Yd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pC=gs(mC),xC=Ft({},bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R1=gs(xC),gC=Ft({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nx}),yC=gs(gC),vC=Ft({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wC=gs(vC),kC=Ft({},bf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SC=gs(kC),bC=[9,13,27,32],Cx=Wn&&"CompositionEvent"in window,vc=null;Wn&&"documentMode"in document&&(vc=document.documentMode);var _C=Wn&&"TextEvent"in window&&!vc,Ik=Wn&&(!Cx||vc&&8<vc&&11>=vc),D1=String.fromCharCode(32),P1=!1;function Mk(e,t){switch(e){case"keyup":return bC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _o=!1;function EC(e,t){switch(e){case"compositionend":return Lk(t);case"keypress":return t.which!==32?null:(P1=!0,D1);case"textInput":return e=t.data,e===D1&&P1?null:e;default:return null}}function NC(e,t){if(_o)return e==="compositionend"||!Cx&&Mk(e,t)?(e=Ok(),qd=_x=Ta=null,_o=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ik&&t.locale!=="ko"?null:t.data;default:return null}}var CC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CC[e.type]:t==="textarea"}function Bk(e,t,r,s){xk(s),t=w0(t,"onChange"),0<t.length&&(r=new Ex("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var wc=null,Gc=null;function TC(e){Xk(e,0)}function _f(e){var t=Co(e);if(ck(t))return e}function AC(e,t){if(e==="change")return t}var zk=!1;if(Wn){var vh;if(Wn){var wh="oninput"in document;if(!wh){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),wh=typeof I1.oninput=="function"}vh=wh}else vh=!1;zk=vh&&(!document.documentMode||9<document.documentMode)}function M1(){wc&&(wc.detachEvent("onpropertychange",Uk),Gc=wc=null)}function Uk(e){if(e.propertyName==="value"&&_f(Gc)){var t=[];Bk(t,Gc,e,vx(e)),wk(TC,t)}}function jC(e,t,r){e==="focusin"?(M1(),wc=t,Gc=r,wc.attachEvent("onpropertychange",Uk)):e==="focusout"&&M1()}function FC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _f(Gc)}function RC(e,t){if(e==="click")return _f(t)}function DC(e,t){if(e==="input"||e==="change")return _f(t)}function PC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:PC;function qc(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!lm.call(t,n)||!tn(e[n],t[n]))return!1}return!0}function L1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function B1(e,t){var r=L1(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=L1(r)}}function $k(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$k(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vk(){for(var e=window,t=h0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=h0(e.document)}return t}function Tx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OC(e){var t=Vk(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$k(r.ownerDocument.documentElement,r)){if(s!==null&&Tx(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,a=Math.min(s.start,n);s=s.end===void 0?a:Math.min(s.end,n),!e.extend&&a>s&&(n=s,s=a,a=n),n=B1(r,a);var i=B1(r,s);n&&i&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IC=Wn&&"documentMode"in document&&11>=document.documentMode,Eo=null,Cm=null,kc=null,Tm=!1;function z1(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tm||Eo==null||Eo!==h0(s)||(s=Eo,"selectionStart"in s&&Tx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),kc&&qc(kc,s)||(kc=s,s=w0(Cm,"onSelect"),0<s.length&&(t=new Ex("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Eo)))}function fd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var No={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionend:fd("Transition","TransitionEnd")},kh={},Hk={};Wn&&(Hk=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Ef(e){if(kh[e])return kh[e];if(!No[e])return e;var t=No[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hk)return kh[e]=t[r];return e}var Wk=Ef("animationend"),Kk=Ef("animationiteration"),Gk=Ef("animationstart"),qk=Ef("transitionend"),Yk=new Map,U1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(e,t){Yk.set(e,t),no(t,[e])}for(var Sh=0;Sh<U1.length;Sh++){var bh=U1[Sh],MC=bh.toLowerCase(),LC=bh[0].toUpperCase()+bh.slice(1);si(MC,"on"+LC)}si(Wk,"onAnimationEnd");si(Kk,"onAnimationIteration");si(Gk,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(qk,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function $1(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,M4(s,t,void 0,e),e.currentTarget=null}function Xk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&n.isPropagationStopped())break e;$1(n,l,c),a=u}else for(i=0;i<s.length;i++){if(l=s[i],u=l.instance,c=l.currentTarget,l=l.listener,u!==a&&n.isPropagationStopped())break e;$1(n,l,c),a=u}}}if(p0)throw e=bm,p0=!1,bm=null,e}function St(e,t){var r=t[Dm];r===void 0&&(r=t[Dm]=new Set);var s=e+"__bubble";r.has(s)||(Qk(t,e,2,!1),r.add(s))}function _h(e,t,r){var s=0;t&&(s|=4),Qk(r,e,s,t)}var hd="_reactListening"+Math.random().toString(36).slice(2);function Yc(e){if(!e[hd]){e[hd]=!0,nk.forEach(function(r){r!=="selectionchange"&&(BC.has(r)||_h(r,!1,e),_h(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hd]||(t[hd]=!0,_h("selectionchange",!1,t))}}function Qk(e,t,r,s){switch(Pk(t)){case 1:var n=J4;break;case 4:n=eC;break;default:n=bx}r=n.bind(null,t,r,e),n=void 0,!Sm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Eh(e,t,r,s,n){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var l=s.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(i===4)for(i=s.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===n||u.nodeType===8&&u.parentNode===n))return;i=i.return}for(;l!==null;){if(i=vi(l),i===null)return;if(u=i.tag,u===5||u===6){s=a=i;continue e}l=l.parentNode}}s=s.return}wk(function(){var c=a,d=vx(r),f=[];e:{var h=Yk.get(e);if(h!==void 0){var p=Ex,m=e;switch(e){case"keypress":if(Yd(r)===0)break e;case"keydown":case"keyup":p=pC;break;case"focusin":m="focus",p=yh;break;case"focusout":m="blur",p=yh;break;case"beforeblur":case"afterblur":p=yh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=j1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yC;break;case Wk:case Kk:case Gk:p=iC;break;case qk:p=wC;break;case"scroll":p=tC;break;case"wheel":p=SC;break;case"copy":case"cut":case"paste":p=lC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=R1}var x=(t&4)!==0,y=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var v=c,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=Vc(v,g),b!=null&&x.push(Xc(v,b,w)))),y)break;v=v.return}0<x.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==wm&&(m=r.relatedTarget||r.fromElement)&&(vi(m)||m[Kn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?vi(m):null,m!==null&&(y=ao(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(x=j1,b="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=R1,b="onPointerLeave",g="onPointerEnter",v="pointer"),y=p==null?h:Co(p),w=m==null?h:Co(m),h=new x(b,v+"leave",p,r,d),h.target=y,h.relatedTarget=w,b=null,vi(d)===c&&(x=new x(g,v+"enter",m,r,d),x.target=w,x.relatedTarget=y,b=x),y=b,p&&m)t:{for(x=p,g=m,v=0,w=x;w;w=ho(w))v++;for(w=0,b=g;b;b=ho(b))w++;for(;0<v-w;)x=ho(x),v--;for(;0<w-v;)g=ho(g),w--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=ho(x),g=ho(g)}x=null}else x=null;p!==null&&V1(f,h,p,x,!1),m!==null&&y!==null&&V1(f,y,m,x,!0)}}e:{if(h=c?Co(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var D=AC;else if(O1(h))if(zk)D=DC;else{D=FC;var A=jC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=RC);if(D&&(D=D(e,c))){Bk(f,D,r,d);break e}A&&A(e,h,c),e==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&pm(h,"number",h.value)}switch(A=c?Co(c):window,e){case"focusin":(O1(A)||A.contentEditable==="true")&&(Eo=A,Cm=c,kc=null);break;case"focusout":kc=Cm=Eo=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,z1(f,r,d);break;case"selectionchange":if(IC)break;case"keydown":case"keyup":z1(f,r,d)}var _;if(Cx)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else _o?Mk(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Ik&&r.locale!=="ko"&&(_o||S!=="onCompositionStart"?S==="onCompositionEnd"&&_o&&(_=Ok()):(Ta=d,_x="value"in Ta?Ta.value:Ta.textContent,_o=!0)),A=w0(c,S),0<A.length&&(S=new F1(S,e,null,r,d),f.push({event:S,listeners:A}),_?S.data=_:(_=Lk(r),_!==null&&(S.data=_)))),(_=_C?EC(e,r):NC(e,r))&&(c=w0(c,"onBeforeInput"),0<c.length&&(d=new F1("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=_))}Xk(f,t)})}function Xc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function w0(e,t){for(var r=t+"Capture",s=[];e!==null;){var n=e,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=Vc(e,r),a!=null&&s.unshift(Xc(e,a,n)),a=Vc(e,t),a!=null&&s.push(Xc(e,a,n))),e=e.return}return s}function ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function V1(e,t,r,s,n){for(var a=t._reactName,i=[];r!==null&&r!==s;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===s)break;l.tag===5&&c!==null&&(l=c,n?(u=Vc(r,a),u!=null&&i.unshift(Xc(r,u,l))):n||(u=Vc(r,a),u!=null&&i.push(Xc(r,u,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var zC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function H1(e){return(typeof e=="string"?e:""+e).replace(zC,`
`).replace(UC,"")}function md(e,t,r){if(t=H1(t),H1(e)!==t&&r)throw Error(Ee(425))}function k0(){}var Am=null,jm=null;function Fm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rm=typeof setTimeout=="function"?setTimeout:void 0,$C=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,VC=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(e){return W1.resolve(null).then(e).catch(HC)}:Rm;function HC(e){setTimeout(function(){throw e})}function Nh(e,t){var r=t,s=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){e.removeChild(n),Kc(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);Kc(t)}function La(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function K1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Al=Math.random().toString(36).slice(2),hn="__reactFiber$"+Al,Qc="__reactProps$"+Al,Kn="__reactContainer$"+Al,Dm="__reactEvents$"+Al,WC="__reactListeners$"+Al,KC="__reactHandles$"+Al;function vi(e){var t=e[hn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kn]||r[hn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=K1(e);e!==null;){if(r=e[hn])return r;e=K1(e)}return t}e=r,r=e.parentNode}return null}function Lu(e){return e=e[hn]||e[Kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function Nf(e){return e[Qc]||null}var Pm=[],To=-1;function ni(e){return{current:e}}function bt(e){0>To||(e.current=Pm[To],Pm[To]=null,To--)}function wt(e,t){To++,Pm[To]=e.current,e.current=t}var Qa={},Nr=ni(Qa),Zr=ni(!1),Vi=Qa;function ol(e,t){var r=e.type.contextTypes;if(!r)return Qa;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in r)n[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Jr(e){return e=e.childContextTypes,e!=null}function S0(){bt(Zr),bt(Nr)}function G1(e,t,r){if(Nr.current!==Qa)throw Error(Ee(168));wt(Nr,t),wt(Zr,r)}function Zk(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in t))throw Error(Ee(108,j4(e)||"Unknown",n));return Ft({},r,s)}function b0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qa,Vi=Nr.current,wt(Nr,e),wt(Zr,Zr.current),!0}function q1(e,t,r){var s=e.stateNode;if(!s)throw Error(Ee(169));r?(e=Zk(e,t,Vi),s.__reactInternalMemoizedMergedChildContext=e,bt(Zr),bt(Nr),wt(Nr,e)):bt(Zr),wt(Zr,r)}var Rn=null,Cf=!1,Ch=!1;function Jk(e){Rn===null?Rn=[e]:Rn.push(e)}function GC(e){Cf=!0,Jk(e)}function ai(){if(!Ch&&Rn!==null){Ch=!0;var e=0,t=yt;try{var r=Rn;for(yt=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Rn=null,Cf=!1}catch(n){throw Rn!==null&&(Rn=Rn.slice(e+1)),_k(wx,ai),n}finally{yt=t,Ch=!1}}return null}var Ao=[],jo=0,_0=null,E0=0,Ns=[],Cs=0,Hi=null,Mn=1,Ln="";function hi(e,t){Ao[jo++]=E0,Ao[jo++]=_0,_0=e,E0=t}function eS(e,t,r){Ns[Cs++]=Mn,Ns[Cs++]=Ln,Ns[Cs++]=Hi,Hi=e;var s=Mn;e=Ln;var n=32-Qs(s)-1;s&=~(1<<n),r+=1;var a=32-Qs(t)+n;if(30<a){var i=n-n%5;a=(s&(1<<i)-1).toString(32),s>>=i,n-=i,Mn=1<<32-Qs(t)+n|r<<n|s,Ln=a+e}else Mn=1<<a|r<<n|s,Ln=e}function Ax(e){e.return!==null&&(hi(e,1),eS(e,1,0))}function jx(e){for(;e===_0;)_0=Ao[--jo],Ao[jo]=null,E0=Ao[--jo],Ao[jo]=null;for(;e===Hi;)Hi=Ns[--Cs],Ns[Cs]=null,Ln=Ns[--Cs],Ns[Cs]=null,Mn=Ns[--Cs],Ns[Cs]=null}var ds=null,us=null,Et=!1,Hs=null;function tS(e,t){var r=As(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Y1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ds=e,us=La(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ds=e,us=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hi!==null?{id:Mn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=As(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ds=e,us=null,!0):!1;default:return!1}}function Om(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Im(e){if(Et){var t=us;if(t){var r=t;if(!Y1(e,t)){if(Om(e))throw Error(Ee(418));t=La(r.nextSibling);var s=ds;t&&Y1(e,t)?tS(s,r):(e.flags=e.flags&-4097|2,Et=!1,ds=e)}}else{if(Om(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,Et=!1,ds=e}}}function X1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ds=e}function pd(e){if(e!==ds)return!1;if(!Et)return X1(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fm(e.type,e.memoizedProps)),t&&(t=us)){if(Om(e))throw rS(),Error(Ee(418));for(;t;)tS(e,t),t=La(t.nextSibling)}if(X1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){us=La(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}us=null}}else us=ds?La(e.stateNode.nextSibling):null;return!0}function rS(){for(var e=us;e;)e=La(e.nextSibling)}function ll(){us=ds=null,Et=!1}function Fx(e){Hs===null?Hs=[e]:Hs.push(e)}var qC=ta.ReactCurrentBatchConfig;function ql(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var s=r.stateNode}if(!s)throw Error(Ee(147,e));var n=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=n.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,e))}return e}function xd(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Q1(e){var t=e._init;return t(e._payload)}function sS(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function s(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function n(g,v){return g=$a(g,v),g.index=0,g.sibling=null,g}function a(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,w,b){return v===null||v.tag!==6?(v=Ph(w,g.mode,b),v.return=g,v):(v=n(v,w),v.return=g,v)}function u(g,v,w,b){var D=w.type;return D===bo?d(g,v,w.props.children,b,w.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ua&&Q1(D)===v.type)?(b=n(v,w.props),b.ref=ql(g,v,w),b.return=g,b):(b=r0(w.type,w.key,w.props,null,g.mode,b),b.ref=ql(g,v,w),b.return=g,b)}function c(g,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Oh(w,g.mode,b),v.return=g,v):(v=n(v,w.children||[]),v.return=g,v)}function d(g,v,w,b,D){return v===null||v.tag!==7?(v=Mi(w,g.mode,b,D),v.return=g,v):(v=n(v,w),v.return=g,v)}function f(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ph(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ad:return w=r0(v.type,v.key,v.props,null,g.mode,w),w.ref=ql(g,null,v),w.return=g,w;case So:return v=Oh(v,g.mode,w),v.return=g,v;case ua:var b=v._init;return f(g,b(v._payload),w)}if(nc(v)||Vl(v))return v=Mi(v,g.mode,w,null),v.return=g,v;xd(g,v)}return null}function h(g,v,w,b){var D=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return D!==null?null:l(g,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ad:return w.key===D?u(g,v,w,b):null;case So:return w.key===D?c(g,v,w,b):null;case ua:return D=w._init,h(g,v,D(w._payload),b)}if(nc(w)||Vl(w))return D!==null?null:d(g,v,w,b,null);xd(g,w)}return null}function p(g,v,w,b,D){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,l(v,g,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ad:return g=g.get(b.key===null?w:b.key)||null,u(v,g,b,D);case So:return g=g.get(b.key===null?w:b.key)||null,c(v,g,b,D);case ua:var A=b._init;return p(g,v,w,A(b._payload),D)}if(nc(b)||Vl(b))return g=g.get(w)||null,d(v,g,b,D,null);xd(v,b)}return null}function m(g,v,w,b){for(var D=null,A=null,_=v,S=v=0,k=null;_!==null&&S<w.length;S++){_.index>S?(k=_,_=null):k=_.sibling;var N=h(g,_,w[S],b);if(N===null){_===null&&(_=k);break}e&&_&&N.alternate===null&&t(g,_),v=a(N,v,S),A===null?D=N:A.sibling=N,A=N,_=k}if(S===w.length)return r(g,_),Et&&hi(g,S),D;if(_===null){for(;S<w.length;S++)_=f(g,w[S],b),_!==null&&(v=a(_,v,S),A===null?D=_:A.sibling=_,A=_);return Et&&hi(g,S),D}for(_=s(g,_);S<w.length;S++)k=p(_,g,S,w[S],b),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?S:k.key),v=a(k,v,S),A===null?D=k:A.sibling=k,A=k);return e&&_.forEach(function(C){return t(g,C)}),Et&&hi(g,S),D}function x(g,v,w,b){var D=Vl(w);if(typeof D!="function")throw Error(Ee(150));if(w=D.call(w),w==null)throw Error(Ee(151));for(var A=D=null,_=v,S=v=0,k=null,N=w.next();_!==null&&!N.done;S++,N=w.next()){_.index>S?(k=_,_=null):k=_.sibling;var C=h(g,_,N.value,b);if(C===null){_===null&&(_=k);break}e&&_&&C.alternate===null&&t(g,_),v=a(C,v,S),A===null?D=C:A.sibling=C,A=C,_=k}if(N.done)return r(g,_),Et&&hi(g,S),D;if(_===null){for(;!N.done;S++,N=w.next())N=f(g,N.value,b),N!==null&&(v=a(N,v,S),A===null?D=N:A.sibling=N,A=N);return Et&&hi(g,S),D}for(_=s(g,_);!N.done;S++,N=w.next())N=p(_,g,S,N.value,b),N!==null&&(e&&N.alternate!==null&&_.delete(N.key===null?S:N.key),v=a(N,v,S),A===null?D=N:A.sibling=N,A=N);return e&&_.forEach(function(E){return t(g,E)}),Et&&hi(g,S),D}function y(g,v,w,b){if(typeof w=="object"&&w!==null&&w.type===bo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ad:e:{for(var D=w.key,A=v;A!==null;){if(A.key===D){if(D=w.type,D===bo){if(A.tag===7){r(g,A.sibling),v=n(A,w.props.children),v.return=g,g=v;break e}}else if(A.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ua&&Q1(D)===A.type){r(g,A.sibling),v=n(A,w.props),v.ref=ql(g,A,w),v.return=g,g=v;break e}r(g,A);break}else t(g,A);A=A.sibling}w.type===bo?(v=Mi(w.props.children,g.mode,b,w.key),v.return=g,g=v):(b=r0(w.type,w.key,w.props,null,g.mode,b),b.ref=ql(g,v,w),b.return=g,g=b)}return i(g);case So:e:{for(A=w.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(g,v.sibling),v=n(v,w.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=Oh(w,g.mode,b),v.return=g,g=v}return i(g);case ua:return A=w._init,y(g,v,A(w._payload),b)}if(nc(w))return m(g,v,w,b);if(Vl(w))return x(g,v,w,b);xd(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(g,v.sibling),v=n(v,w),v.return=g,g=v):(r(g,v),v=Ph(w,g.mode,b),v.return=g,g=v),i(g)):r(g,v)}return y}var cl=sS(!0),nS=sS(!1),N0=ni(null),C0=null,Fo=null,Rx=null;function Dx(){Rx=Fo=C0=null}function Px(e){var t=N0.current;bt(N0),e._currentValue=t}function Mm(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Bo(e,t){C0=e,Rx=Fo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xr=!0),e.firstContext=null)}function Fs(e){var t=e._currentValue;if(Rx!==e)if(e={context:e,memoizedValue:t,next:null},Fo===null){if(C0===null)throw Error(Ee(308));Fo=e,C0.dependencies={lanes:0,firstContext:e}}else Fo=Fo.next=e;return t}var wi=null;function Ox(e){wi===null?wi=[e]:wi.push(e)}function aS(e,t,r,s){var n=t.interleaved;return n===null?(r.next=r,Ox(t)):(r.next=n.next,n.next=r),t.interleaved=r,Gn(e,s)}function Gn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var da=!1;function Ix(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,dt&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,Gn(e,r)}return n=s.interleaved,n===null?(t.next=t,Ox(s)):(t.next=n.next,n.next=t),s.interleaved=t,Gn(e,r)}function Xd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,kx(e,r)}}function Z1(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?n=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?n=a=t:a=a.next=t}else n=a=t;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function T0(e,t,r,s){var n=e.updateQueue;da=!1;var a=n.firstBaseUpdate,i=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var u=l,c=u.next;u.next=null,i===null?a=c:i.next=c,i=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(a!==null){var f=n.baseState;i=0,d=c=u=null,l=a;do{var h=l.lane,p=l.eventTime;if((s&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,x=l;switch(h=t,p=r,x.tag){case 1:if(m=x.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Ft({},f,h);break e;case 2:da=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=n.effects,h===null?n.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=p,u=f):d=d.next=p,i|=h;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;h=l,l=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(1);if(d===null&&(u=f),n.baseState=u,n.firstBaseUpdate=c,n.lastBaseUpdate=d,t=n.shared.interleaved,t!==null){n=t;do i|=n.lane,n=n.next;while(n!==t)}else a===null&&(n.shared.lanes=0);Ki|=i,e.lanes=i,e.memoizedState=f}}function J1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error(Ee(191,n));n.call(s)}}}var Bu={},vn=ni(Bu),Zc=ni(Bu),Jc=ni(Bu);function ki(e){if(e===Bu)throw Error(Ee(174));return e}function Mx(e,t){switch(wt(Jc,t),wt(Zc,e),wt(vn,Bu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gm(t,e)}bt(vn),wt(vn,t)}function ul(){bt(vn),bt(Zc),bt(Jc)}function oS(e){ki(Jc.current);var t=ki(vn.current),r=gm(t,e.type);t!==r&&(wt(Zc,e),wt(vn,r))}function Lx(e){Zc.current===e&&(bt(vn),bt(Zc))}var At=ni(0);function A0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Th=[];function Bx(){for(var e=0;e<Th.length;e++)Th[e]._workInProgressVersionPrimary=null;Th.length=0}var Qd=ta.ReactCurrentDispatcher,Ah=ta.ReactCurrentBatchConfig,Wi=0,jt=null,Yt=null,nr=null,j0=!1,Sc=!1,eu=0,YC=0;function gr(){throw Error(Ee(321))}function zx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tn(e[r],t[r]))return!1;return!0}function Ux(e,t,r,s,n,a){if(Wi=a,jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qd.current=e===null||e.memoizedState===null?JC:eT,e=r(s,n),Sc){a=0;do{if(Sc=!1,eu=0,25<=a)throw Error(Ee(301));a+=1,nr=Yt=null,t.updateQueue=null,Qd.current=tT,e=r(s,n)}while(Sc)}if(Qd.current=F0,t=Yt!==null&&Yt.next!==null,Wi=0,nr=Yt=jt=null,j0=!1,t)throw Error(Ee(300));return e}function $x(){var e=eu!==0;return eu=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?jt.memoizedState=nr=e:nr=nr.next=e,nr}function Rs(){if(Yt===null){var e=jt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var t=nr===null?jt.memoizedState:nr.next;if(t!==null)nr=t,Yt=e;else{if(e===null)throw Error(Ee(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},nr===null?jt.memoizedState=nr=e:nr=nr.next=e}return nr}function tu(e,t){return typeof t=="function"?t(e):t}function jh(e){var t=Rs(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var s=Yt,n=s.baseQueue,a=r.pending;if(a!==null){if(n!==null){var i=n.next;n.next=a.next,a.next=i}s.baseQueue=n=a,r.pending=null}if(n!==null){a=n.next,s=s.baseState;var l=i=null,u=null,c=a;do{var d=c.lane;if((Wi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,i=s):u=u.next=f,jt.lanes|=d,Ki|=d}c=c.next}while(c!==null&&c!==a);u===null?i=s:u.next=l,tn(s,t.memoizedState)||(Xr=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=u,r.lastRenderedState=s}if(e=r.interleaved,e!==null){n=e;do a=n.lane,jt.lanes|=a,Ki|=a,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fh(e){var t=Rs(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,a=t.memoizedState;if(n!==null){r.pending=null;var i=n=n.next;do a=e(a,i.action),i=i.next;while(i!==n);tn(a,t.memoizedState)||(Xr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function lS(){}function cS(e,t){var r=jt,s=Rs(),n=t(),a=!tn(s.memoizedState,n);if(a&&(s.memoizedState=n,Xr=!0),s=s.queue,Vx(fS.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||nr!==null&&nr.memoizedState.tag&1){if(r.flags|=2048,ru(9,dS.bind(null,r,s,n,t),void 0,null),ir===null)throw Error(Ee(349));Wi&30||uS(r,t,n)}return n}function uS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=jt.updateQueue,t===null?(t={lastEffect:null,stores:null},jt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dS(e,t,r,s){t.value=r,t.getSnapshot=s,hS(t)&&mS(e)}function fS(e,t,r){return r(function(){hS(t)&&mS(e)})}function hS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tn(e,r)}catch{return!0}}function mS(e){var t=Gn(e,1);t!==null&&Zs(t,e,1,-1)}function ey(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:e},t.queue=e,e=e.dispatch=ZC.bind(null,jt,e),[t.memoizedState,e]}function ru(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=jt.updateQueue,t===null?(t={lastEffect:null,stores:null},jt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function pS(){return Rs().memoizedState}function Zd(e,t,r,s){var n=ln();jt.flags|=e,n.memoizedState=ru(1|t,r,void 0,s===void 0?null:s)}function Tf(e,t,r,s){var n=Rs();s=s===void 0?null:s;var a=void 0;if(Yt!==null){var i=Yt.memoizedState;if(a=i.destroy,s!==null&&zx(s,i.deps)){n.memoizedState=ru(t,r,a,s);return}}jt.flags|=e,n.memoizedState=ru(1|t,r,a,s)}function ty(e,t){return Zd(8390656,8,e,t)}function Vx(e,t){return Tf(2048,8,e,t)}function xS(e,t){return Tf(4,2,e,t)}function gS(e,t){return Tf(4,4,e,t)}function yS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vS(e,t,r){return r=r!=null?r.concat([e]):null,Tf(4,4,yS.bind(null,t,e),r)}function Hx(){}function wS(e,t){var r=Rs();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&zx(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function kS(e,t){var r=Rs();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&zx(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function SS(e,t,r){return Wi&21?(tn(r,t)||(r=Ck(),jt.lanes|=r,Ki|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xr=!0),e.memoizedState=r)}function XC(e,t){var r=yt;yt=r!==0&&4>r?r:4,e(!0);var s=Ah.transition;Ah.transition={};try{e(!1),t()}finally{yt=r,Ah.transition=s}}function bS(){return Rs().memoizedState}function QC(e,t,r){var s=Ua(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},_S(e))ES(t,r);else if(r=aS(e,t,r,s),r!==null){var n=Ir();Zs(r,e,s,n),NS(r,t,s)}}function ZC(e,t,r){var s=Ua(e),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(_S(e))ES(t,n);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(n.hasEagerState=!0,n.eagerState=l,tn(l,i)){var u=t.interleaved;u===null?(n.next=n,Ox(t)):(n.next=u.next,u.next=n),t.interleaved=n;return}}catch{}finally{}r=aS(e,t,n,s),r!==null&&(n=Ir(),Zs(r,e,s,n),NS(r,t,s))}}function _S(e){var t=e.alternate;return e===jt||t!==null&&t===jt}function ES(e,t){Sc=j0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function NS(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,kx(e,r)}}var F0={readContext:Fs,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},JC={readContext:Fs,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Fs,useEffect:ty,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zd(4194308,4,yS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zd(4,2,e,t)},useMemo:function(e,t){var r=ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=ln();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=QC.bind(null,jt,e),[s.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:ey,useDebugValue:Hx,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=ey(!1),t=e[0];return e=XC.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=jt,n=ln();if(Et){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=t(),ir===null)throw Error(Ee(349));Wi&30||uS(s,t,r)}n.memoizedState=r;var a={value:r,getSnapshot:t};return n.queue=a,ty(fS.bind(null,s,a,e),[e]),s.flags|=2048,ru(9,dS.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=ln(),t=ir.identifierPrefix;if(Et){var r=Ln,s=Mn;r=(s&~(1<<32-Qs(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=eu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=YC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eT={readContext:Fs,useCallback:wS,useContext:Fs,useEffect:Vx,useImperativeHandle:vS,useInsertionEffect:xS,useLayoutEffect:gS,useMemo:kS,useReducer:jh,useRef:pS,useState:function(){return jh(tu)},useDebugValue:Hx,useDeferredValue:function(e){var t=Rs();return SS(t,Yt.memoizedState,e)},useTransition:function(){var e=jh(tu)[0],t=Rs().memoizedState;return[e,t]},useMutableSource:lS,useSyncExternalStore:cS,useId:bS,unstable_isNewReconciler:!1},tT={readContext:Fs,useCallback:wS,useContext:Fs,useEffect:Vx,useImperativeHandle:vS,useInsertionEffect:xS,useLayoutEffect:gS,useMemo:kS,useReducer:Fh,useRef:pS,useState:function(){return Fh(tu)},useDebugValue:Hx,useDeferredValue:function(e){var t=Rs();return Yt===null?t.memoizedState=e:SS(t,Yt.memoizedState,e)},useTransition:function(){var e=Fh(tu)[0],t=Rs().memoizedState;return[e,t]},useMutableSource:lS,useSyncExternalStore:cS,useId:bS,unstable_isNewReconciler:!1};function zs(e,t){if(e&&e.defaultProps){t=Ft({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Lm(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Ft({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Af={isMounted:function(e){return(e=e._reactInternals)?ao(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Ir(),n=Ua(e),a=zn(s,n);a.payload=t,r!=null&&(a.callback=r),t=Ba(e,a,n),t!==null&&(Zs(t,e,n,s),Xd(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Ir(),n=Ua(e),a=zn(s,n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ba(e,a,n),t!==null&&(Zs(t,e,n,s),Xd(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ir(),s=Ua(e),n=zn(r,s);n.tag=2,t!=null&&(n.callback=t),t=Ba(e,n,s),t!==null&&(Zs(t,e,s,r),Xd(t,e,s))}};function ry(e,t,r,s,n,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!qc(r,s)||!qc(n,a):!0}function CS(e,t,r){var s=!1,n=Qa,a=t.contextType;return typeof a=="object"&&a!==null?a=Fs(a):(n=Jr(t)?Vi:Nr.current,s=t.contextTypes,a=(s=s!=null)?ol(e,n):Qa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Af,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function sy(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Af.enqueueReplaceState(t,t.state,null)}function Bm(e,t,r,s){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Ix(e);var a=t.contextType;typeof a=="object"&&a!==null?n.context=Fs(a):(a=Jr(t)?Vi:Nr.current,n.context=ol(e,a)),n.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Lm(e,t,a,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&Af.enqueueReplaceState(n,n.state,null),T0(e,r,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function dl(e,t){try{var r="",s=t;do r+=A4(s),s=s.return;while(s);var n=r}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:n,digest:null}}function Rh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var rT=typeof WeakMap=="function"?WeakMap:Map;function TS(e,t,r){r=zn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){D0||(D0=!0,Xm=s),zm(e,t)},r}function AS(e,t,r){r=zn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=t.value;r.payload=function(){return s(n)},r.callback=function(){zm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){zm(e,t),typeof s!="function"&&(za===null?za=new Set([this]):za.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function ny(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new rT;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(r)||(n.add(r),e=xT.bind(null,e,t,r),t.then(e,e))}function ay(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iy(e,t,r,s,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=zn(-1,1),t.tag=2,Ba(r,t,1))),r.lanes|=1),e)}var sT=ta.ReactCurrentOwner,Xr=!1;function Fr(e,t,r,s){t.child=e===null?nS(t,null,r,s):cl(t,e.child,r,s)}function oy(e,t,r,s,n){r=r.render;var a=t.ref;return Bo(t,n),s=Ux(e,t,r,s,a,n),r=$x(),e!==null&&!Xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,qn(e,t,n)):(Et&&r&&Ax(t),t.flags|=1,Fr(e,t,s,n),t.child)}function ly(e,t,r,s,n){if(e===null){var a=r.type;return typeof a=="function"&&!Zx(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,jS(e,t,a,s,n)):(e=r0(r.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&n)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:qc,r(i,s)&&e.ref===t.ref)return qn(e,t,n)}return t.flags|=1,e=$a(a,s),e.ref=t.ref,e.return=t,t.child=e}function jS(e,t,r,s,n){if(e!==null){var a=e.memoizedProps;if(qc(a,s)&&e.ref===t.ref)if(Xr=!1,t.pendingProps=s=a,(e.lanes&n)!==0)e.flags&131072&&(Xr=!0);else return t.lanes=e.lanes,qn(e,t,n)}return Um(e,t,r,s,n)}function FS(e,t,r){var s=t.pendingProps,n=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Do,ns),ns|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wt(Do,ns),ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,wt(Do,ns),ns|=s}else a!==null?(s=a.baseLanes|r,t.memoizedState=null):s=r,wt(Do,ns),ns|=s;return Fr(e,t,n,r),t.child}function RS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Um(e,t,r,s,n){var a=Jr(r)?Vi:Nr.current;return a=ol(t,a),Bo(t,n),r=Ux(e,t,r,s,a,n),s=$x(),e!==null&&!Xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,qn(e,t,n)):(Et&&s&&Ax(t),t.flags|=1,Fr(e,t,r,n),t.child)}function cy(e,t,r,s,n){if(Jr(r)){var a=!0;b0(t)}else a=!1;if(Bo(t,n),t.stateNode===null)Jd(e,t),CS(t,r,s),Bm(t,r,s,n),s=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var u=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Fs(c):(c=Jr(r)?Vi:Nr.current,c=ol(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==s||u!==c)&&sy(t,i,s,c),da=!1;var h=t.memoizedState;i.state=h,T0(t,s,i,n),u=t.memoizedState,l!==s||h!==u||Zr.current||da?(typeof d=="function"&&(Lm(t,r,d,s),u=t.memoizedState),(l=da||ry(t,r,l,s,h,u,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),i.props=s,i.state=u,i.context=c,s=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,iS(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:zs(t.type,l),i.props=c,f=t.pendingProps,h=i.context,u=r.contextType,typeof u=="object"&&u!==null?u=Fs(u):(u=Jr(r)?Vi:Nr.current,u=ol(t,u));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==u)&&sy(t,i,s,u),da=!1,h=t.memoizedState,i.state=h,T0(t,s,i,n);var m=t.memoizedState;l!==f||h!==m||Zr.current||da?(typeof p=="function"&&(Lm(t,r,p,s),m=t.memoizedState),(c=da||ry(t,r,c,s,h,m,u)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,m,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,m,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),i.props=s,i.state=m,i.context=u,s=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return $m(e,t,r,s,a,n)}function $m(e,t,r,s,n,a){RS(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return n&&q1(t,r,!1),qn(e,t,a);s=t.stateNode,sT.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=cl(t,e.child,null,a),t.child=cl(t,null,l,a)):Fr(e,t,l,a),t.memoizedState=s.state,n&&q1(t,r,!0),t.child}function DS(e){var t=e.stateNode;t.pendingContext?G1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&G1(e,t.context,!1),Mx(e,t.containerInfo)}function uy(e,t,r,s,n){return ll(),Fx(n),t.flags|=256,Fr(e,t,r,s),t.child}var Vm={dehydrated:null,treeContext:null,retryLane:0};function Hm(e){return{baseLanes:e,cachePool:null,transitions:null}}function PS(e,t,r){var s=t.pendingProps,n=At.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),wt(At,n&1),e===null)return Im(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Rf(i,s,0,null),e=Mi(e,s,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hm(r),t.memoizedState=Vm,e):Wx(t,i));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return nT(e,t,i,s,l,n,r);if(a){a=s.fallback,i=t.mode,n=e.child,l=n.sibling;var u={mode:"hidden",children:s.children};return!(i&1)&&t.child!==n?(s=t.child,s.childLanes=0,s.pendingProps=u,t.deletions=null):(s=$a(n,u),s.subtreeFlags=n.subtreeFlags&14680064),l!==null?a=$a(l,a):(a=Mi(a,i,r,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?Hm(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Vm,s}return a=e.child,e=a.sibling,s=$a(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Wx(e,t){return t=Rf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gd(e,t,r,s){return s!==null&&Fx(s),cl(t,e.child,null,r),e=Wx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nT(e,t,r,s,n,a,i){if(r)return t.flags&256?(t.flags&=-257,s=Rh(Error(Ee(422))),gd(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,n=t.mode,s=Rf({mode:"visible",children:s.children},n,0,null),a=Mi(a,n,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&cl(t,e.child,null,i),t.child.memoizedState=Hm(i),t.memoizedState=Vm,a);if(!(t.mode&1))return gd(e,t,i,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(Ee(419)),s=Rh(a,s,void 0),gd(e,t,i,s)}if(l=(i&e.childLanes)!==0,Xr||l){if(s=ir,s!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|i)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,Gn(e,n),Zs(s,e,n,-1))}return Qx(),s=Rh(Error(Ee(421))),gd(e,t,i,s)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=gT.bind(null,e),n._reactRetry=t,null):(e=a.treeContext,us=La(n.nextSibling),ds=t,Et=!0,Hs=null,e!==null&&(Ns[Cs++]=Mn,Ns[Cs++]=Ln,Ns[Cs++]=Hi,Mn=e.id,Ln=e.overflow,Hi=t),t=Wx(t,s.children),t.flags|=4096,t)}function dy(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Mm(e.return,t,r)}function Dh(e,t,r,s,n){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=n)}function OS(e,t,r){var s=t.pendingProps,n=s.revealOrder,a=s.tail;if(Fr(e,t,s.children,r),s=At.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,r,t);else if(e.tag===19)dy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(wt(At,s),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&A0(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Dh(t,!1,n,r,a);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&A0(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Dh(t,!0,r,null,a);break;case"together":Dh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ki|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,r=$a(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$a(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aT(e,t,r){switch(t.tag){case 3:DS(t),ll();break;case 5:oS(t);break;case 1:Jr(t.type)&&b0(t);break;case 4:Mx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;wt(N0,s._currentValue),s._currentValue=n;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(wt(At,At.current&1),t.flags|=128,null):r&t.child.childLanes?PS(e,t,r):(wt(At,At.current&1),e=qn(e,t,r),e!==null?e.sibling:null);wt(At,At.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return OS(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),wt(At,At.current),s)break;return null;case 22:case 23:return t.lanes=0,FS(e,t,r)}return qn(e,t,r)}var IS,Wm,MS,LS;IS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wm=function(){};MS=function(e,t,r,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,ki(vn.current);var a=null;switch(r){case"input":n=hm(e,n),s=hm(e,s),a=[];break;case"select":n=Ft({},n,{value:void 0}),s=Ft({},s,{value:void 0}),a=[];break;case"textarea":n=xm(e,n),s=xm(e,s),a=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=k0)}ym(r,s);var i;r=null;for(c in n)if(!s.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var l=n[c];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Uc.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in s){var u=s[c];if(l=n!=null?n[c]:void 0,s.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(r||(r={}),r[i]=u[i])}else r||(a||(a=[]),a.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Uc.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&St("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};LS=function(e,t,r,s){r!==s&&(t.flags|=4)};function Yl(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function yr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function iT(e,t,r){var s=t.pendingProps;switch(jx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(t),null;case 1:return Jr(t.type)&&S0(),yr(t),null;case 3:return s=t.stateNode,ul(),bt(Zr),bt(Nr),Bx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hs!==null&&(Jm(Hs),Hs=null))),Wm(e,t),yr(t),null;case 5:Lx(t);var n=ki(Jc.current);if(r=t.type,e!==null&&t.stateNode!=null)MS(e,t,r,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ee(166));return yr(t),null}if(e=ki(vn.current),pd(t)){s=t.stateNode,r=t.type;var a=t.memoizedProps;switch(s[hn]=t,s[Qc]=a,e=(t.mode&1)!==0,r){case"dialog":St("cancel",s),St("close",s);break;case"iframe":case"object":case"embed":St("load",s);break;case"video":case"audio":for(n=0;n<ic.length;n++)St(ic[n],s);break;case"source":St("error",s);break;case"img":case"image":case"link":St("error",s),St("load",s);break;case"details":St("toggle",s);break;case"input":w1(s,a),St("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},St("invalid",s);break;case"textarea":S1(s,a),St("invalid",s)}ym(r,a),n=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&md(s.textContent,l,e),n=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&md(s.textContent,l,e),n=["children",""+l]):Uc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&St("scroll",s)}switch(r){case"input":id(s),k1(s,a,!0);break;case"textarea":id(s),b1(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=k0)}s=n,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[hn]=t,e[Qc]=s,IS(e,t,!1,!1),t.stateNode=e;e:{switch(i=vm(r,s),r){case"dialog":St("cancel",e),St("close",e),n=s;break;case"iframe":case"object":case"embed":St("load",e),n=s;break;case"video":case"audio":for(n=0;n<ic.length;n++)St(ic[n],e);n=s;break;case"source":St("error",e),n=s;break;case"img":case"image":case"link":St("error",e),St("load",e),n=s;break;case"details":St("toggle",e),n=s;break;case"input":w1(e,s),n=hm(e,s),St("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=Ft({},s,{value:void 0}),St("invalid",e);break;case"textarea":S1(e,s),n=xm(e,s),St("invalid",e);break;default:n=s}ym(r,n),l=n;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="style"?pk(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&hk(e,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&$c(e,u):typeof u=="number"&&$c(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Uc.hasOwnProperty(a)?u!=null&&a==="onScroll"&&St("scroll",e):u!=null&&px(e,a,u,i))}switch(r){case"input":id(e),k1(e,s,!1);break;case"textarea":id(e),b1(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Xa(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Oo(e,!!s.multiple,a,!1):s.defaultValue!=null&&Oo(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=k0)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yr(t),null;case 6:if(e&&t.stateNode!=null)LS(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ee(166));if(r=ki(Jc.current),ki(vn.current),pd(t)){if(s=t.stateNode,r=t.memoizedProps,s[hn]=t,(a=s.nodeValue!==r)&&(e=ds,e!==null))switch(e.tag){case 3:md(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&md(s.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[hn]=t,t.stateNode=s}return yr(t),null;case 13:if(bt(At),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&us!==null&&t.mode&1&&!(t.flags&128))rS(),ll(),t.flags|=98560,a=!1;else if(a=pd(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(Ee(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ee(317));a[hn]=t}else ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yr(t),a=!1}else Hs!==null&&(Jm(Hs),Hs=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||At.current&1?Qt===0&&(Qt=3):Qx())),t.updateQueue!==null&&(t.flags|=4),yr(t),null);case 4:return ul(),Wm(e,t),e===null&&Yc(t.stateNode.containerInfo),yr(t),null;case 10:return Px(t.type._context),yr(t),null;case 17:return Jr(t.type)&&S0(),yr(t),null;case 19:if(bt(At),a=t.memoizedState,a===null)return yr(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)Yl(a,!1);else{if(Qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=A0(e),i!==null){for(t.flags|=128,Yl(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)a=r,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return wt(At,At.current&1|2),t.child}e=e.sibling}a.tail!==null&&zt()>fl&&(t.flags|=128,s=!0,Yl(a,!1),t.lanes=4194304)}else{if(!s)if(e=A0(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Et)return yr(t),null}else 2*zt()-a.renderingStartTime>fl&&r!==1073741824&&(t.flags|=128,s=!0,Yl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=zt(),t.sibling=null,r=At.current,wt(At,s?r&1|2:r&1),t):(yr(t),null);case 22:case 23:return Xx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ns&1073741824&&(yr(t),t.subtreeFlags&6&&(t.flags|=8192)):yr(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function oT(e,t){switch(jx(t),t.tag){case 1:return Jr(t.type)&&S0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ul(),bt(Zr),bt(Nr),Bx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lx(t),null;case 13:if(bt(At),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(At),null;case 4:return ul(),null;case 10:return Px(t.type._context),null;case 22:case 23:return Xx(),null;case 24:return null;default:return null}}var yd=!1,kr=!1,lT=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Ro(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Pt(e,t,s)}else r.current=null}function Km(e,t,r){try{r()}catch(s){Pt(e,t,s)}}var fy=!1;function cT(e,t){if(Am=y0,e=Vk(),Tx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||n!==0&&f.nodeType!==3||(l=i+n),f!==a||s!==0&&f.nodeType!==3||(u=i+s),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===n&&(l=i),h===a&&++d===s&&(u=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(jm={focusedElem:e,selectionRange:r},y0=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,y=m.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:zs(t.type,x),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(b){Pt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return m=fy,fy=!1,m}function bc(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,a!==void 0&&Km(t,r,a)}n=n.next}while(n!==s)}}function jf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Gm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function BS(e){var t=e.alternate;t!==null&&(e.alternate=null,BS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hn],delete t[Qc],delete t[Dm],delete t[WC],delete t[KC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zS(e){return e.tag===5||e.tag===3||e.tag===4}function hy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qm(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=k0));else if(s!==4&&(e=e.child,e!==null))for(qm(e,t,r),e=e.sibling;e!==null;)qm(e,t,r),e=e.sibling}function Ym(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ym(e,t,r),e=e.sibling;e!==null;)Ym(e,t,r),e=e.sibling}var cr=null,Vs=!1;function aa(e,t,r){for(r=r.child;r!==null;)US(e,t,r),r=r.sibling}function US(e,t,r){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Sf,r)}catch{}switch(r.tag){case 5:kr||Ro(r,t);case 6:var s=cr,n=Vs;cr=null,aa(e,t,r),cr=s,Vs=n,cr!==null&&(Vs?(e=cr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):cr.removeChild(r.stateNode));break;case 18:cr!==null&&(Vs?(e=cr,r=r.stateNode,e.nodeType===8?Nh(e.parentNode,r):e.nodeType===1&&Nh(e,r),Kc(e)):Nh(cr,r.stateNode));break;case 4:s=cr,n=Vs,cr=r.stateNode.containerInfo,Vs=!0,aa(e,t,r),cr=s,Vs=n;break;case 0:case 11:case 14:case 15:if(!kr&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var a=n,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Km(r,t,i),n=n.next}while(n!==s)}aa(e,t,r);break;case 1:if(!kr&&(Ro(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Pt(r,t,l)}aa(e,t,r);break;case 21:aa(e,t,r);break;case 22:r.mode&1?(kr=(s=kr)||r.memoizedState!==null,aa(e,t,r),kr=s):aa(e,t,r);break;default:aa(e,t,r)}}function my(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new lT),t.forEach(function(s){var n=yT.bind(null,e,s);r.has(s)||(r.add(s),s.then(n,n))})}}function Is(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:cr=l.stateNode,Vs=!1;break e;case 3:cr=l.stateNode.containerInfo,Vs=!0;break e;case 4:cr=l.stateNode.containerInfo,Vs=!0;break e}l=l.return}if(cr===null)throw Error(Ee(160));US(a,i,n),cr=null,Vs=!1;var u=n.alternate;u!==null&&(u.return=null),n.return=null}catch(c){Pt(n,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$S(t,e),t=t.sibling}function $S(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Is(t,e),sn(e),s&4){try{bc(3,e,e.return),jf(3,e)}catch(x){Pt(e,e.return,x)}try{bc(5,e,e.return)}catch(x){Pt(e,e.return,x)}}break;case 1:Is(t,e),sn(e),s&512&&r!==null&&Ro(r,r.return);break;case 5:if(Is(t,e),sn(e),s&512&&r!==null&&Ro(r,r.return),e.flags&32){var n=e.stateNode;try{$c(n,"")}catch(x){Pt(e,e.return,x)}}if(s&4&&(n=e.stateNode,n!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&uk(n,a),vm(l,i);var c=vm(l,a);for(i=0;i<u.length;i+=2){var d=u[i],f=u[i+1];d==="style"?pk(n,f):d==="dangerouslySetInnerHTML"?hk(n,f):d==="children"?$c(n,f):px(n,d,f,c)}switch(l){case"input":mm(n,a);break;case"textarea":dk(n,a);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Oo(n,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Oo(n,!!a.multiple,a.defaultValue,!0):Oo(n,!!a.multiple,a.multiple?[]:"",!1))}n[Qc]=a}catch(x){Pt(e,e.return,x)}}break;case 6:if(Is(t,e),sn(e),s&4){if(e.stateNode===null)throw Error(Ee(162));n=e.stateNode,a=e.memoizedProps;try{n.nodeValue=a}catch(x){Pt(e,e.return,x)}}break;case 3:if(Is(t,e),sn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Kc(t.containerInfo)}catch(x){Pt(e,e.return,x)}break;case 4:Is(t,e),sn(e);break;case 13:Is(t,e),sn(e),n=e.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(qx=zt())),s&4&&my(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(kr=(c=kr)||d,Is(t,e),kr=c):Is(t,e),sn(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Ie=e,d=e.child;d!==null;){for(f=Ie=d;Ie!==null;){switch(h=Ie,p=h.child,h.tag){case 0:case 11:case 14:case 15:bc(4,h,h.return);break;case 1:Ro(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){Pt(s,r,x)}}break;case 5:Ro(h,h.return);break;case 22:if(h.memoizedState!==null){xy(f);continue}}p!==null?(p.return=h,Ie=p):xy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{n=f.stateNode,c?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,u=f.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=mk("display",i))}catch(x){Pt(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Pt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Is(t,e),sn(e),s&4&&my(e);break;case 21:break;default:Is(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(zS(r)){var s=r;break e}r=r.return}throw Error(Ee(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&($c(n,""),s.flags&=-33);var a=hy(e);Ym(e,a,n);break;case 3:case 4:var i=s.stateNode.containerInfo,l=hy(e);qm(e,l,i);break;default:throw Error(Ee(161))}}catch(u){Pt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uT(e,t,r){Ie=e,VS(e)}function VS(e,t,r){for(var s=(e.mode&1)!==0;Ie!==null;){var n=Ie,a=n.child;if(n.tag===22&&s){var i=n.memoizedState!==null||yd;if(!i){var l=n.alternate,u=l!==null&&l.memoizedState!==null||kr;l=yd;var c=kr;if(yd=i,(kr=u)&&!c)for(Ie=n;Ie!==null;)i=Ie,u=i.child,i.tag===22&&i.memoizedState!==null?gy(n):u!==null?(u.return=i,Ie=u):gy(n);for(;a!==null;)Ie=a,VS(a),a=a.sibling;Ie=n,yd=l,kr=c}py(e)}else n.subtreeFlags&8772&&a!==null?(a.return=n,Ie=a):py(e)}}function py(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kr||jf(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!kr)if(r===null)s.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:zs(t.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&J1(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}J1(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Kc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}kr||t.flags&512&&Gm(t)}catch(h){Pt(t,t.return,h)}}if(t===e){Ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function xy(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function gy(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jf(4,t)}catch(u){Pt(t,r,u)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var n=t.return;try{s.componentDidMount()}catch(u){Pt(t,n,u)}}var a=t.return;try{Gm(t)}catch(u){Pt(t,a,u)}break;case 5:var i=t.return;try{Gm(t)}catch(u){Pt(t,i,u)}}}catch(u){Pt(t,t.return,u)}if(t===e){Ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ie=l;break}Ie=t.return}}var dT=Math.ceil,R0=ta.ReactCurrentDispatcher,Kx=ta.ReactCurrentOwner,js=ta.ReactCurrentBatchConfig,dt=0,ir=null,Wt=null,fr=0,ns=0,Do=ni(0),Qt=0,su=null,Ki=0,Ff=0,Gx=0,_c=null,Yr=null,qx=0,fl=1/0,Fn=null,D0=!1,Xm=null,za=null,vd=!1,Aa=null,P0=0,Ec=0,Qm=null,e0=-1,t0=0;function Ir(){return dt&6?zt():e0!==-1?e0:e0=zt()}function Ua(e){return e.mode&1?dt&2&&fr!==0?fr&-fr:qC.transition!==null?(t0===0&&(t0=Ck()),t0):(e=yt,e!==0||(e=window.event,e=e===void 0?16:Pk(e.type)),e):1}function Zs(e,t,r,s){if(50<Ec)throw Ec=0,Qm=null,Error(Ee(185));Iu(e,r,s),(!(dt&2)||e!==ir)&&(e===ir&&(!(dt&2)&&(Ff|=r),Qt===4&&ma(e,fr)),es(e,s),r===1&&dt===0&&!(t.mode&1)&&(fl=zt()+500,Cf&&ai()))}function es(e,t){var r=e.callbackNode;q4(e,t);var s=g0(e,e===ir?fr:0);if(s===0)r!==null&&N1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&N1(r),t===1)e.tag===0?GC(yy.bind(null,e)):Jk(yy.bind(null,e)),VC(function(){!(dt&6)&&ai()}),r=null;else{switch(Tk(s)){case 1:r=wx;break;case 4:r=Ek;break;case 16:r=x0;break;case 536870912:r=Nk;break;default:r=x0}r=QS(r,HS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function HS(e,t){if(e0=-1,t0=0,dt&6)throw Error(Ee(327));var r=e.callbackNode;if(zo()&&e.callbackNode!==r)return null;var s=g0(e,e===ir?fr:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=O0(e,s);else{t=s;var n=dt;dt|=2;var a=KS();(ir!==e||fr!==t)&&(Fn=null,fl=zt()+500,Ii(e,t));do try{mT();break}catch(l){WS(e,l)}while(1);Dx(),R0.current=a,dt=n,Wt!==null?t=0:(ir=null,fr=0,t=Qt)}if(t!==0){if(t===2&&(n=_m(e),n!==0&&(s=n,t=Zm(e,n))),t===1)throw r=su,Ii(e,0),ma(e,s),es(e,zt()),r;if(t===6)ma(e,s);else{if(n=e.current.alternate,!(s&30)&&!fT(n)&&(t=O0(e,s),t===2&&(a=_m(e),a!==0&&(s=a,t=Zm(e,a))),t===1))throw r=su,Ii(e,0),ma(e,s),es(e,zt()),r;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(Ee(345));case 2:mi(e,Yr,Fn);break;case 3:if(ma(e,s),(s&130023424)===s&&(t=qx+500-zt(),10<t)){if(g0(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){Ir(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Rm(mi.bind(null,e,Yr,Fn),t);break}mi(e,Yr,Fn);break;case 4:if(ma(e,s),(s&4194240)===s)break;for(t=e.eventTimes,n=-1;0<s;){var i=31-Qs(s);a=1<<i,i=t[i],i>n&&(n=i),s&=~a}if(s=n,s=zt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*dT(s/1960))-s,10<s){e.timeoutHandle=Rm(mi.bind(null,e,Yr,Fn),s);break}mi(e,Yr,Fn);break;case 5:mi(e,Yr,Fn);break;default:throw Error(Ee(329))}}}return es(e,zt()),e.callbackNode===r?HS.bind(null,e):null}function Zm(e,t){var r=_c;return e.current.memoizedState.isDehydrated&&(Ii(e,t).flags|=256),e=O0(e,t),e!==2&&(t=Yr,Yr=r,t!==null&&Jm(t)),e}function Jm(e){Yr===null?Yr=e:Yr.push.apply(Yr,e)}function fT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],a=n.getSnapshot;n=n.value;try{if(!tn(a(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ma(e,t){for(t&=~Gx,t&=~Ff,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qs(t),s=1<<r;e[r]=-1,t&=~s}}function yy(e){if(dt&6)throw Error(Ee(327));zo();var t=g0(e,0);if(!(t&1))return es(e,zt()),null;var r=O0(e,t);if(e.tag!==0&&r===2){var s=_m(e);s!==0&&(t=s,r=Zm(e,s))}if(r===1)throw r=su,Ii(e,0),ma(e,t),es(e,zt()),r;if(r===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mi(e,Yr,Fn),es(e,zt()),null}function Yx(e,t){var r=dt;dt|=1;try{return e(t)}finally{dt=r,dt===0&&(fl=zt()+500,Cf&&ai())}}function Gi(e){Aa!==null&&Aa.tag===0&&!(dt&6)&&zo();var t=dt;dt|=1;var r=js.transition,s=yt;try{if(js.transition=null,yt=1,e)return e()}finally{yt=s,js.transition=r,dt=t,!(dt&6)&&ai()}}function Xx(){ns=Do.current,bt(Do)}function Ii(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$C(r)),Wt!==null)for(r=Wt.return;r!==null;){var s=r;switch(jx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&S0();break;case 3:ul(),bt(Zr),bt(Nr),Bx();break;case 5:Lx(s);break;case 4:ul();break;case 13:bt(At);break;case 19:bt(At);break;case 10:Px(s.type._context);break;case 22:case 23:Xx()}r=r.return}if(ir=e,Wt=e=$a(e.current,null),fr=ns=t,Qt=0,su=null,Gx=Ff=Ki=0,Yr=_c=null,wi!==null){for(t=0;t<wi.length;t++)if(r=wi[t],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,a=r.pending;if(a!==null){var i=a.next;a.next=n,s.next=i}r.pending=s}wi=null}return e}function WS(e,t){do{var r=Wt;try{if(Dx(),Qd.current=F0,j0){for(var s=jt.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}j0=!1}if(Wi=0,nr=Yt=jt=null,Sc=!1,eu=0,Kx.current=null,r===null||r.return===null){Qt=1,su=t,Wt=null;break}e:{var a=e,i=r.return,l=r,u=t;if(t=fr,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ay(i);if(p!==null){p.flags&=-257,iy(p,i,l,a,t),p.mode&1&&ny(a,c,t),t=p,u=c;var m=t.updateQueue;if(m===null){var x=new Set;x.add(u),t.updateQueue=x}else m.add(u);break e}else{if(!(t&1)){ny(a,c,t),Qx();break e}u=Error(Ee(426))}}else if(Et&&l.mode&1){var y=ay(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),iy(y,i,l,a,t),Fx(dl(u,l));break e}}a=u=dl(u,l),Qt!==4&&(Qt=2),_c===null?_c=[a]:_c.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=TS(a,u,t);Z1(a,g);break e;case 1:l=u;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(za===null||!za.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=AS(a,l,t);Z1(a,b);break e}}a=a.return}while(a!==null)}qS(r)}catch(D){t=D,Wt===r&&r!==null&&(Wt=r=r.return);continue}break}while(1)}function KS(){var e=R0.current;return R0.current=F0,e===null?F0:e}function Qx(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),ir===null||!(Ki&268435455)&&!(Ff&268435455)||ma(ir,fr)}function O0(e,t){var r=dt;dt|=2;var s=KS();(ir!==e||fr!==t)&&(Fn=null,Ii(e,t));do try{hT();break}catch(n){WS(e,n)}while(1);if(Dx(),dt=r,R0.current=s,Wt!==null)throw Error(Ee(261));return ir=null,fr=0,Qt}function hT(){for(;Wt!==null;)GS(Wt)}function mT(){for(;Wt!==null&&!B4();)GS(Wt)}function GS(e){var t=XS(e.alternate,e,ns);e.memoizedProps=e.pendingProps,t===null?qS(e):Wt=t,Kx.current=null}function qS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=oT(r,t),r!==null){r.flags&=32767,Wt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qt=6,Wt=null;return}}else if(r=iT(r,t,ns),r!==null){Wt=r;return}if(t=t.sibling,t!==null){Wt=t;return}Wt=t=e}while(t!==null);Qt===0&&(Qt=5)}function mi(e,t,r){var s=yt,n=js.transition;try{js.transition=null,yt=1,pT(e,t,r,s)}finally{js.transition=n,yt=s}return null}function pT(e,t,r,s){do zo();while(Aa!==null);if(dt&6)throw Error(Ee(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Y4(e,a),e===ir&&(Wt=ir=null,fr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vd||(vd=!0,QS(x0,function(){return zo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=js.transition,js.transition=null;var i=yt;yt=1;var l=dt;dt|=4,Kx.current=null,cT(e,r),$S(r,e),OC(jm),y0=!!Am,jm=Am=null,e.current=r,uT(r),z4(),dt=l,yt=i,js.transition=a}else e.current=r;if(vd&&(vd=!1,Aa=e,P0=n),a=e.pendingLanes,a===0&&(za=null),V4(r.stateNode),es(e,zt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(D0)throw D0=!1,e=Xm,Xm=null,e;return P0&1&&e.tag!==0&&zo(),a=e.pendingLanes,a&1?e===Qm?Ec++:(Ec=0,Qm=e):Ec=0,ai(),null}function zo(){if(Aa!==null){var e=Tk(P0),t=js.transition,r=yt;try{if(js.transition=null,yt=16>e?16:e,Aa===null)var s=!1;else{if(e=Aa,Aa=null,P0=0,dt&6)throw Error(Ee(331));var n=dt;for(dt|=4,Ie=e.current;Ie!==null;){var a=Ie,i=a.child;if(Ie.flags&16){var l=a.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Ie=c;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:bc(8,d,a)}var f=d.child;if(f!==null)f.return=d,Ie=f;else for(;Ie!==null;){d=Ie;var h=d.sibling,p=d.return;if(BS(d),d===c){Ie=null;break}if(h!==null){h.return=p,Ie=h;break}Ie=p}}}var m=a.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Ie=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,Ie=i;else e:for(;Ie!==null;){if(a=Ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bc(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Ie=g;break e}Ie=a.return}}var v=e.current;for(Ie=v;Ie!==null;){i=Ie;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Ie=w;else e:for(i=v;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jf(9,l)}}catch(D){Pt(l,l.return,D)}if(l===i){Ie=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Ie=b;break e}Ie=l.return}}if(dt=n,ai(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Sf,e)}catch{}s=!0}return s}finally{yt=r,js.transition=t}}return!1}function vy(e,t,r){t=dl(r,t),t=TS(e,t,1),e=Ba(e,t,1),t=Ir(),e!==null&&(Iu(e,1,t),es(e,t))}function Pt(e,t,r){if(e.tag===3)vy(e,e,r);else for(;t!==null;){if(t.tag===3){vy(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(za===null||!za.has(s))){e=dl(r,e),e=AS(t,e,1),t=Ba(t,e,1),e=Ir(),t!==null&&(Iu(t,1,e),es(t,e));break}}t=t.return}}function xT(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Ir(),e.pingedLanes|=e.suspendedLanes&r,ir===e&&(fr&r)===r&&(Qt===4||Qt===3&&(fr&130023424)===fr&&500>zt()-qx?Ii(e,0):Gx|=r),es(e,t)}function YS(e,t){t===0&&(e.mode&1?(t=cd,cd<<=1,!(cd&130023424)&&(cd=4194304)):t=1);var r=Ir();e=Gn(e,t),e!==null&&(Iu(e,t,r),es(e,r))}function gT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),YS(e,r)}function yT(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ee(314))}s!==null&&s.delete(t),YS(e,r)}var XS;XS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zr.current)Xr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xr=!1,aT(e,t,r);Xr=!!(e.flags&131072)}else Xr=!1,Et&&t.flags&1048576&&eS(t,E0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Jd(e,t),e=t.pendingProps;var n=ol(t,Nr.current);Bo(t,r),n=Ux(null,t,s,e,n,r);var a=$x();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jr(s)?(a=!0,b0(t)):a=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Ix(t),n.updater=Af,t.stateNode=n,n._reactInternals=t,Bm(t,s,e,r),t=$m(null,t,s,!0,a,r)):(t.tag=0,Et&&a&&Ax(t),Fr(null,t,n,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Jd(e,t),e=t.pendingProps,n=s._init,s=n(s._payload),t.type=s,n=t.tag=wT(s),e=zs(s,e),n){case 0:t=Um(null,t,s,e,r);break e;case 1:t=cy(null,t,s,e,r);break e;case 11:t=oy(null,t,s,e,r);break e;case 14:t=ly(null,t,s,zs(s.type,e),r);break e}throw Error(Ee(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:zs(s,n),Um(e,t,s,n,r);case 1:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:zs(s,n),cy(e,t,s,n,r);case 3:e:{if(DS(t),e===null)throw Error(Ee(387));s=t.pendingProps,a=t.memoizedState,n=a.element,iS(e,t),T0(t,s,null,r);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){n=dl(Error(Ee(423)),t),t=uy(e,t,s,r,n);break e}else if(s!==n){n=dl(Error(Ee(424)),t),t=uy(e,t,s,r,n);break e}else for(us=La(t.stateNode.containerInfo.firstChild),ds=t,Et=!0,Hs=null,r=nS(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ll(),s===n){t=qn(e,t,r);break e}Fr(e,t,s,r)}t=t.child}return t;case 5:return oS(t),e===null&&Im(t),s=t.type,n=t.pendingProps,a=e!==null?e.memoizedProps:null,i=n.children,Fm(s,n)?i=null:a!==null&&Fm(s,a)&&(t.flags|=32),RS(e,t),Fr(e,t,i,r),t.child;case 6:return e===null&&Im(t),null;case 13:return PS(e,t,r);case 4:return Mx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cl(t,null,s,r):Fr(e,t,s,r),t.child;case 11:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:zs(s,n),oy(e,t,s,n,r);case 7:return Fr(e,t,t.pendingProps,r),t.child;case 8:return Fr(e,t,t.pendingProps.children,r),t.child;case 12:return Fr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,a=t.memoizedProps,i=n.value,wt(N0,s._currentValue),s._currentValue=i,a!==null)if(tn(a.value,i)){if(a.children===n.children&&!Zr.current){t=qn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var u=l.firstContext;u!==null;){if(u.context===s){if(a.tag===1){u=zn(-1,r&-r),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),Mm(a.return,r,t),l.lanes|=r;break}u=u.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Ee(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Mm(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Fr(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,Bo(t,r),n=Fs(n),s=s(n),t.flags|=1,Fr(e,t,s,r),t.child;case 14:return s=t.type,n=zs(s,t.pendingProps),n=zs(s.type,n),ly(e,t,s,n,r);case 15:return jS(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:zs(s,n),Jd(e,t),t.tag=1,Jr(s)?(e=!0,b0(t)):e=!1,Bo(t,r),CS(t,s,n),Bm(t,s,n,r),$m(null,t,s,!0,e,r);case 19:return OS(e,t,r);case 22:return FS(e,t,r)}throw Error(Ee(156,t.tag))};function QS(e,t){return _k(e,t)}function vT(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function As(e,t,r,s){return new vT(e,t,r,s)}function Zx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wT(e){if(typeof e=="function")return Zx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gx)return 11;if(e===yx)return 14}return 2}function $a(e,t){var r=e.alternate;return r===null?(r=As(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function r0(e,t,r,s,n,a){var i=2;if(s=e,typeof e=="function")Zx(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bo:return Mi(r.children,n,a,t);case xx:i=8,n|=8;break;case cm:return e=As(12,r,t,n|2),e.elementType=cm,e.lanes=a,e;case um:return e=As(13,r,t,n),e.elementType=um,e.lanes=a,e;case dm:return e=As(19,r,t,n),e.elementType=dm,e.lanes=a,e;case ok:return Rf(r,n,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ak:i=10;break e;case ik:i=9;break e;case gx:i=11;break e;case yx:i=14;break e;case ua:i=16,s=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=As(i,r,t,n),t.elementType=e,t.type=s,t.lanes=a,t}function Mi(e,t,r,s){return e=As(7,e,s,t),e.lanes=r,e}function Rf(e,t,r,s){return e=As(22,e,s,t),e.elementType=ok,e.lanes=r,e.stateNode={isHidden:!1},e}function Ph(e,t,r){return e=As(6,e,null,t),e.lanes=r,e}function Oh(e,t,r){return t=As(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kT(e,t,r,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ph(0),this.expirationTimes=ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ph(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Jx(e,t,r,s,n,a,i,l,u){return e=new kT(e,t,r,l,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=As(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ix(a),e}function ST(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function ZS(e){if(!e)return Qa;e=e._reactInternals;e:{if(ao(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var r=e.type;if(Jr(r))return Zk(e,r,t)}return t}function JS(e,t,r,s,n,a,i,l,u){return e=Jx(r,s,!0,e,n,a,i,l,u),e.context=ZS(null),r=e.current,s=Ir(),n=Ua(r),a=zn(s,n),a.callback=t??null,Ba(r,a,n),e.current.lanes=n,Iu(e,n,s),es(e,s),e}function Df(e,t,r,s){var n=t.current,a=Ir(),i=Ua(n);return r=ZS(r),t.context===null?t.context=r:t.pendingContext=r,t=zn(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ba(n,t,i),e!==null&&(Zs(e,n,i,a),Xd(e,n,i)),i}function I0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function eg(e,t){wy(e,t),(e=e.alternate)&&wy(e,t)}function bT(){return null}var eb=typeof reportError=="function"?reportError:function(e){console.error(e)};function tg(e){this._internalRoot=e}Pf.prototype.render=tg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));Df(e,t,null,null)};Pf.prototype.unmount=tg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gi(function(){Df(null,e,null,null)}),t[Kn]=null}};function Pf(e){this._internalRoot=e}Pf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ha.length&&t!==0&&t<ha[r].priority;r++);ha.splice(r,0,e),r===0&&Dk(e)}};function rg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ky(){}function _T(e,t,r,s,n){if(n){if(typeof s=="function"){var a=s;s=function(){var c=I0(i);a.call(c)}}var i=JS(t,s,e,0,null,!1,!1,"",ky);return e._reactRootContainer=i,e[Kn]=i.current,Yc(e.nodeType===8?e.parentNode:e),Gi(),i}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var l=s;s=function(){var c=I0(u);l.call(c)}}var u=Jx(e,0,!1,null,null,!1,!1,"",ky);return e._reactRootContainer=u,e[Kn]=u.current,Yc(e.nodeType===8?e.parentNode:e),Gi(function(){Df(t,u,r,s)}),u}function If(e,t,r,s,n){var a=r._reactRootContainer;if(a){var i=a;if(typeof n=="function"){var l=n;n=function(){var u=I0(i);l.call(u)}}Df(t,i,e,n)}else i=_T(r,t,e,n,s);return I0(i)}Ak=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ac(t.pendingLanes);r!==0&&(kx(t,r|1),es(t,zt()),!(dt&6)&&(fl=zt()+500,ai()))}break;case 13:Gi(function(){var s=Gn(e,1);if(s!==null){var n=Ir();Zs(s,e,1,n)}}),eg(e,1)}};Sx=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var r=Ir();Zs(t,e,134217728,r)}eg(e,134217728)}};jk=function(e){if(e.tag===13){var t=Ua(e),r=Gn(e,t);if(r!==null){var s=Ir();Zs(r,e,t,s)}eg(e,t)}};Fk=function(){return yt};Rk=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}};km=function(e,t,r){switch(t){case"input":if(mm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=Nf(s);if(!n)throw Error(Ee(90));ck(s),mm(s,n)}}}break;case"textarea":dk(e,r);break;case"select":t=r.value,t!=null&&Oo(e,!!r.multiple,t,!1)}};yk=Yx;vk=Gi;var ET={usingClientEntryPoint:!1,Events:[Lu,Co,Nf,xk,gk,Yx]},Xl={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NT={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sk(e),e===null?null:e.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||bT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{Sf=wd.inject(NT),yn=wd}catch{}}xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ET;xs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rg(t))throw Error(Ee(200));return ST(e,t,null,r)};xs.createRoot=function(e,t){if(!rg(e))throw Error(Ee(299));var r=!1,s="",n=eb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Jx(e,1,!1,null,null,r,!1,s,n),e[Kn]=t.current,Yc(e.nodeType===8?e.parentNode:e),new tg(t)};xs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=Sk(t),e=e===null?null:e.stateNode,e};xs.flushSync=function(e){return Gi(e)};xs.hydrate=function(e,t,r){if(!Of(t))throw Error(Ee(200));return If(null,e,t,!0,r)};xs.hydrateRoot=function(e,t,r){if(!rg(e))throw Error(Ee(405));var s=r!=null&&r.hydratedSources||null,n=!1,a="",i=eb;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=JS(t,null,e,1,r??null,n,!1,a,i),e[Kn]=t.current,Yc(e),s)for(e=0;e<s.length;e++)r=s[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Pf(t)};xs.render=function(e,t,r){if(!Of(t))throw Error(Ee(200));return If(null,e,t,!1,r)};xs.unmountComponentAtNode=function(e){if(!Of(e))throw Error(Ee(40));return e._reactRootContainer?(Gi(function(){If(null,null,e,!1,function(){e._reactRootContainer=null,e[Kn]=null})}),!0):!1};xs.unstable_batchedUpdates=Yx;xs.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Of(r))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return If(e,t,r,!1,s)};xs.version="18.3.1-next-f1338f8080-20240426";function tb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tb)}catch(e){console.error(e)}}tb(),tk.exports=xs;var sg=tk.exports,Sy=sg;f0.createRoot=Sy.createRoot,f0.hydrateRoot=Sy.hydrateRoot;var jl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},CT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},va,lx,Rw,TT=(Rw=class{constructor(){Le(this,va,CT);Le(this,lx,!1)}setTimeoutProvider(e){Fe(this,va,e)}setTimeout(e,t){return Z(this,va).setTimeout(e,t)}clearTimeout(e){Z(this,va).clearTimeout(e)}setInterval(e,t){return Z(this,va).setInterval(e,t)}clearInterval(e){Z(this,va).clearInterval(e)}},va=new WeakMap,lx=new WeakMap,Rw),Si=new TT;function AT(e){setTimeout(e,0)}var qi=typeof window>"u"||"Deno"in globalThis;function Rr(){}function jT(e,t){return typeof e=="function"?e(t):e}function ep(e){return typeof e=="number"&&e>=0&&e!==1/0}function rb(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Va(e,t){return typeof e=="function"?e(t):e}function Es(e,t){return typeof e=="function"?e(t):e}function by(e,t){const{type:r="all",exact:s,fetchStatus:n,predicate:a,queryKey:i,stale:l}=e;if(i){if(s){if(t.queryHash!==ng(i,t.options))return!1}else if(!nu(t.queryKey,i))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||a&&!a(t))}function _y(e,t){const{exact:r,status:s,predicate:n,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Yi(t.options.mutationKey)!==Yi(a))return!1}else if(!nu(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||n&&!n(t))}function ng(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yi)(e)}function Yi(e){return JSON.stringify(e,(t,r)=>tp(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function nu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>nu(e[r],t[r])):!1}var FT=Object.prototype.hasOwnProperty;function sb(e,t){if(e===t)return e;const r=Ey(e)&&Ey(t);if(!r&&!(tp(e)&&tp(t)))return t;const n=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,l=r?new Array(i):{};let u=0;for(let c=0;c<i;c++){const d=r?c:a[c],f=e[d],h=t[d];if(f===h){l[d]=f,(r?c<n:FT.call(e,d))&&u++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=sb(f,h);l[d]=p,p===f&&u++}return n===i&&u===n?e:l}function M0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Ey(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function tp(e){if(!Ny(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ny(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ny(e){return Object.prototype.toString.call(e)==="[object Object]"}function RT(e){return new Promise(t=>{Si.setTimeout(t,e)})}function rp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?sb(e,t):t}function DT(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function PT(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var ag=Symbol();function nb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ag?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ab(e,t){return typeof e=="function"?e(...t):!!e}var Ni,wa,Go,Dw,OT=(Dw=class extends jl{constructor(){super();Le(this,Ni,void 0);Le(this,wa,void 0);Le(this,Go,void 0);Fe(this,Go,t=>{if(!qi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Z(this,wa)||this.setEventListener(Z(this,Go))}onUnsubscribe(){var t;this.hasListeners()||((t=Z(this,wa))==null||t.call(this),Fe(this,wa,void 0))}setEventListener(t){var r;Fe(this,Go,t),(r=Z(this,wa))==null||r.call(this),Fe(this,wa,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Z(this,Ni)!==t&&(Fe(this,Ni,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Z(this,Ni)=="boolean"?Z(this,Ni):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ni=new WeakMap,wa=new WeakMap,Go=new WeakMap,Dw),ig=new OT;function sp(){let e,t;const r=new Promise((n,a)=>{e=n,t=a});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),e(n)},r.reject=n=>{s({status:"rejected",reason:n}),t(n)},r}var IT=AT;function MT(){let e=[],t=0,r=l=>{l()},s=l=>{l()},n=IT;const a=l=>{t?e.push(l):n(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&n(()=>{s(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||i()}return u},batchCalls:l=>(...u)=>{a(()=>{l(...u)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{n=l}}}var Xt=MT(),qo,ka,Yo,Pw,LT=(Pw=class extends jl{constructor(){super();Le(this,qo,!0);Le(this,ka,void 0);Le(this,Yo,void 0);Fe(this,Yo,t=>{if(!qi&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){Z(this,ka)||this.setEventListener(Z(this,Yo))}onUnsubscribe(){var t;this.hasListeners()||((t=Z(this,ka))==null||t.call(this),Fe(this,ka,void 0))}setEventListener(t){var r;Fe(this,Yo,t),(r=Z(this,ka))==null||r.call(this),Fe(this,ka,t(this.setOnline.bind(this)))}setOnline(t){Z(this,qo)!==t&&(Fe(this,qo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Z(this,qo)}},qo=new WeakMap,ka=new WeakMap,Yo=new WeakMap,Pw),L0=new LT;function BT(e){return Math.min(1e3*2**e,3e4)}function ib(e){return(e??"online")==="online"?L0.isOnline():!0}var np=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ob(e){let t=!1,r=0,s;const n=sp(),a=()=>n.status!=="pending",i=x=>{var y;if(!a()){const g=new np(x);h(g),(y=e.onCancel)==null||y.call(e,g)}},l=()=>{t=!0},u=()=>{t=!1},c=()=>ig.isFocused()&&(e.networkMode==="always"||L0.isOnline())&&e.canRun(),d=()=>ib(e.networkMode)&&e.canRun(),f=x=>{a()||(s==null||s(),n.resolve(x))},h=x=>{a()||(s==null||s(),n.reject(x))},p=()=>new Promise(x=>{var y;s=g=>{(a()||c())&&x(g)},(y=e.onPause)==null||y.call(e)}).then(()=>{var x;s=void 0,a()||(x=e.onContinue)==null||x.call(e)}),m=()=>{if(a())return;let x;const y=r===0?e.initialPromise:void 0;try{x=y??e.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(f).catch(g=>{var A;if(a())return;const v=e.retry??(qi?0:3),w=e.retryDelay??BT,b=typeof w=="function"?w(r,g):w,D=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(t||!D){h(g);return}r++,(A=e.onFail)==null||A.call(e,r,g),RT(b).then(()=>c()?void 0:p()).then(()=>{t?h(g):m()})})};return{promise:n,status:()=>n.status,cancel:i,continue:()=>(s==null||s(),n),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?m():p().then(m),n)}}var Ci,Ow,lb=(Ow=class{constructor(){Le(this,Ci,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ep(this.gcTime)&&Fe(this,Ci,Si.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qi?1/0:5*60*1e3))}clearGcTimeout(){Z(this,Ci)&&(Si.clearTimeout(Z(this,Ci)),Fe(this,Ci,void 0))}},Ci=new WeakMap,Ow),Ti,Xo,_s,Ai,rr,Su,ji,Us,jn,Iw,zT=(Iw=class extends lb{constructor(t){super();Le(this,Us);Le(this,Ti,void 0);Le(this,Xo,void 0);Le(this,_s,void 0);Le(this,Ai,void 0);Le(this,rr,void 0);Le(this,Su,void 0);Le(this,ji,void 0);Fe(this,ji,!1),Fe(this,Su,t.defaultOptions),this.setOptions(t.options),this.observers=[],Fe(this,Ai,t.client),Fe(this,_s,Z(this,Ai).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Fe(this,Ti,Cy(this.options)),this.state=t.state??Z(this,Ti),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Z(this,rr))==null?void 0:t.promise}setOptions(t){if(this.options={...Z(this,Su),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Cy(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Fe(this,Ti,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,_s).remove(this)}setData(t,r){const s=rp(this.state.data,t,this.options);return tt(this,Us,jn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){tt(this,Us,jn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,n;const r=(s=Z(this,rr))==null?void 0:s.promise;return(n=Z(this,rr))==null||n.cancel(t),r?r.then(Rr).catch(Rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,Ti))}isActive(){return this.observers.some(t=>Es(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ag||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Va(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!rb(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Z(this,rr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Z(this,rr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Z(this,_s).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Z(this,rr)&&(Z(this,ji)?Z(this,rr).cancel({revert:!0}):Z(this,rr).cancelRetry()),this.scheduleGc()),Z(this,_s).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tt(this,Us,jn).call(this,{type:"invalidate"})}async fetch(t,r){var u,c,d,f,h,p,m,x,y,g,v,w;if(this.state.fetchStatus!=="idle"&&((u=Z(this,rr))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Z(this,rr))return Z(this,rr).continueRetry(),Z(this,rr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(D=>D.options.queryFn);b&&this.setOptions(b.options)}const s=new AbortController,n=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Fe(this,ji,!0),s.signal)})},a=()=>{const b=nb(this.options,r),A=(()=>{const _={client:Z(this,Ai),queryKey:this.queryKey,meta:this.meta};return n(_),_})();return Fe(this,ji,!1),this.options.persister?this.options.persister(b,A,this):b(A)},l=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Z(this,Ai),state:this.state,fetchFn:a};return n(b),b})();(c=this.options.behavior)==null||c.onFetch(l,this),Fe(this,Xo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&tt(this,Us,jn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Fe(this,rr,ob({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof np&&b.revert&&this.setState({...Z(this,Xo),fetchStatus:"idle"}),s.abort()},onFail:(b,D)=>{tt(this,Us,jn).call(this,{type:"failed",failureCount:b,error:D})},onPause:()=>{tt(this,Us,jn).call(this,{type:"pause"})},onContinue:()=>{tt(this,Us,jn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await Z(this,rr).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(h=Z(this,_s).config).onSuccess)==null||p.call(h,b,this),(x=(m=Z(this,_s).config).onSettled)==null||x.call(m,b,this.state.error,this),b}catch(b){if(b instanceof np){if(b.silent)return Z(this,rr).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw tt(this,Us,jn).call(this,{type:"error",error:b}),(g=(y=Z(this,_s).config).onError)==null||g.call(y,b,this),(w=(v=Z(this,_s).config).onSettled)==null||w.call(v,this.state.data,b,this),b}finally{this.scheduleGc()}}},Ti=new WeakMap,Xo=new WeakMap,_s=new WeakMap,Ai=new WeakMap,rr=new WeakMap,Su=new WeakMap,ji=new WeakMap,Us=new WeakSet,jn=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...cb(s.data,this.options),fetchMeta:t.meta??null};case"success":const n={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Fe(this,Xo,t.manual?n:void 0),n;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),Xt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Z(this,_s).notify({query:this,type:"updated",action:t})})},Iw);function cb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ib(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Cy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var $r,it,bu,Ar,Fi,Qo,Dn,Sa,_u,Zo,Jo,Ri,Di,ba,el,Pi,oc,Eu,ap,Nu,ip,Cu,op,Tu,lp,Au,cp,ju,up,Fu,dp,vf,ub,Mw,UT=(Mw=class extends jl{constructor(t,r){super();Le(this,Pi);Le(this,Eu);Le(this,Nu);Le(this,Cu);Le(this,Tu);Le(this,Au);Le(this,ju);Le(this,Fu);Le(this,vf);Le(this,$r,void 0);Le(this,it,void 0);Le(this,bu,void 0);Le(this,Ar,void 0);Le(this,Fi,void 0);Le(this,Qo,void 0);Le(this,Dn,void 0);Le(this,Sa,void 0);Le(this,_u,void 0);Le(this,Zo,void 0);Le(this,Jo,void 0);Le(this,Ri,void 0);Le(this,Di,void 0);Le(this,ba,void 0);Le(this,el,new Set);this.options=r,Fe(this,$r,t),Fe(this,Sa,null),Fe(this,Dn,sp()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Z(this,it).addObserver(this),Ty(Z(this,it),this.options)?tt(this,Pi,oc).call(this):this.updateResult(),tt(this,Tu,lp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fp(Z(this,it),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fp(Z(this,it),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,tt(this,Au,cp).call(this),tt(this,ju,up).call(this),Z(this,it).removeObserver(this)}setOptions(t){const r=this.options,s=Z(this,it);if(this.options=Z(this,$r).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Es(this.options.enabled,Z(this,it))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");tt(this,Fu,dp).call(this),Z(this,it).setOptions(this.options),r._defaulted&&!M0(this.options,r)&&Z(this,$r).getQueryCache().notify({type:"observerOptionsUpdated",query:Z(this,it),observer:this});const n=this.hasListeners();n&&Ay(Z(this,it),s,this.options,r)&&tt(this,Pi,oc).call(this),this.updateResult(),n&&(Z(this,it)!==s||Es(this.options.enabled,Z(this,it))!==Es(r.enabled,Z(this,it))||Va(this.options.staleTime,Z(this,it))!==Va(r.staleTime,Z(this,it)))&&tt(this,Eu,ap).call(this);const a=tt(this,Nu,ip).call(this);n&&(Z(this,it)!==s||Es(this.options.enabled,Z(this,it))!==Es(r.enabled,Z(this,it))||a!==Z(this,ba))&&tt(this,Cu,op).call(this,a)}getOptimisticResult(t){const r=Z(this,$r).getQueryCache().build(Z(this,$r),t),s=this.createResult(r,t);return VT(this,s)&&(Fe(this,Ar,s),Fe(this,Qo,this.options),Fe(this,Fi,Z(this,it).state)),s}getCurrentResult(){return Z(this,Ar)}trackResult(t,r){return new Proxy(t,{get:(s,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Z(this,Dn).status==="pending"&&Z(this,Dn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,n))})}trackProp(t){Z(this,el).add(t)}getCurrentQuery(){return Z(this,it)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Z(this,$r).defaultQueryOptions(t),s=Z(this,$r).getQueryCache().build(Z(this,$r),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return tt(this,Pi,oc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Z(this,Ar)))}createResult(t,r){var k;const s=Z(this,it),n=this.options,a=Z(this,Ar),i=Z(this,Fi),l=Z(this,Qo),c=t!==s?t.state:Z(this,bu),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const N=this.hasListeners(),C=!N&&Ty(t,r),E=N&&Ay(t,s,r,n);(C||E)&&(f={...f,...cb(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:m,errorUpdatedAt:x,status:y}=f;p=f.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let N;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(N=a.data,g=!0):N=typeof r.placeholderData=="function"?r.placeholderData((k=Z(this,Jo))==null?void 0:k.state.data,Z(this,Jo)):r.placeholderData,N!==void 0&&(y="success",p=rp(a==null?void 0:a.data,N,r),h=!0)}if(r.select&&p!==void 0&&!g)if(a&&p===(i==null?void 0:i.data)&&r.select===Z(this,_u))p=Z(this,Zo);else try{Fe(this,_u,r.select),p=r.select(p),p=rp(a==null?void 0:a.data,p,r),Fe(this,Zo,p),Fe(this,Sa,null)}catch(N){Fe(this,Sa,N)}Z(this,Sa)&&(m=Z(this,Sa),p=Z(this,Zo),x=Date.now(),y="error");const v=f.fetchStatus==="fetching",w=y==="pending",b=y==="error",D=w&&v,A=p!==void 0,S={status:y,fetchStatus:f.fetchStatus,isPending:w,isSuccess:y==="success",isError:b,isInitialLoading:D,isLoading:D,data:p,dataUpdatedAt:f.dataUpdatedAt,error:m,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:b&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&A,isStale:og(t,r),refetch:this.refetch,promise:Z(this,Dn),isEnabled:Es(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const N=M=>{S.status==="error"?M.reject(S.error):S.data!==void 0&&M.resolve(S.data)},C=()=>{const M=Fe(this,Dn,S.promise=sp());N(M)},E=Z(this,Dn);switch(E.status){case"pending":t.queryHash===s.queryHash&&N(E);break;case"fulfilled":(S.status==="error"||S.data!==E.value)&&C();break;case"rejected":(S.status!=="error"||S.error!==E.reason)&&C();break}}return S}updateResult(){const t=Z(this,Ar),r=this.createResult(Z(this,it),this.options);if(Fe(this,Fi,Z(this,it).state),Fe(this,Qo,this.options),Z(this,Fi).data!==void 0&&Fe(this,Jo,Z(this,it)),M0(r,t))return;Fe(this,Ar,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!Z(this,el).size)return!0;const i=new Set(a??Z(this,el));return this.options.throwOnError&&i.add("error"),Object.keys(Z(this,Ar)).some(l=>{const u=l;return Z(this,Ar)[u]!==t[u]&&i.has(u)})};tt(this,vf,ub).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&tt(this,Tu,lp).call(this)}},$r=new WeakMap,it=new WeakMap,bu=new WeakMap,Ar=new WeakMap,Fi=new WeakMap,Qo=new WeakMap,Dn=new WeakMap,Sa=new WeakMap,_u=new WeakMap,Zo=new WeakMap,Jo=new WeakMap,Ri=new WeakMap,Di=new WeakMap,ba=new WeakMap,el=new WeakMap,Pi=new WeakSet,oc=function(t){tt(this,Fu,dp).call(this);let r=Z(this,it).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Rr)),r},Eu=new WeakSet,ap=function(){tt(this,Au,cp).call(this);const t=Va(this.options.staleTime,Z(this,it));if(qi||Z(this,Ar).isStale||!ep(t))return;const s=rb(Z(this,Ar).dataUpdatedAt,t)+1;Fe(this,Ri,Si.setTimeout(()=>{Z(this,Ar).isStale||this.updateResult()},s))},Nu=new WeakSet,ip=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Z(this,it)):this.options.refetchInterval)??!1},Cu=new WeakSet,op=function(t){tt(this,ju,up).call(this),Fe(this,ba,t),!(qi||Es(this.options.enabled,Z(this,it))===!1||!ep(Z(this,ba))||Z(this,ba)===0)&&Fe(this,Di,Si.setInterval(()=>{(this.options.refetchIntervalInBackground||ig.isFocused())&&tt(this,Pi,oc).call(this)},Z(this,ba)))},Tu=new WeakSet,lp=function(){tt(this,Eu,ap).call(this),tt(this,Cu,op).call(this,tt(this,Nu,ip).call(this))},Au=new WeakSet,cp=function(){Z(this,Ri)&&(Si.clearTimeout(Z(this,Ri)),Fe(this,Ri,void 0))},ju=new WeakSet,up=function(){Z(this,Di)&&(Si.clearInterval(Z(this,Di)),Fe(this,Di,void 0))},Fu=new WeakSet,dp=function(){const t=Z(this,$r).getQueryCache().build(Z(this,$r),this.options);if(t===Z(this,it))return;const r=Z(this,it);Fe(this,it,t),Fe(this,bu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},vf=new WeakSet,ub=function(t){Xt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Z(this,Ar))}),Z(this,$r).getQueryCache().notify({query:Z(this,it),type:"observerResultsUpdated"})})},Mw);function $T(e,t){return Es(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ty(e,t){return $T(e,t)||e.state.data!==void 0&&fp(e,t,t.refetchOnMount)}function fp(e,t,r){if(Es(t.enabled,e)!==!1&&Va(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&og(e,t)}return!1}function Ay(e,t,r,s){return(e!==t||Es(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&og(e,r)}function og(e,t){return Es(t.enabled,e)!==!1&&e.isStaleByTime(Va(t.staleTime,e))}function VT(e,t){return!M0(e.getCurrentResult(),t)}function jy(e){return{onFetch:(t,r)=>{var d,f,h,p,m;const s=t.options,n=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],i=((m=t.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let x=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},g=nb(t.options,t.fetchOptions),v=async(w,b,D)=>{if(x)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:b,direction:D?"backward":"forward",meta:t.options.meta};return y(C),C})(),S=await g(_),{maxPages:k}=t.options,N=D?PT:DT;return{pages:N(w.pages,S,k),pageParams:N(w.pageParams,b,k)}};if(n&&a.length){const w=n==="backward",b=w?HT:Fy,D={pages:a,pageParams:i},A=b(s,D);l=await v(D,A,w)}else{const w=e??a.length;do{const b=u===0?i[0]??s.initialPageParam:Fy(s,l);if(u>0&&b==null)break;l=await v(l,b),u++}while(u<w)}return l};t.options.persister?t.fetchFn=()=>{var x,y;return(y=(x=t.options).persister)==null?void 0:y.call(x,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Fy(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function HT(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Ru,un,jr,Oi,dn,ca,Lw,WT=(Lw=class extends lb{constructor(t){super();Le(this,dn);Le(this,Ru,void 0);Le(this,un,void 0);Le(this,jr,void 0);Le(this,Oi,void 0);Fe(this,Ru,t.client),this.mutationId=t.mutationId,Fe(this,jr,t.mutationCache),Fe(this,un,[]),this.state=t.state||db(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Z(this,un).includes(t)||(Z(this,un).push(t),this.clearGcTimeout(),Z(this,jr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Fe(this,un,Z(this,un).filter(r=>r!==t)),this.scheduleGc(),Z(this,jr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Z(this,un).length||(this.state.status==="pending"?this.scheduleGc():Z(this,jr).remove(this))}continue(){var t;return((t=Z(this,Oi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,u,c,d,f,h,p,m,x,y,g,v,w,b,D,A,_,S,k;const r=()=>{tt(this,dn,ca).call(this,{type:"continue"})},s={client:Z(this,Ru),meta:this.options.meta,mutationKey:this.options.mutationKey};Fe(this,Oi,ob({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(N,C)=>{tt(this,dn,ca).call(this,{type:"failed",failureCount:N,error:C})},onPause:()=>{tt(this,dn,ca).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,jr).canRun(this)}));const n=this.state.status==="pending",a=!Z(this,Oi).canStart();try{if(n)r();else{tt(this,dn,ca).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=Z(this,jr).config).onMutate)==null?void 0:l.call(i,t,this,s));const C=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,s));C!==this.state.context&&tt(this,dn,ca).call(this,{type:"pending",context:C,variables:t,isPaused:a})}const N=await Z(this,Oi).start();return await((f=(d=Z(this,jr).config).onSuccess)==null?void 0:f.call(d,N,t,this.state.context,this,s)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,N,t,this.state.context,s)),await((x=(m=Z(this,jr).config).onSettled)==null?void 0:x.call(m,N,null,this.state.variables,this.state.context,this,s)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,N,null,t,this.state.context,s)),tt(this,dn,ca).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(v=Z(this,jr).config).onError)==null?void 0:w.call(v,N,t,this.state.context,this,s)),await((D=(b=this.options).onError)==null?void 0:D.call(b,N,t,this.state.context,s)),await((_=(A=Z(this,jr).config).onSettled)==null?void 0:_.call(A,void 0,N,this.state.variables,this.state.context,this,s)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,N,t,this.state.context,s)),N}finally{tt(this,dn,ca).call(this,{type:"error",error:N})}}finally{Z(this,jr).runNext(this)}}},Ru=new WeakMap,un=new WeakMap,jr=new WeakMap,Oi=new WeakMap,dn=new WeakSet,ca=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xt.batch(()=>{Z(this,un).forEach(s=>{s.onMutationUpdate(t)}),Z(this,jr).notify({mutation:this,type:"updated",action:t})})},Lw);function db(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pn,$s,Du,Bw,KT=(Bw=class extends jl{constructor(t={}){super();Le(this,Pn,void 0);Le(this,$s,void 0);Le(this,Du,void 0);this.config=t,Fe(this,Pn,new Set),Fe(this,$s,new Map),Fe(this,Du,0)}build(t,r,s){const n=new WT({client:t,mutationCache:this,mutationId:++sd(this,Du)._,options:t.defaultMutationOptions(r),state:s});return this.add(n),n}add(t){Z(this,Pn).add(t);const r=kd(t);if(typeof r=="string"){const s=Z(this,$s).get(r);s?s.push(t):Z(this,$s).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Z(this,Pn).delete(t)){const r=kd(t);if(typeof r=="string"){const s=Z(this,$s).get(r);if(s)if(s.length>1){const n=s.indexOf(t);n!==-1&&s.splice(n,1)}else s[0]===t&&Z(this,$s).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=kd(t);if(typeof r=="string"){const s=Z(this,$s).get(r),n=s==null?void 0:s.find(a=>a.state.status==="pending");return!n||n===t}else return!0}runNext(t){var s;const r=kd(t);if(typeof r=="string"){const n=(s=Z(this,$s).get(r))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xt.batch(()=>{Z(this,Pn).forEach(t=>{this.notify({type:"removed",mutation:t})}),Z(this,Pn).clear(),Z(this,$s).clear()})}getAll(){return Array.from(Z(this,Pn))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>_y(r,s))}findAll(t={}){return this.getAll().filter(r=>_y(t,r))}notify(t){Xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Xt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Rr))))}},Pn=new WeakMap,$s=new WeakMap,Du=new WeakMap,Bw);function kd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var On,_a,Vr,In,tl,s0,Pu,hp,zw,GT=(zw=class extends jl{constructor(r,s){super();Le(this,tl);Le(this,Pu);Le(this,On,void 0);Le(this,_a,void 0);Le(this,Vr,void 0);Le(this,In,void 0);Fe(this,On,r),this.setOptions(s),this.bindMethods(),tt(this,tl,s0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const s=this.options;this.options=Z(this,On).defaultMutationOptions(r),M0(this.options,s)||Z(this,On).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Z(this,Vr),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Yi(s.mutationKey)!==Yi(this.options.mutationKey)?this.reset():((n=Z(this,Vr))==null?void 0:n.state.status)==="pending"&&Z(this,Vr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Z(this,Vr))==null||r.removeObserver(this)}onMutationUpdate(r){tt(this,tl,s0).call(this),tt(this,Pu,hp).call(this,r)}getCurrentResult(){return Z(this,_a)}reset(){var r;(r=Z(this,Vr))==null||r.removeObserver(this),Fe(this,Vr,void 0),tt(this,tl,s0).call(this),tt(this,Pu,hp).call(this)}mutate(r,s){var n;return Fe(this,In,s),(n=Z(this,Vr))==null||n.removeObserver(this),Fe(this,Vr,Z(this,On).getMutationCache().build(Z(this,On),this.options)),Z(this,Vr).addObserver(this),Z(this,Vr).execute(r)}},On=new WeakMap,_a=new WeakMap,Vr=new WeakMap,In=new WeakMap,tl=new WeakSet,s0=function(){var s;const r=((s=Z(this,Vr))==null?void 0:s.state)??db();Fe(this,_a,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Pu=new WeakSet,hp=function(r){Xt.batch(()=>{var s,n,a,i,l,u,c,d;if(Z(this,In)&&this.hasListeners()){const f=Z(this,_a).variables,h=Z(this,_a).context,p={client:Z(this,On),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((n=(s=Z(this,In)).onSuccess)==null||n.call(s,r.data,f,h,p),(i=(a=Z(this,In)).onSettled)==null||i.call(a,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((u=(l=Z(this,In)).onError)==null||u.call(l,r.error,f,h,p),(d=(c=Z(this,In)).onSettled)==null||d.call(c,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(Z(this,_a))})})},zw),fn,Uw,qT=(Uw=class extends jl{constructor(t={}){super();Le(this,fn,void 0);this.config=t,Fe(this,fn,new Map)}build(t,r,s){const n=r.queryKey,a=r.queryHash??ng(n,r);let i=this.get(a);return i||(i=new zT({client:t,queryKey:n,queryHash:a,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){Z(this,fn).has(t.queryHash)||(Z(this,fn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Z(this,fn).get(t.queryHash);r&&(t.destroy(),r===t&&Z(this,fn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Z(this,fn).get(t)}getAll(){return[...Z(this,fn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>by(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>by(t,s)):r}notify(t){Xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},fn=new WeakMap,Uw),Rt,Ea,Na,rl,sl,Ca,nl,al,$w,YT=($w=class{constructor(e={}){Le(this,Rt,void 0);Le(this,Ea,void 0);Le(this,Na,void 0);Le(this,rl,void 0);Le(this,sl,void 0);Le(this,Ca,void 0);Le(this,nl,void 0);Le(this,al,void 0);Fe(this,Rt,e.queryCache||new qT),Fe(this,Ea,e.mutationCache||new KT),Fe(this,Na,e.defaultOptions||{}),Fe(this,rl,new Map),Fe(this,sl,new Map),Fe(this,Ca,0)}mount(){sd(this,Ca)._++,Z(this,Ca)===1&&(Fe(this,nl,ig.subscribe(async e=>{e&&(await this.resumePausedMutations(),Z(this,Rt).onFocus())})),Fe(this,al,L0.subscribe(async e=>{e&&(await this.resumePausedMutations(),Z(this,Rt).onOnline())})))}unmount(){var e,t;sd(this,Ca)._--,Z(this,Ca)===0&&((e=Z(this,nl))==null||e.call(this),Fe(this,nl,void 0),(t=Z(this,al))==null||t.call(this),Fe(this,al,void 0))}isFetching(e){return Z(this,Rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Z(this,Ea).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Z(this,Rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Z(this,Rt).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Va(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return Z(this,Rt).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),n=Z(this,Rt).get(s.queryHash),a=n==null?void 0:n.state.data,i=jT(t,a);if(i!==void 0)return Z(this,Rt).build(this,s).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Xt.batch(()=>Z(this,Rt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Z(this,Rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Z(this,Rt);Xt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Z(this,Rt);return Xt.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=Xt.batch(()=>Z(this,Rt).findAll(e).map(n=>n.cancel(r)));return Promise.all(s).then(Rr).catch(Rr)}invalidateQueries(e,t={}){return Xt.batch(()=>(Z(this,Rt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=Xt.batch(()=>Z(this,Rt).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let a=n.fetch(void 0,r);return r.throwOnError||(a=a.catch(Rr)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Rr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Z(this,Rt).build(this,t);return r.isStaleByTime(Va(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rr).catch(Rr)}fetchInfiniteQuery(e){return e.behavior=jy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rr).catch(Rr)}ensureInfiniteQueryData(e){return e.behavior=jy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return L0.isOnline()?Z(this,Ea).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,Rt)}getMutationCache(){return Z(this,Ea)}getDefaultOptions(){return Z(this,Na)}setDefaultOptions(e){Fe(this,Na,e)}setQueryDefaults(e,t){Z(this,rl).set(Yi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Z(this,rl).values()],r={};return t.forEach(s=>{nu(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){Z(this,sl).set(Yi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Z(this,sl).values()],r={};return t.forEach(s=>{nu(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Z(this,Na).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ng(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ag&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Z(this,Na).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Z(this,Rt).clear(),Z(this,Ea).clear()}},Rt=new WeakMap,Ea=new WeakMap,Na=new WeakMap,rl=new WeakMap,sl=new WeakMap,Ca=new WeakMap,nl=new WeakMap,al=new WeakMap,$w),fb=F.createContext(void 0),Mf=e=>{const t=F.useContext(fb);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},XT=({client:e,children:t})=>(F.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(fb.Provider,{value:e,children:t})),hb=F.createContext(!1),QT=()=>F.useContext(hb);hb.Provider;function ZT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var JT=F.createContext(ZT()),eA=()=>F.useContext(JT),tA=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},rA=e=>{F.useEffect(()=>{e.clearReset()},[e])},sA=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(n&&e.data===void 0||ab(r,[e.error,s])),nA=e=>{if(e.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...n)=>r(s(...n)):r(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},aA=(e,t)=>e.isLoading&&e.isFetching&&!t,iA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ry=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function oA(e,t,r){var f,h,p,m,x;const s=QT(),n=eA(),a=Mf(r),i=a.defaultQueryOptions(e);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=s?"isRestoring":"optimistic",nA(i),tA(i,n),rA(n);const l=!a.getQueryCache().get(i.queryHash),[u]=F.useState(()=>new t(a,i)),c=u.getOptimisticResult(i),d=!s&&e.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(y=>{const g=d?u.subscribe(Xt.batchCalls(y)):Rr;return u.updateResult(),g},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),F.useEffect(()=>{u.setOptions(i)},[i,u]),iA(i,c))throw Ry(i,u,n);if(sA({result:c,errorResetBoundary:n,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw c.error;if((m=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,i,c),i.experimental_prefetchInRender&&!qi&&aA(c,s)){const y=l?Ry(i,u,n):(x=a.getQueryCache().get(i.queryHash))==null?void 0:x.promise;y==null||y.catch(Rr).finally(()=>{u.updateResult()})}return i.notifyOnChangeProps?c:u.trackResult(c)}function mb(e,t){return oA(e,UT,t)}function lg(e,t){const r=Mf(t),[s]=F.useState(()=>new GT(r,e));F.useEffect(()=>{s.setOptions(e)},[s,e]);const n=F.useSyncExternalStore(F.useCallback(i=>s.subscribe(Xt.batchCalls(i)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=F.useCallback((i,l)=>{s.mutate(i,l).catch(Rr)},[s]);if(n.error&&ab(s.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:a,mutateAsync:n.mutate}}const lA="modulepreload",cA=function(e){return"/"+e},Dy={},uA=function(t,r,s){if(!r||r.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=cA(a),a in Dy)return;Dy[a]=!0;const i=a.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!s)for(let d=n.length-1;d>=0;d--){const f=n[d];if(f.href===a&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":lA,i||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),i)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a})};var dA=function(){return null};const Uo=new WeakMap,n0=new WeakMap,B0={current:[]};let Ih=!1,Nc=0;const lc=new Set,Sd=new Map;function pb(e){const t=Array.from(e).sort((r,s)=>r instanceof $o&&r.options.deps.includes(s)?1:s instanceof $o&&s.options.deps.includes(r)?-1:0);for(const r of t){if(B0.current.includes(r))continue;B0.current.push(r),r.recompute();const s=n0.get(r);if(s)for(const n of s){const a=Uo.get(n);a&&pb(a)}}}function fA(e){const t={prevVal:e.prevState,currentVal:e.state};for(const r of e.listeners)r(t)}function hA(e){const t={prevVal:e.prevState,currentVal:e.state};for(const r of e.listeners)r(t)}function xb(e){if(Nc>0&&!Sd.has(e)&&Sd.set(e,e.prevState),lc.add(e),!(Nc>0)&&!Ih)try{for(Ih=!0;lc.size>0;){const t=Array.from(lc);lc.clear();for(const r of t){const s=Sd.get(r)??r.prevState;r.prevState=s,fA(r)}for(const r of t){const s=Uo.get(r);s&&(B0.current.push(r),pb(s))}for(const r of t){const s=Uo.get(r);if(s)for(const n of s)hA(n)}}}finally{Ih=!1,B0.current=[],Sd.clear()}}function Cc(e){Nc++;try{e()}finally{if(Nc--,Nc===0){const t=lc.values().next().value;t&&xb(t)}}}function mA(e){return typeof e=="function"}class mp{constructor(t,r){this.listeners=new Set,this.subscribe=s=>{var n,a;this.listeners.add(s);const i=(a=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:a.call(n,s,this);return()=>{this.listeners.delete(s),i==null||i()}},this.prevState=t,this.state=t,this.options=r}setState(t){var r,s,n;this.prevState=this.state,(r=this.options)!=null&&r.updateFn?this.state=this.options.updateFn(this.prevState)(t):mA(t)?this.state=t(this.prevState):this.state=t,(n=(s=this.options)==null?void 0:s.onUpdate)==null||n.call(s),xb(this)}}class $o{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const r=this.options.deps.length,s=new Array(r),n=new Array(r);for(let a=0;a<r;a++){const i=this.options.deps[a];s[a]=i.prevState,n[a]=i.state}return this.lastSeenDepValues=n,{prevDepVals:s,currDepVals:n,prevVal:this.prevState??void 0}},this.recompute=()=>{var r,s;this.prevState=this.state;const n=this.getDepVals();this.state=this.options.fn(n),(s=(r=this.options).onUpdate)==null||s.call(r)},this.checkIfRecalculationNeededDeeply=()=>{for(const a of this.options.deps)a instanceof $o&&a.checkIfRecalculationNeededDeeply();let r=!1;const s=this.lastSeenDepValues,{currDepVals:n}=this.getDepVals();for(let a=0;a<n.length;a++)if(n[a]!==s[a]){r=!0;break}r&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const r of this._subscriptions)r()}),this.subscribe=r=>{var s,n;this.listeners.add(r);const a=(n=(s=this.options).onSubscribe)==null?void 0:n.call(s,r,this);return()=>{this.listeners.delete(r),a==null||a()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const r of t)if(r instanceof $o)r.registerOnGraph(),this.registerOnGraph(r.options.deps);else if(r instanceof mp){let s=Uo.get(r);s||(s=new Set,Uo.set(r,s)),s.add(this);let n=n0.get(this);n||(n=new Set,n0.set(this,n)),n.add(r)}}unregisterFromGraph(t=this.options.deps){for(const r of t)if(r instanceof $o)this.unregisterFromGraph(r.options.deps);else if(r instanceof mp){const s=Uo.get(r);s&&s.delete(this);const n=n0.get(this);n&&n.delete(r)}}}const Ha="__TSR_index",Py="popstate",Oy="beforeunload";function pA(e){let t=e.getLocation();const r=new Set,s=i=>{t=e.getLocation(),r.forEach(l=>l({location:t,action:i}))},n=i=>{e.notifyOnIndexChange??!0?s(i):t=e.getLocation()},a=async({task:i,navigateOpts:l,...u})=>{var h,p;if((l==null?void 0:l.ignoreBlocker)??!1){i();return}const d=((h=e.getBlockers)==null?void 0:h.call(e))??[],f=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&d.length&&f)for(const m of d){const x=z0(u.path,u.state);if(await m.blockerFn({currentLocation:t,nextLocation:x,action:u.type})){(p=e.onBlocked)==null||p.call(e);return}}i()};return{get location(){return t},get length(){return e.getLength()},subscribers:r,subscribe:i=>(r.add(i),()=>{r.delete(i)}),push:(i,l,u)=>{const c=t.state[Ha];l=Iy(c+1,l),a({task:()=>{e.pushState(i,l),s({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:i,state:l})},replace:(i,l,u)=>{const c=t.state[Ha];l=Iy(c,l),a({task:()=>{e.replaceState(i,l),s({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:i,state:l})},go:(i,l)=>{a({task:()=>{e.go(i),n({type:"GO",index:i})},navigateOpts:l,type:"GO"})},back:i=>{a({task:()=>{e.back((i==null?void 0:i.ignoreBlocker)??!1),n({type:"BACK"})},navigateOpts:i,type:"BACK"})},forward:i=>{a({task:()=>{e.forward((i==null?void 0:i.ignoreBlocker)??!1),n({type:"FORWARD"})},navigateOpts:i,type:"FORWARD"})},canGoBack:()=>t.state[Ha]!==0,createHref:i=>e.createHref(i),block:i=>{var u;if(!e.setBlockers)return()=>{};const l=((u=e.getBlockers)==null?void 0:u.call(e))??[];return e.setBlockers([...l,i]),()=>{var d,f;const c=((d=e.getBlockers)==null?void 0:d.call(e))??[];(f=e.setBlockers)==null||f.call(e,c.filter(h=>h!==i))}},flush:()=>{var i;return(i=e.flush)==null?void 0:i.call(e)},destroy:()=>{var i;return(i=e.destroy)==null?void 0:i.call(e)},notify:s}}function Iy(e,t){t||(t={});const r=cg();return{...t,key:r,__TSR_key:r,[Ha]:e}}function xA(e){var S,k;const t=(e==null?void 0:e.window)??(typeof document<"u"?window:void 0),r=t.history.pushState,s=t.history.replaceState;let n=[];const a=()=>n,i=N=>n=N,l=(e==null?void 0:e.createHref)??(N=>N),u=(e==null?void 0:e.parseLocation)??(()=>z0(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));if(!((S=t.history.state)!=null&&S.__TSR_key)&&!((k=t.history.state)!=null&&k.key)){const N=cg();t.history.replaceState({[Ha]:0,key:N,__TSR_key:N},"")}let c=u(),d,f=!1,h=!1,p=!1,m=!1;const x=()=>c;let y,g;const v=()=>{y&&(_._ignoreSubscribers=!0,(y.isPush?t.history.pushState:t.history.replaceState)(y.state,"",y.href),_._ignoreSubscribers=!1,y=void 0,g=void 0,d=void 0)},w=(N,C,E)=>{const M=l(C);g||(d=c),c=z0(C,E),y={href:M,state:E,isPush:(y==null?void 0:y.isPush)||N==="push"},g||(g=Promise.resolve().then(()=>v()))},b=N=>{c=u(),_.notify({type:N})},D=async()=>{if(h){h=!1;return}const N=u(),C=N.state[Ha]-c.state[Ha],E=C===1,M=C===-1,Q=!E&&!M||f;f=!1;const Y=Q?"GO":M?"BACK":"FORWARD",X=Q?{type:"GO",index:C}:{type:M?"BACK":"FORWARD"};if(p)p=!1;else{const ee=a();if(typeof document<"u"&&ee.length){for(const te of ee)if(await te.blockerFn({currentLocation:c,nextLocation:N,action:Y})){h=!0,t.history.go(1),_.notify(X);return}}}c=u(),_.notify(X)},A=N=>{if(m){m=!1;return}let C=!1;const E=a();if(typeof document<"u"&&E.length)for(const M of E){const Q=M.enableBeforeUnload??!0;if(Q===!0){C=!0;break}if(typeof Q=="function"&&Q()===!0){C=!0;break}}if(C)return N.preventDefault(),N.returnValue=""},_=pA({getLocation:x,getLength:()=>t.history.length,pushState:(N,C)=>w("push",N,C),replaceState:(N,C)=>w("replace",N,C),back:N=>(N&&(p=!0),m=!0,t.history.back()),forward:N=>{N&&(p=!0),m=!0,t.history.forward()},go:N=>{f=!0,t.history.go(N)},createHref:N=>l(N),flush:v,destroy:()=>{t.history.pushState=r,t.history.replaceState=s,t.removeEventListener(Oy,A,{capture:!0}),t.removeEventListener(Py,D)},onBlocked:()=>{d&&c!==d&&(c=d)},getBlockers:a,setBlockers:i,notifyOnIndexChange:!1});return t.addEventListener(Oy,A,{capture:!0}),t.addEventListener(Py,D),t.history.pushState=function(...N){const C=r.apply(t.history,N);return _._ignoreSubscribers||b("PUSH"),C},t.history.replaceState=function(...N){const C=s.apply(t.history,N);return _._ignoreSubscribers||b("REPLACE"),C},_}function z0(e,t){const r=e.indexOf("#"),s=e.indexOf("?"),n=cg();return{href:e,pathname:e.substring(0,r>0?s>0?Math.min(r,s):r:s>0?s:e.length),hash:r>-1?e.substring(r):"",search:s>-1?e.slice(s,r===-1?void 0:r):"",state:t||{[Ha]:0,key:n,__TSR_key:n}}}function cg(){return(Math.random()+1).toString(36).substring(7)}function pp(e){return e[e.length-1]}function gA(e){return typeof e=="function"}function Li(e,t){return gA(e)?e(t):e}const yA=Object.prototype.hasOwnProperty;function Ss(e,t){if(e===t)return e;const r=t,s=By(e)&&By(r);if(!s&&!(U0(e)&&U0(r)))return r;const n=s?e:My(e);if(!n)return r;const a=s?r:My(r);if(!a)return r;const i=n.length,l=a.length,u=s?new Array(l):{};let c=0;for(let d=0;d<l;d++){const f=s?d:a[d],h=e[f],p=r[f];if(h===p){u[f]=h,(s?d<i:yA.call(e,f))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){u[f]=p;continue}const m=Ss(h,p);u[f]=m,m===h&&c++}return i===l&&c===i?e:u}function My(e){const t=[],r=Object.getOwnPropertyNames(e);for(const n of r){if(!Object.prototype.propertyIsEnumerable.call(e,n))return!1;t.push(n)}const s=Object.getOwnPropertySymbols(e);for(const n of s){if(!Object.prototype.propertyIsEnumerable.call(e,n))return!1;t.push(n)}return t}function U0(e){if(!Ly(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!Ly(r)||!r.hasOwnProperty("isPrototypeOf"))}function Ly(e){return Object.prototype.toString.call(e)==="[object Object]"}function By(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bi(e,t,r){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let s=0,n=e.length;s<n;s++)if(!Bi(e[s],t[s],r))return!1;return!0}if(U0(e)&&U0(t)){const s=(r==null?void 0:r.ignoreUndefined)??!0;if(r!=null&&r.partial){for(const i in t)if((!s||t[i]!==void 0)&&!Bi(e[i],t[i],r))return!1;return!0}let n=0;if(!s)n=Object.keys(e).length;else for(const i in e)e[i]!==void 0&&n++;let a=0;for(const i in t)if((!s||t[i]!==void 0)&&(a++,a>n||!Bi(e[i],t[i],r)))return!1;return n===a}return!1}function hl(e){let t,r;const s=new Promise((n,a)=>{t=n,r=a});return s.status="pending",s.resolve=n=>{s.status="resolved",s.value=n,t(n),e==null||e(n)},s.reject=n=>{s.status="rejected",r(n)},s}function Wa(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}var vA="Invariant failed";function Yn(e,t){if(!e)throw new Error(vA)}const qr="__root__",wn=0,Xi=1,ml=2,pl=3;function Un(e){return ug(e.filter(t=>t!==void 0).join("/"))}function ug(e){return e.replace(/\/{2,}/g,"/")}function dg(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Ka(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function a0(e){return Ka(dg(e))}function $0(e,t){return e!=null&&e.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function wA(e,t,r){return $0(e,r)===$0(t,r)}function kA(e){const{type:t,value:r}=e;if(t===wn)return r;const{prefixSegment:s,suffixSegment:n}=e;if(t===Xi){const a=r.substring(1);if(s&&n)return`${s}{$${a}}${n}`;if(s)return`${s}{$${a}}`;if(n)return`{$${a}}${n}`}if(t===pl){const a=r.substring(1);return s&&n?`${s}{-$${a}}${n}`:s?`${s}{-$${a}}`:n?`{-$${a}}${n}`:`{-$${a}}`}if(t===ml){if(s&&n)return`${s}{$}${n}`;if(s)return`${s}{$}`;if(n)return`{$}${n}`}return r}function SA({base:e,to:t,trailingSlash:r="never",parseCache:s}){var u;let n=gb(e,s).slice();const a=Lf(t,s);n.length>1&&((u=pp(n))==null?void 0:u.value)==="/"&&n.pop();for(let c=0,d=a.length;c<d;c++){const f=a[c],h=f.value;h==="/"?c?c===d-1&&n.push(f):n=[f]:h===".."?n.pop():h==="."||n.push(f)}n.length>1&&(pp(n).value==="/"?r==="never"&&n.pop():r==="always"&&n.push({type:wn,value:"/"}));const i=n.map(kA);return Un(i)}const gb=(e,t)=>yb(e,t,!0),Lf=(e,t)=>yb(e,t,!1),yb=(e,t,r)=>{if(!e)return[];const s=t==null?void 0:t.get(e);if(s)return s;const n=TA(e,r);return t==null||t.set(e,n),n},bA=/^\$.{1,}$/,_A=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,EA=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,NA=/^\$$/,CA=/^(.*?)\{\$\}(.*)$/;function TA(e,t){e=ug(e);const r=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),r.push({type:wn,value:"/"})),!e)return r;const s=e.split("/").filter(Boolean);return r.push(...s.map(n=>{const a=!t&&n!==qr&&n.slice(-1)==="_"?n.slice(0,-1):n,i=a.match(CA);if(i){const c=i[1],d=i[2];return{type:ml,value:"$",prefixSegment:c||void 0,suffixSegment:d||void 0}}const l=a.match(EA);if(l){const c=l[1],d=l[2],f=l[3];return{type:pl,value:d,prefixSegment:c||void 0,suffixSegment:f||void 0}}const u=a.match(_A);if(u){const c=u[1],d=u[2],f=u[3];return{type:Xi,value:""+d,prefixSegment:c||void 0,suffixSegment:f||void 0}}if(bA.test(a)){const c=a.substring(1);return{type:Xi,value:"$"+c,prefixSegment:void 0,suffixSegment:void 0}}return NA.test(a)?{type:ml,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:wn,value:a.includes("%25")?a.split("%25").map(c=>decodeURI(c)).join("%25"):decodeURI(a)}})),e.slice(-1)==="/"&&(e=e.substring(1),r.push({type:wn,value:"/"})),r}function bd({path:e,params:t,leaveWildcards:r,leaveParams:s,decodeCharMap:n,parseCache:a}){const i=Lf(e,a);function l(f){const h=t[f],p=typeof h=="string";return f==="*"||f==="_splat"?p?encodeURI(h):h:p?AA(h,n):h}let u=!1;const c={},d=Un(i.map(f=>{if(f.type===wn)return f.value;if(f.type===ml){c._splat=t._splat,c["*"]=t._splat;const h=f.prefixSegment||"",p=f.suffixSegment||"";if(!("_splat"in t))return u=!0,r?`${h}${f.value}${p}`:h||p?`${h}${p}`:void 0;const m=l("_splat");return r?`${h}${f.value}${m??""}${p}`:`${h}${m}${p}`}if(f.type===Xi){const h=f.value.substring(1);!u&&!(h in t)&&(u=!0),c[h]=t[h];const p=f.prefixSegment||"",m=f.suffixSegment||"";if(s){const x=l(f.value);return`${p}${f.value}${x??""}${m}`}return`${p}${l(h)??"undefined"}${m}`}if(f.type===pl){const h=f.value.substring(1),p=f.prefixSegment||"",m=f.suffixSegment||"";if(!(h in t)||t[h]==null)return r?`${p}${h}${m}`:p||m?`${p}${m}`:void 0;if(c[h]=t[h],s){const x=l(f.value);return`${p}${f.value}${x??""}${m}`}return r?`${p}${h}${l(h)??""}${m}`:`${p}${l(h)??""}${m}`}return f.value}));return{usedParams:c,interpolatedPath:d,isMissingParams:u}}function AA(e,t){let r=encodeURIComponent(e);if(t)for(const[s,n]of t)r=r.replaceAll(s,n);return r}function xp(e,t,r){const s=jA(e,t,r);if(!(t.to&&!s))return s??{}}function jA(e,{to:t,fuzzy:r,caseSensitive:s},n){const a=t,i=gb(e.startsWith("/")?e:`/${e}`,n),l=Lf(a.startsWith("/")?a:`/${a}`,n),u={};return FA(i,l,u,r,s)?u:void 0}function FA(e,t,r,s,n){var l,u,c;let a=0,i=0;for(;a<e.length||i<t.length;){const d=e[a],f=t[i];if(f){if(f.type===ml){const h=e.slice(a);let p;if(f.prefixSegment||f.suffixSegment){if(!d)return!1;const m=f.prefixSegment||"",x=f.suffixSegment||"",y=d.value;if("prefixSegment"in f&&!y.startsWith(m)||"suffixSegment"in f&&!((l=e[e.length-1])!=null&&l.value.endsWith(x)))return!1;let g=decodeURI(Un(h.map(v=>v.value)));m&&g.startsWith(m)&&(g=g.slice(m.length)),x&&g.endsWith(x)&&(g=g.slice(0,g.length-x.length)),p=g}else p=decodeURI(Un(h.map(m=>m.value)));return r["*"]=p,r._splat=p,!0}if(f.type===wn){if(f.value==="/"&&!(d!=null&&d.value)){i++;continue}if(d){if(n){if(f.value!==d.value)return!1}else if(f.value.toLowerCase()!==d.value.toLowerCase())return!1;a++,i++;continue}else return!1}if(f.type===Xi){if(!d||d.value==="/")return!1;let h="",p=!1;if(f.prefixSegment||f.suffixSegment){const m=f.prefixSegment||"",x=f.suffixSegment||"",y=d.value;if(m&&!y.startsWith(m)||x&&!y.endsWith(x))return!1;let g=y;m&&g.startsWith(m)&&(g=g.slice(m.length)),x&&g.endsWith(x)&&(g=g.slice(0,g.length-x.length)),h=decodeURIComponent(g),p=!0}else h=decodeURIComponent(d.value),p=!0;p&&(r[f.value.substring(1)]=h,a++),i++;continue}if(f.type===pl){if(!d){i++;continue}if(d.value==="/"){i++;continue}let h="",p=!1;if(f.prefixSegment||f.suffixSegment){const m=f.prefixSegment||"",x=f.suffixSegment||"",y=d.value;if((!m||y.startsWith(m))&&(!x||y.endsWith(x))){let g=y;m&&g.startsWith(m)&&(g=g.slice(m.length)),x&&g.endsWith(x)&&(g=g.slice(0,g.length-x.length)),h=decodeURIComponent(g),p=!0}}else{let m=!0;for(let x=i+1;x<t.length;x++){const y=t[x];if((y==null?void 0:y.type)===wn&&y.value===d.value){m=!1;break}if((y==null?void 0:y.type)===Xi||(y==null?void 0:y.type)===ml){e.length<t.length&&(m=!1);break}}m&&(h=decodeURIComponent(d.value),p=!0)}p&&(r[f.value.substring(1)]=h,a++),i++;continue}}if(a<e.length&&i>=t.length)return r["**"]=Un(e.slice(a).map(h=>h.value)),!!s&&((u=t[t.length-1])==null?void 0:u.value)!=="/";if(i<t.length&&a>=e.length){for(let h=i;h<t.length;h++)if(((c=t[h])==null?void 0:c.type)!==pl)return!1;break}break}return!0}const RA=.75,DA=1,PA=.5,OA=.4,IA=.25,MA=.2,LA=.05,BA=.02,zA=.01,zy=2e-4,Uy=1e-4;function $y(e,t){return e.prefixSegment&&e.suffixSegment?t+LA+zy*e.prefixSegment.length+Uy*e.suffixSegment.length:e.prefixSegment?t+BA+zy*e.prefixSegment.length:e.suffixSegment?t+zA+Uy*e.suffixSegment.length:t}function UA(e){const t=[];return e.forEach((s,n)=>{var f;if(s.isRoot||!s.path)return;const a=dg(s.fullPath);let i=Lf(a),l=0;for(;i.length>l+1&&((f=i[l])==null?void 0:f.value)==="/";)l++;l>0&&(i=i.slice(l));let u=0,c=!1;const d=i.map((h,p)=>{if(h.value==="/")return RA;if(h.type===wn)return DA;let m;h.type===Xi?m=PA:h.type===pl?(m=OA,u++):m=IA;for(let x=p+1;x<i.length;x++){const y=i[x];if(y.type===wn&&y.value!=="/")return c=!0,$y(h,m+MA)}return $y(h,m)});t.push({child:s,trimmed:a,parsed:i,index:n,scores:d,optionalParamCount:u,hasStaticAfter:c})}),t.sort((s,n)=>{const a=Math.min(s.scores.length,n.scores.length);for(let i=0;i<a;i++)if(s.scores[i]!==n.scores[i])return n.scores[i]-s.scores[i];if(s.scores.length!==n.scores.length){if(s.optionalParamCount!==n.optionalParamCount){if(s.hasStaticAfter===n.hasStaticAfter)return s.optionalParamCount-n.optionalParamCount;if(s.hasStaticAfter&&!n.hasStaticAfter)return-1;if(!s.hasStaticAfter&&n.hasStaticAfter)return 1}return n.scores.length-s.scores.length}for(let i=0;i<a;i++)if(s.parsed[i].value!==n.parsed[i].value)return s.parsed[i].value>n.parsed[i].value?1:-1;return s.index-n.index}).map((s,n)=>(s.child.rank=n,s.child))}function $A({routeTree:e,initRoute:t}){const r={},s={},n=i=>{i.forEach((l,u)=>{t==null||t(l,u);const c=r[l.id];if(Yn(!c,`Duplicate routes found with id: ${String(l.id)}`),r[l.id]=l,!l.isRoot&&l.path){const f=Ka(l.fullPath);(!s[f]||l.fullPath.endsWith("/"))&&(s[f]=l)}const d=l.children;d!=null&&d.length&&n(d)})};n([e]);const a=UA(Object.values(r));return{routesById:r,routesByPath:s,flatRoutes:a}}function Sn(e){return!!(e!=null&&e.isNotFound)}function VA(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const V0="tsr-scroll-restoration-v1_3",HA=(e,t)=>{let r;return(...s)=>{r||(r=setTimeout(()=>{e(...s),r=null},t))}};function WA(){const e=VA();if(!e)return null;const t=e.getItem(V0);let r=t?JSON.parse(t):{};return{state:r,set:s=>(r=Li(s,r)||r,e.setItem(V0,JSON.stringify(r)))}}const _d=WA(),gp=e=>e.state.__TSR_key||e.href;function KA(e){const t=[];let r;for(;r=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(r.children,e)+1})`),e=r;return`${t.reverse().join(" > ")}`.toLowerCase()}let H0=!1;function vb({storageKey:e,key:t,behavior:r,shouldScrollRestoration:s,scrollToTopSelectors:n,location:a}){var c,d;let i;try{i=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(f){console.error(f);return}const l=t||((c=window.history.state)==null?void 0:c.__TSR_key),u=i[l];H0=!0;e:{if(s&&u&&Object.keys(u).length>0){for(const p in u){const m=u[p];if(p==="window")window.scrollTo({top:m.scrollY,left:m.scrollX,behavior:r});else if(p){const x=document.querySelector(p);x&&(x.scrollLeft=m.scrollX,x.scrollTop=m.scrollY)}}break e}const f=(a??window.location).hash.split("#",2)[1];if(f){const p=((d=window.history.state)==null?void 0:d.__hashScrollIntoViewOptions)??!0;if(p){const m=document.getElementById(f);m&&m.scrollIntoView(p)}break e}const h={top:0,left:0,behavior:r};if(window.scrollTo(h),n)for(const p of n){if(p==="window")continue;const m=typeof p=="function"?p():document.querySelector(p);m&&m.scrollTo(h)}}H0=!1}function GA(e,t){if(!_d&&!e.isServer||((t??e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isServer||e.isScrollRestorationSetup||!_d))return;e.isScrollRestorationSetup=!0,H0=!1;const s=e.options.getScrollRestorationKey||gp;window.history.scrollRestoration="manual";const n=a=>{if(H0||!e.isScrollRestoring)return;let i="";if(a.target===document||a.target===window)i="window";else{const u=a.target.getAttribute("data-scroll-restoration-id");u?i=`[data-scroll-restoration-id="${u}"]`:i=KA(a.target)}const l=s(e.state.location);_d.set(u=>{const c=u[l]||(u[l]={}),d=c[i]||(c[i]={});if(i==="window")d.scrollX=window.scrollX||0,d.scrollY=window.scrollY||0;else if(i){const f=document.querySelector(i);f&&(d.scrollX=f.scrollLeft||0,d.scrollY=f.scrollTop||0)}return u})};typeof document<"u"&&document.addEventListener("scroll",HA(n,100),!0),e.subscribe("onRendered",a=>{const i=s(a.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||(vb({storageKey:V0,key:i,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&_d.set(l=>(l[i]||(l[i]={}),l)))})}function qA(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const r=document.getElementById(e.state.location.hash);r&&r.scrollIntoView(t)}}}function YA(e,t=String){const r=new URLSearchParams;for(const s in e){const n=e[s];n!==void 0&&r.set(s,t(n))}return r.toString()}function Mh(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function XA(e){const t=new URLSearchParams(e),r={};for(const[s,n]of t.entries()){const a=r[s];a==null?r[s]=Mh(n):Array.isArray(a)?a.push(Mh(n)):r[s]=[a,Mh(n)]}return r}const QA=JA(JSON.parse),ZA=ej(JSON.stringify,JSON.parse);function JA(e){return t=>{t[0]==="?"&&(t=t.substring(1));const r=XA(t);for(const s in r){const n=r[s];if(typeof n=="string")try{r[s]=e(n)}catch{}}return r}}function ej(e,t){const r=typeof t=="function";function s(n){if(typeof n=="object"&&n!==null)try{return e(n)}catch{}else if(r&&typeof n=="string")try{return t(n),e(n)}catch{}return n}return n=>{const a=YA(n,s);return a?`?${a}`:""}}function tj(e){if(e.statusCode=e.statusCode||e.code||307,!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const r=new Response(null,{status:e.statusCode,headers:t});if(r.options=e,e.throw)throw r;return r}function pn(e){return e instanceof Response&&!!e.options}function rj(e){const t=new Map;let r,s;const n=a=>{a.next&&(a.prev?(a.prev.next=a.next,a.next.prev=a.prev,a.next=void 0,s&&(s.next=a,a.prev=s)):(a.next.prev=void 0,r=a.next,a.next=void 0,s&&(a.prev=s,s.next=a)),s=a)};return{get(a){const i=t.get(a);if(i)return n(i),i.value},set(a,i){if(t.size>=e&&r){const u=r;t.delete(u.key),u.next&&(r=u.next,u.next.prev=void 0),u===s&&(s=void 0)}const l=t.get(a);if(l)l.value=i,n(l);else{const u={key:a,value:i,prev:s};s&&(s.next=u),s=u,r||(r=u),t.set(a,u)}}}}const i0=e=>{var t;if(!e.rendered)return e.rendered=!0,(t=e.onReady)==null?void 0:t.call(e)},Bf=(e,t)=>!!(e.preload&&!e.router.state.matches.some(r=>r.id===t)),wb=(e,t)=>{var n;const r=e.router.routesById[t.routeId??""]??e.router.routeTree;!r.options.notFoundComponent&&((n=e.router.options)!=null&&n.defaultNotFoundComponent)&&(r.options.notFoundComponent=e.router.options.defaultNotFoundComponent),Yn(r.options.notFoundComponent);const s=e.matches.find(a=>a.routeId===r.id);Yn(s,"Could not find match for route: "+r.id),e.updateMatch(s.id,a=>({...a,status:"notFound",error:t,isFetching:!1})),t.routerCode==="BEFORE_LOAD"&&r.parentRoute&&(t.routeId=r.parentRoute.id,wb(e,t))},ja=(e,t,r)=>{var s,n,a;if(!(!pn(r)&&!Sn(r))){if(pn(r)&&r.redirectHandled&&!r.options.reloadDocument)throw r;if(t){(s=t._nonReactive.beforeLoadPromise)==null||s.resolve(),(n=t._nonReactive.loaderPromise)==null||n.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const i=pn(r)?"redirected":"notFound";e.updateMatch(t.id,l=>({...l,status:i,isFetching:!1,error:r})),Sn(r)&&!r.routeId&&(r.routeId=t.routeId),(a=t._nonReactive.loadPromise)==null||a.resolve()}throw pn(r)?(e.rendered=!0,r.options._fromLocation=e.location,r.redirectHandled=!0,r=e.router.resolveRedirect(r),r):(wb(e,r),r)}},kb=(e,t)=>{const r=e.router.getMatch(t);return!!(!e.router.isServer&&r._nonReactive.dehydrated||e.router.isServer&&r.ssr===!1)},Ql=(e,t,r,s)=>{var l,u;const{id:n,routeId:a}=e.matches[t],i=e.router.looseRoutesById[a];if(r instanceof Promise)throw r;r.routerCode=s,e.firstBadMatchIndex??(e.firstBadMatchIndex=t),ja(e,e.router.getMatch(n),r);try{(u=(l=i.options).onError)==null||u.call(l,r)}catch(c){r=c,ja(e,e.router.getMatch(n),r)}e.updateMatch(n,c=>{var d,f;return(d=c._nonReactive.beforeLoadPromise)==null||d.resolve(),c._nonReactive.beforeLoadPromise=void 0,(f=c._nonReactive.loadPromise)==null||f.resolve(),{...c,error:r,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},sj=(e,t,r,s)=>{var p;const n=e.router.getMatch(t),a=(p=e.matches[r-1])==null?void 0:p.id,i=a?e.router.getMatch(a):void 0;if(e.router.isShell()){n.ssr=t===qr;return}if((i==null?void 0:i.ssr)===!1){n.ssr=!1;return}const l=m=>m===!0&&(i==null?void 0:i.ssr)==="data-only"?"data-only":m,u=e.router.options.defaultSsr??!0;if(s.options.ssr===void 0){n.ssr=l(u);return}if(typeof s.options.ssr!="function"){n.ssr=l(s.options.ssr);return}const{search:c,params:d}=n,f={search:Ed(c,n.searchError),params:Ed(d,n.paramsError),location:e.location,matches:e.matches.map(m=>({index:m.index,pathname:m.pathname,fullPath:m.fullPath,staticData:m.staticData,id:m.id,routeId:m.routeId,search:Ed(m.search,m.searchError),params:Ed(m.params,m.paramsError),ssr:m.ssr}))},h=s.options.ssr(f);if(Wa(h))return h.then(m=>{n.ssr=l(m??u)});n.ssr=l(h??u)},Sb=(e,t,r,s)=>{var i;if(s._nonReactive.pendingTimeout!==void 0)return;const n=r.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!e.router.isServer&&!Bf(e,t)&&(r.options.loader||r.options.beforeLoad||Eb(r))&&typeof n=="number"&&n!==1/0&&(r.options.pendingComponent??((i=e.router.options)==null?void 0:i.defaultPendingComponent)))){const l=setTimeout(()=>{i0(e)},n);s._nonReactive.pendingTimeout=l}},nj=(e,t,r)=>{const s=e.router.getMatch(t);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;Sb(e,t,r,s);const n=()=>{const a=e.router.getMatch(t);a.preload&&(a.status==="redirected"||a.status==="notFound")&&ja(e,a,a.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(n):n()},aj=(e,t,r,s)=>{var _;const n=e.router.getMatch(t),a=n._nonReactive.loadPromise;n._nonReactive.loadPromise=hl(()=>{a==null||a.resolve()});const{paramsError:i,searchError:l}=n;i&&Ql(e,r,i,"PARSE_PARAMS"),l&&Ql(e,r,l,"VALIDATE_SEARCH"),Sb(e,t,s,n);const u=new AbortController,c=(_=e.matches[r-1])==null?void 0:_.id,d=c?e.router.getMatch(c):void 0,h={...(d==null?void 0:d.context)??e.router.options.context??void 0,...n.__routeContext};let p=!1;const m=()=>{p||(p=!0,e.updateMatch(t,S=>({...S,isFetching:"beforeLoad",fetchCount:S.fetchCount+1,abortController:u,context:h})))},x=()=>{var S;(S=n._nonReactive.beforeLoadPromise)==null||S.resolve(),n._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,k=>({...k,isFetching:!1}))};if(!s.options.beforeLoad){Cc(()=>{m(),x()});return}n._nonReactive.beforeLoadPromise=hl();const{search:y,params:g,cause:v}=n,w=Bf(e,t),b={search:y,abortController:u,params:g,preload:w,context:h,location:e.location,navigate:S=>e.router.navigate({...S,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:w?"preload":v,matches:e.matches,...e.router.options.additionalContext},D=S=>{if(S===void 0){Cc(()=>{m(),x()});return}(pn(S)||Sn(S))&&(m(),Ql(e,r,S,"BEFORE_LOAD")),Cc(()=>{m(),e.updateMatch(t,k=>({...k,__beforeLoadContext:S,context:{...k.context,...S}})),x()})};let A;try{if(A=s.options.beforeLoad(b),Wa(A))return m(),A.catch(S=>{Ql(e,r,S,"BEFORE_LOAD")}).then(D)}catch(S){m(),Ql(e,r,S,"BEFORE_LOAD")}D(A)},ij=(e,t)=>{const{id:r,routeId:s}=e.matches[t],n=e.router.looseRoutesById[s],a=()=>{if(e.router.isServer){const u=sj(e,r,t,n);if(Wa(u))return u.then(l)}return l()},i=()=>aj(e,r,t,n),l=()=>{if(kb(e,r))return;const u=nj(e,r,n);return Wa(u)?u.then(i):i()};return a()},Tc=(e,t,r)=>{var a,i,l,u,c,d;const s=e.router.getMatch(t);if(!s||!r.options.head&&!r.options.scripts&&!r.options.headers)return;const n={matches:e.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([(i=(a=r.options).head)==null?void 0:i.call(a,n),(u=(l=r.options).scripts)==null?void 0:u.call(l,n),(d=(c=r.options).headers)==null?void 0:d.call(c,n)]).then(([f,h,p])=>{const m=f==null?void 0:f.meta,x=f==null?void 0:f.links,y=f==null?void 0:f.scripts,g=f==null?void 0:f.styles;return{meta:m,links:x,headScripts:y,headers:p,scripts:h,styles:g}})},bb=(e,t,r,s)=>{const n=e.matchPromises[r-1],{params:a,loaderDeps:i,abortController:l,context:u,cause:c}=e.router.getMatch(t),d=Bf(e,t);return{params:a,deps:i,preload:!!d,parentMatchPromise:n,abortController:l,context:u,location:e.location,navigate:f=>e.router.navigate({...f,_fromLocation:e.location}),cause:d?"preload":c,route:s,...e.router.options.additionalContext}},Vy=async(e,t,r,s)=>{var n,a,i,l;try{const u=e.router.getMatch(t);try{(!e.router.isServer||u.ssr===!0)&&_b(s);const c=(a=(n=s.options).loader)==null?void 0:a.call(n,bb(e,t,r,s)),d=s.options.loader&&Wa(c);if(!!(d||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||u._nonReactive.minPendingPromise)&&e.updateMatch(t,x=>({...x,isFetching:"loader"})),s.options.loader){const x=d?await c:c;ja(e,e.router.getMatch(t),x),x!==void 0&&e.updateMatch(t,y=>({...y,loaderData:x}))}s._lazyPromise&&await s._lazyPromise;const h=Tc(e,t,s),p=h?await h:void 0,m=u._nonReactive.minPendingPromise;m&&await m,s._componentsPromise&&await s._componentsPromise,e.updateMatch(t,x=>({...x,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...p}))}catch(c){let d=c;const f=u._nonReactive.minPendingPromise;f&&await f,ja(e,e.router.getMatch(t),c);try{(l=(i=s.options).onError)==null||l.call(i,c)}catch(m){d=m,ja(e,e.router.getMatch(t),m)}const h=Tc(e,t,s),p=h?await h:void 0;e.updateMatch(t,m=>({...m,error:d,status:"error",isFetching:!1,...p}))}}catch(u){const c=e.router.getMatch(t);if(c){const d=Tc(e,t,s);if(d){const f=await d;e.updateMatch(t,h=>({...h,...f}))}c._nonReactive.loaderPromise=void 0}ja(e,c,u)}},oj=async(e,t)=>{var c,d;const{id:r,routeId:s}=e.matches[t];let n=!1,a=!1;const i=e.router.looseRoutesById[s];if(kb(e,r)){if(e.router.isServer){const f=Tc(e,r,i);if(f){const h=await f;e.updateMatch(r,p=>({...p,...h}))}return e.router.getMatch(r)}}else{const f=e.router.getMatch(r);if(f._nonReactive.loaderPromise){if(f.status==="success"&&!e.sync&&!f.preload)return f;await f._nonReactive.loaderPromise;const h=e.router.getMatch(r);h.error&&ja(e,h,h.error)}else{const h=Date.now()-f.updatedAt,p=Bf(e,r),m=p?i.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:i.options.staleTime??e.router.options.defaultStaleTime??0,x=i.options.shouldReload,y=typeof x=="function"?x(bb(e,r,t,i)):x,g=!!p&&!e.router.state.matches.some(D=>D.id===r),v=e.router.getMatch(r);v._nonReactive.loaderPromise=hl(),g!==v.preload&&e.updateMatch(r,D=>({...D,preload:g}));const{status:w,invalid:b}=v;if(n=w==="success"&&(b||(y??h>m)),!(p&&i.options.preload===!1))if(n&&!e.sync)a=!0,(async()=>{var D,A;try{await Vy(e,r,t,i);const _=e.router.getMatch(r);(D=_._nonReactive.loaderPromise)==null||D.resolve(),(A=_._nonReactive.loadPromise)==null||A.resolve(),_._nonReactive.loaderPromise=void 0}catch(_){pn(_)&&await e.router.navigate(_.options)}})();else if(w!=="success"||n&&e.sync)await Vy(e,r,t,i);else{const D=Tc(e,r,i);if(D){const A=await D;e.updateMatch(r,_=>({..._,...A}))}}}}const l=e.router.getMatch(r);a||((c=l._nonReactive.loaderPromise)==null||c.resolve(),(d=l._nonReactive.loadPromise)==null||d.resolve()),clearTimeout(l._nonReactive.pendingTimeout),l._nonReactive.pendingTimeout=void 0,a||(l._nonReactive.loaderPromise=void 0),l._nonReactive.dehydrated=void 0;const u=a?l.isFetching:!1;return u!==l.isFetching||l.invalid!==!1?(e.updateMatch(r,f=>({...f,isFetching:u,invalid:!1})),e.router.getMatch(r)):l};async function Hy(e){const t=Object.assign(e,{matchPromises:[]});!t.router.isServer&&t.router.state.matches.some(r=>r._forcePending)&&i0(t);try{for(let n=0;n<t.matches.length;n++){const a=ij(t,n);Wa(a)&&await a}const r=t.firstBadMatchIndex??t.matches.length;for(let n=0;n<r;n++)t.matchPromises.push(oj(t,n));await Promise.all(t.matchPromises);const s=i0(t);Wa(s)&&await s}catch(r){if(Sn(r)&&!t.preload){const s=i0(t);throw Wa(s)&&await s,r}if(pn(r))throw r}return t.matches}async function _b(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:r,...s}=t.options;Object.assign(e.options,s),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{var s;const r=[];for(const n of Nb){const a=(s=e.options[n])==null?void 0:s.preload;a&&r.push(a())}if(r.length)return Promise.all(r).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function Ed(e,t){return t?{status:"error",error:t}:{status:"success",value:e}}function Eb(e){var t;for(const r of Nb)if((t=e.options[r])!=null&&t.preload)return!0;return!1}const Nb=["component","errorComponent","pendingComponent","notFoundComponent"];function lj(e){return{input:({url:t})=>{for(const r of e)t=Cb(r,t);return t},output:({url:t})=>{for(let r=e.length-1;r>=0;r--)t=Tb(e[r],t);return t}}}function cj(e){const t=a0(e.basepath),r=`/${t}`,s=`${r}/`,n=e.caseSensitive?r:r.toLowerCase(),a=e.caseSensitive?s:s.toLowerCase();return{input:({url:i})=>{const l=e.caseSensitive?i.pathname:i.pathname.toLowerCase();return l===n?i.pathname="/":l.startsWith(a)&&(i.pathname=i.pathname.slice(r.length)),i},output:({url:i})=>(i.pathname=Un(["/",t,i.pathname]),i)}}function Cb(e,t){var s;const r=(s=e==null?void 0:e.input)==null?void 0:s.call(e,{url:t});if(r){if(typeof r=="string")return new URL(r);if(r instanceof URL)return r}return t}function Tb(e,t){var s;const r=(s=e==null?void 0:e.output)==null?void 0:s.call(e,{url:t});if(r){if(typeof r=="string")return new URL(r);if(r instanceof URL)return r}return t}function zi(e){const t=e.resolvedLocation,r=e.location,s=(t==null?void 0:t.pathname)!==r.pathname,n=(t==null?void 0:t.href)!==r.href,a=(t==null?void 0:t.hash)!==r.hash;return{fromLocation:t,toLocation:r,pathChanged:s,hrefChanged:n,hashChanged:a}}class uj{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=r=>r(),this.update=r=>{var h;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,n=this.basepath??(s==null?void 0:s.basepath)??"/",a=this.basepath===void 0,i=s==null?void 0:s.rewrite;this.options={...s,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(p=>[encodeURIComponent(p),p])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=xA())),this.origin=this.options.origin,this.origin||(!this.isServer&&(window!=null&&window.origin)&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new mp(fj(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(p=>!["redirected"].includes(p.status))}}}),GA(this));let l=!1;const u=this.options.basepath??"/",c=this.options.rewrite;if(a||n!==u||i!==c){this.basepath=u;const p=[];a0(u)!==""&&p.push(cj({basepath:u})),c&&p.push(c),this.rewrite=p.length===0?void 0:p.length===1?p[0]:lj(p),this.history&&this.updateLatestLocation(),l=!0}l&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof((h=window.CSS)==null?void 0:h.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:r,routesByPath:s,flatRoutes:n}=$A({routeTree:this.routeTree,initRoute:(i,l)=>{i.init({originalIndex:l})}});this.routesById=r,this.routesByPath=s,this.flatRoutes=n;const a=this.options.notFoundRoute;a&&(a.init({originalIndex:99999999999}),this.routesById[a.id]=a)},this.subscribe=(r,s)=>{const n={eventType:r,fn:s};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=r=>{this.subscribers.forEach(s=>{s.eventType===r.type&&s.fn(r)})},this.parseLocation=(r,s)=>{const n=({href:u,state:c})=>{const d=new URL(u,this.origin),f=Cb(this.rewrite,d),h=this.options.parseSearch(f.search),p=this.options.stringifySearch(h);f.search=p;const m=f.href.replace(f.origin,""),{pathname:x,hash:y}=f;return{href:m,publicHref:u,url:f.href,pathname:x,searchStr:p,search:Ss(s==null?void 0:s.search,h),hash:y.split("#").reverse()[0]??"",state:Ss(s==null?void 0:s.state,c)}},a=n(r),{__tempLocation:i,__tempKey:l}=a.state;if(i&&(!l||l===this.tempLocationKey)){const u=n(i);return u.state.key=a.state.key,u.state.__TSR_key=a.state.__TSR_key,delete u.state.__tempLocation,{...u,maskedLocation:a}}return a},this.resolvePathWithBase=(r,s)=>SA({base:r,to:ug(s),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(r,s,n)=>typeof r=="string"?this.matchRoutesInternal({pathname:r,search:s},n):this.matchRoutesInternal(r,s),this.parsePathnameCache=rj(1e3),this.getMatchedRoutes=(r,s)=>hj({pathname:r,routePathname:s,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=r=>{const s=this.getMatch(r);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(s=>{this.cancelMatch(s.id)})},this.buildLocation=r=>{const s=(a={})=>{var N,C;const i=a._fromLocation||this.latestLocation,l=this.matchRoutes(i,{_buildLocation:!0}),u=pp(l);a.from;const c=a.unsafeRelative==="path"?i.pathname:a.from??u.fullPath,d=this.resolvePathWithBase(c,"."),f=u.search,h={...u.params},p=a.to?this.resolvePathWithBase(d,`${a.to}`):this.resolvePathWithBase(d,"."),m=a.params===!1||a.params===null?{}:(a.params??!0)===!0?h:Object.assign(h,Li(a.params,h)),x=bd({path:p,params:m,parseCache:this.parsePathnameCache}).interpolatedPath,y=this.matchRoutes(x,void 0,{_buildLocation:!0}).map(E=>this.looseRoutesById[E.routeId]);if(Object.keys(m).length>0)for(const E of y){const M=((N=E.options.params)==null?void 0:N.stringify)??E.options.stringifyParams;M&&Object.assign(m,M(m))}const g=bd({path:p,params:m,leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let v=f;if(r._includeValidateSearch&&((C=this.options.search)!=null&&C.strict)){const E={};y.forEach(M=>{if(M.options.validateSearch)try{Object.assign(E,yp(M.options.validateSearch,{...E,...v}))}catch{}}),v=E}v=mj({search:v,dest:a,destRoutes:y,_includeValidateSearch:r._includeValidateSearch}),v=Ss(f,v);const w=this.options.stringifySearch(v),b=a.hash===!0?i.hash:a.hash?Li(a.hash,i.hash):void 0,D=b?`#${b}`:"";let A=a.state===!0?i.state:a.state?Li(a.state,i.state):{};A=Ss(i.state,A);const _=`${g}${w}${D}`,S=new URL(_,this.origin),k=Tb(this.rewrite,S);return{publicHref:k.pathname+k.search+k.hash,href:_,url:k.href,pathname:g,search:v,searchStr:w,state:A,hash:b??"",unmaskOnReload:a.unmaskOnReload}},n=(a={},i)=>{var c;const l=s(a);let u=i?s(i):void 0;if(!u){let d={};const f=(c=this.options.routeMasks)==null?void 0:c.find(h=>{const p=xp(l.pathname,{to:h.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return p?(d=p,!0):!1});if(f){const{from:h,...p}=f;i={from:r.from,...p,params:d},u=s(i)}}return u&&(l.maskedLocation=u),l};return r.mask?n(r,{from:r.from,...r.mask}):n(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:s,...n})=>{const a=()=>{const u=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];u.forEach(d=>{n.state[d]=this.latestLocation.state[d]});const c=Bi(n.state,this.latestLocation.state);return u.forEach(d=>{delete n.state[d]}),c},i=Ka(this.latestLocation.href)===Ka(n.href),l=this.commitLocationPromise;if(this.commitLocationPromise=hl(()=>{l==null||l.resolve()}),i&&a())this.load();else{let{maskedLocation:u,hashScrollIntoView:c,...d}=n;u&&(d={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...d,search:d.searchStr,state:{...d.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(d.unmaskOnReload??this.options.unmaskOnReload??!1)&&(d.state.__tempKey=this.tempLocationKey)),d.state.__hashScrollIntoViewOptions=c??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[n.replace?"replace":"push"](d.publicHref,d.state,{ignoreBlocker:s})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:s,hashScrollIntoView:n,viewTransition:a,ignoreBlocker:i,href:l,...u}={})=>{if(l){const d=this.history.location.state.__TSR_index,f=z0(l,{__TSR_index:r?d:d+1});u.to=f.pathname,u.search=this.options.parseSearch(f.search),u.hash=f.hash.slice(1)}const c=this.buildLocation({...u,_includeValidateSearch:!0});return this.commitLocation({...c,viewTransition:a,replace:r,resetScroll:s,hashScrollIntoView:n,ignoreBlocker:i})},this.navigate=({to:r,reloadDocument:s,href:n,...a})=>{if(!s&&n)try{new URL(`${n}`),s=!0}catch{}return s?(n||(n=this.buildLocation({to:r,...a}).url),a.replace?window.location.replace(n):window.location.href=n,Promise.resolve()):this.buildAndCommitLocation({...a,href:n,to:r,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),n=a=>{try{return encodeURI(decodeURI(a))}catch{return a}};if(a0(n(this.latestLocation.href))!==a0(n(s.href))){let a=s.url;throw this.origin&&a.startsWith(this.origin)&&(a=a.replace(this.origin,"")||"/"),tj({href:a})}}const r=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:r,cachedMatches:s.cachedMatches.filter(n=>!r.some(a=>a.id===n.id))}))},this.load=async r=>{let s,n,a;for(a=new Promise(i=>{this.startTransition(async()=>{var l;try{this.beforeLoad();const u=this.latestLocation,c=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...zi({resolvedLocation:c,location:u})}),this.emit({type:"onBeforeLoad",...zi({resolvedLocation:c,location:u})}),await Hy({router:this,sync:r==null?void 0:r.sync,matches:this.state.pendingMatches,location:u,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let d,f,h;Cc(()=>{this.__store.setState(p=>{const m=p.matches,x=p.pendingMatches||p.matches;return d=m.filter(y=>!x.some(g=>g.id===y.id)),f=x.filter(y=>!m.some(g=>g.id===y.id)),h=m.filter(y=>x.some(g=>g.id===y.id)),{...p,isLoading:!1,loadedAt:Date.now(),matches:x,pendingMatches:void 0,cachedMatches:[...p.cachedMatches,...d.filter(y=>y.status!=="error")]}}),this.clearExpiredCache()}),[[d,"onLeave"],[f,"onEnter"],[h,"onStay"]].forEach(([p,m])=>{p.forEach(x=>{var y,g;(g=(y=this.looseRoutesById[x.routeId].options)[m])==null||g.call(y,x)})})})}})}catch(u){pn(u)?(s=u,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):Sn(u)&&(n=u),this.__store.setState(c=>({...c,statusCode:s?s.status:n?404:c.matches.some(d=>d.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===a&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),i()})}),this.latestLoadPromise=a,await a;this.latestLoadPromise&&a!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(i=>({...i,statusCode:404}))},this.startViewTransition=r=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const a=this.latestLocation,i=this.state.resolvedLocation,l=typeof s.types=="function"?s.types(zi({resolvedLocation:i,location:a})):s.types;if(l===!1){r();return}n={update:r,types:l}}else n=r;document.startViewTransition(n)}else r()},this.updateMatch=(r,s)=>{var a;const n=(a=this.state.pendingMatches)!=null&&a.some(i=>i.id===r)?"pendingMatches":this.state.matches.some(i=>i.id===r)?"matches":this.state.cachedMatches.some(i=>i.id===r)?"cachedMatches":"";n&&this.__store.setState(i=>{var l;return{...i,[n]:(l=i[n])==null?void 0:l.map(u=>u.id===r?s(u):u)}})},this.getMatch=r=>{var n;const s=a=>a.id===r;return this.state.cachedMatches.find(s)??((n=this.state.pendingMatches)==null?void 0:n.find(s))??this.state.matches.find(s)},this.invalidate=r=>{const s=n=>{var a;return((a=r==null?void 0:r.filter)==null?void 0:a.call(r,n))??!0?{...n,invalid:!0,...r!=null&&r.forcePending||n.status==="error"?{status:"pending",error:void 0}:void 0}:n};return this.__store.setState(n=>{var a;return{...n,matches:n.matches.map(s),cachedMatches:n.cachedMatches.map(s),pendingMatches:(a=n.pendingMatches)==null?void 0:a.map(s)}}),this.shouldViewTransition=!1,this.load({sync:r==null?void 0:r.sync})},this.resolveRedirect=r=>{if(!r.options.href){const s=this.buildLocation(r.options);let n=s.url;this.origin&&n.startsWith(this.origin)&&(n=n.replace(this.origin,"")||"/"),r.options.href=s.href,r.headers.set("Location",n)}return r.headers.get("Location")||r.headers.set("Location",r.options.href),r},this.clearCache=r=>{const s=r==null?void 0:r.filter;s!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(a=>!s(a))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=s=>{const n=this.looseRoutesById[s.routeId];if(!n.options.loader)return!0;const a=(s.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=a};this.clearCache({filter:r})},this.loadRouteChunk=_b,this.preloadRoute=async r=>{const s=this.buildLocation(r);let n=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:r});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),i=new Set([...a,...this.state.cachedMatches.map(l=>l.id)]);Cc(()=>{n.forEach(l=>{i.has(l.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,l]}))})});try{return n=await Hy({router:this,matches:n,location:s,preload:!0,updateMatch:(l,u)=>{a.has(l)?n=n.map(c=>c.id===l?u(c):c):this.updateMatch(l,u)}}),n}catch(l){if(pn(l))return l.options.reloadDocument?void 0:await this.preloadRoute({...l.options,_fromLocation:s});Sn(l)||console.error(l);return}},this.matchRoute=(r,s)=>{const n={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},a=this.buildLocation(n);if(s!=null&&s.pending&&this.state.status!=="pending")return!1;const l=((s==null?void 0:s.pending)===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,u=xp(l.pathname,{...s,to:a.pathname},this.parsePathnameCache);return!u||r.params&&!Bi(u,r.params,{partial:!0})?!1:u&&((s==null?void 0:s.includeSearch)??!0)?Bi(l.search,a.search,{partial:!0})?u:!1:u},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??ZA,parseSearch:t.parseSearch??QA}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(t,r){var d;const{foundRoute:s,matchedRoutes:n,routeParams:a}=this.getMatchedRoutes(t.pathname,(d=r==null?void 0:r.dest)==null?void 0:d.to);let i=!1;(s?s.path!=="/"&&a["**"]:Ka(t.pathname))&&(this.options.notFoundRoute?n.push(this.options.notFoundRoute):i=!0);const l=(()=>{if(i){if(this.options.notFoundMode!=="root")for(let f=n.length-1;f>=0;f--){const h=n[f];if(h.children)return h.id}return qr}})(),u=[],c=f=>(f==null?void 0:f.id)?f.context??this.options.context??void 0:this.options.context??void 0;return n.forEach((f,h)=>{var M,Q,Y;const p=u[h-1],[m,x,y]=(()=>{const X=(p==null?void 0:p.search)??t.search,ee=(p==null?void 0:p._strictSearch)??void 0;try{const te=yp(f.options.validateSearch,{...X})??void 0;return[{...X,...te},{...ee,...te},void 0]}catch(te){let R=te;if(te instanceof W0||(R=new W0(te.message,{cause:te})),r!=null&&r.throwOnError)throw R;return[X,{},R]}})(),g=((Q=(M=f.options).loaderDeps)==null?void 0:Q.call(M,{search:m}))??"",v=g?JSON.stringify(g):"",{interpolatedPath:w,usedParams:b}=bd({path:f.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),D=bd({path:f.id,params:a,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+v,A=this.getMatch(D),_=this.state.matches.find(X=>X.routeId===f.id),S=(A==null?void 0:A._strictParams)??b;let k;if(!A){const X=((Y=f.options.params)==null?void 0:Y.parse)??f.options.parseParams;if(X)try{Object.assign(S,X(S))}catch(ee){if(k=new dj(ee.message,{cause:ee}),r!=null&&r.throwOnError)throw k}}Object.assign(a,S);const N=_?"stay":"enter";let C;if(A)C={...A,cause:N,params:_?Ss(_.params,a):a,_strictParams:S,search:Ss(_?_.search:A.search,m),_strictSearch:x};else{const X=f.options.loader||f.options.beforeLoad||f.lazyFn||Eb(f)?"pending":"success";C={id:D,index:h,routeId:f.id,params:_?Ss(_.params,a):a,_strictParams:S,pathname:w,updatedAt:Date.now(),search:_?Ss(_.search,m):m,_strictSearch:x,searchError:void 0,status:X,isFetching:!1,error:void 0,paramsError:k,__routeContext:void 0,_nonReactive:{loadPromise:hl()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:N,loaderDeps:_?Ss(_.loaderDeps,g):g,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:f.options.staticData||{},fullPath:f.fullPath}}r!=null&&r.preload||(C.globalNotFound=l===f.id),C.searchError=y;const E=c(p);C.context={...E,...C.__routeContext,...C.__beforeLoadContext},u.push(C)}),u.forEach((f,h)=>{const p=this.looseRoutesById[f.routeId];if(!this.getMatch(f.id)&&(r==null?void 0:r._buildLocation)!==!0){const x=u[h-1],y=c(x);if(p.options.context){const g={deps:f.loaderDeps,params:f.params,context:y??{},location:t,navigate:v=>this.navigate({...v,_fromLocation:t}),buildLocation:this.buildLocation,cause:f.cause,abortController:f.abortController,preload:!!f.preload,matches:u};f.__routeContext=p.options.context(g)??void 0}f.context={...y,...f.__routeContext,...f.__beforeLoadContext}}}),u}}class W0 extends Error{}class dj extends Error{}function fj(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function yp(e,t){if(e==null)return{};if("~standard"in e){const r=e["~standard"].validate(t);if(r instanceof Promise)throw new W0("Async validation not supported");if(r.issues)throw new W0(JSON.stringify(r.issues,void 0,2),{cause:r});return r.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function hj({pathname:e,routePathname:t,caseSensitive:r,routesByPath:s,routesById:n,flatRoutes:a,parseCache:i}){let l={};const u=Ka(e),c=p=>{var x;return xp(u,{to:p.fullPath,caseSensitive:((x=p.options)==null?void 0:x.caseSensitive)??r,fuzzy:!0},i)};let d=t!==void 0?s[t]:void 0;if(d)l=c(d);else{let p;for(const m of a){const x=c(m);if(x)if(m.path!=="/"&&x["**"])p||(p={foundRoute:m,routeParams:x});else{d=m,l=x;break}}!d&&p&&(d=p.foundRoute,l=p.routeParams)}let f=d||n[qr];const h=[f];for(;f.parentRoute;)f=f.parentRoute,h.push(f);return h.reverse(),{matchedRoutes:h,routeParams:l,foundRoute:d}}function mj({search:e,dest:t,destRoutes:r,_includeValidateSearch:s}){const n=r.reduce((l,u)=>{var d;const c=[];if("search"in u.options)(d=u.options.search)!=null&&d.middlewares&&c.push(...u.options.search.middlewares);else if(u.options.preSearchFilters||u.options.postSearchFilters){const f=({search:h,next:p})=>{let m=h;"preSearchFilters"in u.options&&u.options.preSearchFilters&&(m=u.options.preSearchFilters.reduce((y,g)=>g(y),h));const x=p(m);return"postSearchFilters"in u.options&&u.options.postSearchFilters?u.options.postSearchFilters.reduce((y,g)=>g(y),x):x};c.push(f)}if(s&&u.options.validateSearch){const f=({search:h,next:p})=>{const m=p(h);try{return{...m,...yp(u.options.validateSearch,m)??void 0}}catch{return m}};c.push(f)}return l.concat(c)},[])??[],a=({search:l})=>t.search?t.search===!0?l:Li(t.search,l):{};n.push(a);const i=(l,u)=>{if(l>=n.length)return u;const c=n[l];return c({search:u,next:f=>i(l+1,f)})};return i(0,e)}const pj="Error preloading route! ";class Ab{constructor(t){if(this.init=r=>{var c,d;this.originalIndex=r.originalIndex;const s=this.options,n=!(s!=null&&s.path)&&!(s!=null&&s.id);this.parentRoute=(d=(c=this.options).getParentRoute)==null?void 0:d.call(c),n?this._path=qr:this.parentRoute||Yn(!1);let a=n?qr:s==null?void 0:s.path;a&&a!=="/"&&(a=dg(a));const i=(s==null?void 0:s.id)||a;let l=n?qr:Un([this.parentRoute.id===qr?"":this.parentRoute.id,i]);a===qr&&(a="/"),l!==qr&&(l=Un(["/",l]));const u=l===qr?"/":Un([this.parentRoute.fullPath,a]);this._path=a,this._id=l,this._fullPath=u,this._to=u},this.clone=r=>{this._path=r._path,this._id=r._id,this._fullPath=r._fullPath,this._to=r._to,this.options.getParentRoute=r.options.getParentRoute,this.children=r.children},this.addChildren=r=>this._addFileChildren(r),this._addFileChildren=r=>(Array.isArray(r)&&(this.children=r),typeof r=="object"&&r!==null&&(this.children=Object.values(r)),this),this._addFileTypes=()=>this,this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),t!=null&&t.id&&(t!=null&&t.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class xj extends Ab{constructor(t){super(t)}}function fg(e){const t=e.errorComponent??zf;return o.jsx(gj,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:r,reset:s})=>r?F.createElement(t,{error:r,reset:s}):e.children})}class gj extends F.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,r){this.props.onCatch&&this.props.onCatch(t,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function zf({error:e}){const[t,r]=F.useState(!1);return o.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[o.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),o.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(s=>!s),children:t?"Hide Error":"Show Error"})]}),o.jsx("div",{style:{height:".25rem"}}),t?o.jsx("div",{children:o.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?o.jsx("code",{children:e.message}):null})}):null]})}function yj({children:e,fallback:t=null}){return vj()?o.jsx(gt.Fragment,{children:e}):o.jsx(gt.Fragment,{children:t})}function vj(){return gt.useSyncExternalStore(wj,()=>!0,()=>!1)}function wj(){return()=>{}}var kj=!0;function au(e,t){if(!kj){if(e)return;var r="Warning: "+t;typeof console<"u"&&console.warn(r);try{throw Error(r)}catch{}}}var jb={exports:{}},Fb={},Rb={exports:{}},Db={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xl=F;function Sj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bj=typeof Object.is=="function"?Object.is:Sj,_j=xl.useState,Ej=xl.useEffect,Nj=xl.useLayoutEffect,Cj=xl.useDebugValue;function Tj(e,t){var r=t(),s=_j({inst:{value:r,getSnapshot:t}}),n=s[0].inst,a=s[1];return Nj(function(){n.value=r,n.getSnapshot=t,Lh(n)&&a({inst:n})},[e,r,t]),Ej(function(){return Lh(n)&&a({inst:n}),e(function(){Lh(n)&&a({inst:n})})},[e]),Cj(r),r}function Lh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bj(e,r)}catch{return!0}}function Aj(e,t){return t()}var jj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Aj:Tj;Db.useSyncExternalStore=xl.useSyncExternalStore!==void 0?xl.useSyncExternalStore:jj;Rb.exports=Db;var Fj=Rb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=F,Rj=Fj;function Dj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pj=typeof Object.is=="function"?Object.is:Dj,Oj=Rj.useSyncExternalStore,Ij=Uf.useRef,Mj=Uf.useEffect,Lj=Uf.useMemo,Bj=Uf.useDebugValue;Fb.useSyncExternalStoreWithSelector=function(e,t,r,s,n){var a=Ij(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=Lj(function(){function u(p){if(!c){if(c=!0,d=p,p=s(p),n!==void 0&&i.hasValue){var m=i.value;if(n(m,p))return f=m}return f=p}if(m=f,Pj(d,p))return m;var x=s(p);return n!==void 0&&n(m,x)?(d=p,m):(d=p,f=x)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,s,n]);var l=Oj(e,a[0],a[1]);return Mj(function(){i.hasValue=!0,i.value=l},[l]),Bj(l),l};jb.exports=Fb;var Pb=jb.exports;const zj=wf(Pb);function Uj(e,t=r=>r){return Pb.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,$j)}function $j(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,n]of e)if(!t.has(s)||!Object.is(n,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const r=Wy(e);if(r.length!==Wy(t).length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Object.is(e[r[s]],t[r[s]]))return!1;return!0}function Wy(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const Bh=F.createContext(null);function Ob(){return typeof document>"u"?Bh:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Bh,Bh)}function ys(e){const t=F.useContext(Ob());return au(!(((e==null?void 0:e.warn)??!0)&&!t),"useRouter must be used inside a <RouterProvider> component!"),t}function ts(e){const t=ys({warn:(e==null?void 0:e.router)===void 0}),r=(e==null?void 0:e.router)||t,s=F.useRef(void 0);return Uj(r.__store,n=>{if(e!=null&&e.select){if(e.structuralSharing??r.options.defaultStructuralSharing){const a=Ss(s.current,e.select(n));return s.current=a,a}return e.select(n)}return n})}const $f=F.createContext(void 0),Vj=F.createContext(void 0);function bn(e){const t=F.useContext(e.from?Vj:$f);return ts({select:s=>{const n=s.matches.find(a=>e.from?e.from===a.routeId:a.id===t);if(Yn(!((e.shouldThrow??!0)&&!n),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),n!==void 0)return e.select?e.select(n):n},structuralSharing:e.structuralSharing})}function hg(e){return bn({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function mg(e){const{select:t,...r}=e;return bn({...r,select:s=>t?t(s.loaderDeps):s.loaderDeps})}function zu(e){return bn({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const r=e.strict===!1?t.params:t._strictParams;return e.select?e.select(r):r}})}function pg(e){return bn({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Fl(e){const t=ys();return F.useCallback(r=>t.navigate({...r,from:r.from??(e==null?void 0:e.from)}),[e==null?void 0:e.from,t])}const Nd=typeof window<"u"?F.useLayoutEffect:F.useEffect;function zh(e){const t=F.useRef({value:e,prev:null}),r=t.current.value;return e!==r&&(t.current={value:e,prev:r}),t.current.prev}function Hj(e,t,r={},s={}){F.useEffect(()=>{if(!e.current||s.disabled||typeof IntersectionObserver!="function")return;const n=new IntersectionObserver(([a])=>{t(a)},r);return n.observe(e.current),()=>{n.disconnect()}},[t,r,s.disabled,e])}function Wj(e){const t=F.useRef(null);return F.useImperativeHandle(e,()=>t.current,[]),t}function Kj(e,t){const r=ys(),[s,n]=F.useState(!1),a=F.useRef(!1),i=Wj(t),{activeProps:l,inactiveProps:u,activeOptions:c,to:d,preload:f,preloadDelay:h,hashScrollIntoView:p,replace:m,startTransition:x,resetScroll:y,viewTransition:g,children:v,target:w,disabled:b,style:D,className:A,onClick:_,onFocus:S,onMouseEnter:k,onMouseLeave:N,onTouchStart:C,ignoreBlocker:E,params:M,search:Q,hash:Y,state:X,mask:ee,reloadDocument:te,unsafeRelative:R,from:se,_fromLocation:U,...T}=e,j=ts({select:ye=>ye.location.search,structuralSharing:!0}),L=e.from,z=F.useMemo(()=>({...e,from:L}),[r,j,L,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),I=F.useMemo(()=>r.buildLocation({...z}),[r,z]),J=F.useMemo(()=>{if(b)return;let ye=I.maskedLocation?I.maskedLocation.url:I.url,he=!1;return r.origin&&(ye.startsWith(r.origin)?ye=r.history.createHref(ye.replace(r.origin,""))||"/":he=!0),{href:ye,external:he}},[b,I.maskedLocation,I.url,r.origin,r.history]),ne=F.useMemo(()=>{if(J!=null&&J.external)return J.href;try{return new URL(d),d}catch{}},[d,J]),re=e.reloadDocument||ne?!1:f??r.options.defaultPreload,ae=h??r.options.defaultPreloadDelay??0,q=ts({select:ye=>{if(ne)return!1;if(c!=null&&c.exact){if(!wA(ye.location.pathname,I.pathname,r.basepath))return!1}else{const he=$0(ye.location.pathname,r.basepath),pe=$0(I.pathname,r.basepath);if(!(he.startsWith(pe)&&(he.length===pe.length||he[pe.length]==="/")))return!1}return((c==null?void 0:c.includeSearch)??!0)&&!Bi(ye.location.search,I.search,{partial:!(c!=null&&c.exact),ignoreUndefined:!(c!=null&&c.explicitUndefined)})?!1:c!=null&&c.includeHash?ye.location.hash===I.hash:!0}}),O=F.useCallback(()=>{r.preloadRoute({...z}).catch(ye=>{console.warn(ye),console.warn(pj)})},[r,z]),we=F.useCallback(ye=>{ye!=null&&ye.isIntersecting&&O()},[O]);Hj(i,we,Qj,{disabled:!!b||re!=="viewport"}),F.useEffect(()=>{a.current||!b&&re==="render"&&(O(),a.current=!0)},[b,O,re]);const Se=ye=>{const he=ye.currentTarget.target,pe=w!==void 0?w:he;if(!b&&!Zj(ye)&&!ye.defaultPrevented&&(!pe||pe==="_self")&&ye.button===0){ye.preventDefault(),sg.flushSync(()=>{n(!0)});const ke=r.subscribe("onResolved",()=>{ke(),n(!1)});r.navigate({...z,replace:m,resetScroll:y,hashScrollIntoView:p,startTransition:x,viewTransition:g,ignoreBlocker:E})}};if(ne)return{...T,ref:i,href:ne,...v&&{children:v},...w&&{target:w},...b&&{disabled:b},...D&&{style:D},...A&&{className:A},..._&&{onClick:_},...S&&{onFocus:S},...k&&{onMouseEnter:k},...N&&{onMouseLeave:N},...C&&{onTouchStart:C}};const be=ye=>{b||re&&O()},ge=be,ve=ye=>{if(!(b||!re))if(!ae)O();else{const he=ye.target;if(Zl.has(he))return;const pe=setTimeout(()=>{Zl.delete(he),O()},ae);Zl.set(he,pe)}},Ne=ye=>{if(b||!re||!ae)return;const he=ye.target,pe=Zl.get(he);pe&&(clearTimeout(pe),Zl.delete(he))},Re=q?Li(l,{})??Gj:Uh,H=q?Uh:Li(u,{})??Uh,ie=[A,Re.className,H.className].filter(Boolean).join(" "),oe=(D||Re.style||H.style)&&{...D,...Re.style,...H.style};return{...T,...Re,...H,href:J==null?void 0:J.href,ref:i,onClick:Jl([_,Se]),onFocus:Jl([S,be]),onMouseEnter:Jl([k,ve]),onMouseLeave:Jl([N,Ne]),onTouchStart:Jl([C,ge]),disabled:!!b,target:w,...oe&&{style:oe},...ie&&{className:ie},...b&&qj,...q&&Yj,...s&&Xj}}const Uh={},Gj={className:"active"},qj={role:"link","aria-disabled":!0},Yj={"data-status":"active","aria-current":"page"},Xj={"data-transitioning":"transitioning"},Zl=new WeakMap,Qj={rootMargin:"100px"},Jl=e=>t=>{for(const r of e)if(r){if(t.defaultPrevented)return;r(t)}},xg=F.forwardRef((e,t)=>{const{_asChild:r,...s}=e,{type:n,ref:a,...i}=Kj(s,t),l=typeof s.children=="function"?s.children({isActive:i["data-status"]==="active"}):s.children;return r===void 0&&delete i.disabled,F.createElement(r||"a",{...i,ref:a},l)});function Zj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let Jj=class extends Ab{constructor(t){super(t),this.useMatch=r=>bn({select:r==null?void 0:r.select,from:this.id,structuralSharing:r==null?void 0:r.structuralSharing}),this.useRouteContext=r=>bn({...r,from:this.id,select:s=>r!=null&&r.select?r.select(s.context):s.context}),this.useSearch=r=>pg({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useParams=r=>zu({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useLoaderDeps=r=>mg({...r,from:this.id}),this.useLoaderData=r=>hg({...r,from:this.id}),this.useNavigate=()=>Fl({from:this.fullPath}),this.Link=gt.forwardRef((r,s)=>o.jsx(xg,{ref:s,from:this.fullPath,...r})),this.$$typeof=Symbol.for("react.memo")}};function e3(e){return new Jj(e)}class t3 extends xj{constructor(t){super(t),this.useMatch=r=>bn({select:r==null?void 0:r.select,from:this.id,structuralSharing:r==null?void 0:r.structuralSharing}),this.useRouteContext=r=>bn({...r,from:this.id,select:s=>r!=null&&r.select?r.select(s.context):s.context}),this.useSearch=r=>pg({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useParams=r=>zu({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useLoaderDeps=r=>mg({...r,from:this.id}),this.useLoaderData=r=>hg({...r,from:this.id}),this.useNavigate=()=>Fl({from:this.fullPath}),this.Link=gt.forwardRef((r,s)=>o.jsx(xg,{ref:s,from:this.fullPath,...r})),this.$$typeof=Symbol.for("react.memo")}}function r3(e){return new t3(e)}function Lr(e){return typeof e=="object"?new Ky(e,{silent:!0}).createRoute(e):new Ky(e,{silent:!0}).createRoute}class Ky{constructor(t,r){this.path=t,this.createRoute=s=>{au(this.silent,"FileRoute is deprecated and will be removed in the next major version. Use the createFileRoute(path)(options) function instead.");const n=e3(s);return n.isRoot=!1,n},this.silent=r==null?void 0:r.silent}}class Gy{constructor(t){this.useMatch=r=>bn({select:r==null?void 0:r.select,from:this.options.id,structuralSharing:r==null?void 0:r.structuralSharing}),this.useRouteContext=r=>bn({from:this.options.id,select:s=>r!=null&&r.select?r.select(s.context):s.context}),this.useSearch=r=>pg({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.options.id}),this.useParams=r=>zu({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.options.id}),this.useLoaderDeps=r=>mg({...r,from:this.options.id}),this.useLoaderData=r=>hg({...r,from:this.options.id}),this.useNavigate=()=>{const r=ys();return Fl({from:r.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function qy(e){return typeof e=="object"?new Gy(e):t=>new Gy({id:e,...t})}function s3(){const e=ys(),t=F.useRef({router:e,mounted:!1}),[r,s]=F.useState(!1),{hasPendingMatches:n,isLoading:a}=ts({select:f=>({isLoading:f.isLoading,hasPendingMatches:f.matches.some(h=>h.status==="pending")}),structuralSharing:!0}),i=zh(a),l=a||r||n,u=zh(l),c=a||n,d=zh(c);return e.startTransition=f=>{s(!0),F.startTransition(()=>{f(),s(!1)})},F.useEffect(()=>{const f=e.history.subscribe(e.load),h=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ka(e.latestLocation.href)!==Ka(h.href)&&e.commitLocation({...h,replace:!0}),()=>{f()}},[e,e.history]),Nd(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(h){console.error(h)}})()},[e]),Nd(()=>{i&&!a&&e.emit({type:"onLoad",...zi(e.state)})},[i,e,a]),Nd(()=>{d&&!c&&e.emit({type:"onBeforeRouteMount",...zi(e.state)})},[c,d,e]),Nd(()=>{u&&!l&&(e.emit({type:"onResolved",...zi(e.state)}),e.__store.setState(f=>({...f,status:"idle",resolvedLocation:f.location})),qA(e))},[l,u,e]),null}function n3(e){const t=ts({select:r=>`not-found-${r.location.pathname}-${r.status}`});return o.jsx(fg,{getResetKey:()=>t,onCatch:(r,s)=>{var n;if(Sn(r))(n=e.onCatch)==null||n.call(e,r,s);else throw r},errorComponent:({error:r})=>{var s;if(Sn(r))return(s=e.fallback)==null?void 0:s.call(e,r);throw r},children:e.children})}function a3(){return o.jsx("p",{children:"Not Found"})}function yo(e){return o.jsx(o.Fragment,{children:e.children})}function Ib(e,t,r){return t.options.notFoundComponent?o.jsx(t.options.notFoundComponent,{data:r}):e.options.defaultNotFoundComponent?o.jsx(e.options.defaultNotFoundComponent,{data:r}):o.jsx(a3,{})}function i3({children:e}){var r;const t=ys();return t.isServer?o.jsx("script",{nonce:(r=t.options.ssr)==null?void 0:r.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[e].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function o3(){const e=ys();if(!e.isScrollRestoring||!e.isServer||typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation}))return null;const r=(e.options.getScrollRestorationKey||gp)(e.latestLocation),s=r!==gp(e.latestLocation)?r:void 0,n={storageKey:V0,shouldScrollRestoration:!0};return s&&(n.key=s),o.jsx(i3,{children:`(${vb.toString()})(${JSON.stringify(n)})`})}const Mb=F.memo(function({matchId:t}){var g,v;const r=ys(),s=ts({select:w=>{const b=w.matches.find(D=>D.id===t);return Yn(b),{routeId:b.routeId,ssr:b.ssr,_displayPending:b._displayPending}},structuralSharing:!0}),n=r.routesById[s.routeId],a=n.options.pendingComponent??r.options.defaultPendingComponent,i=a?o.jsx(a,{}):null,l=n.options.errorComponent??r.options.defaultErrorComponent,u=n.options.onCatch??r.options.defaultOnCatch,c=n.isRoot?n.options.notFoundComponent??((g=r.options.notFoundRoute)==null?void 0:g.options.component):n.options.notFoundComponent,d=s.ssr===!1||s.ssr==="data-only",f=(!n.isRoot||n.options.wrapInSuspense||d)&&(n.options.wrapInSuspense??a??(((v=n.options.errorComponent)==null?void 0:v.preload)||d))?F.Suspense:yo,h=l?fg:yo,p=c?n3:yo,m=ts({select:w=>w.loadedAt}),x=ts({select:w=>{var D;const b=w.matches.findIndex(A=>A.id===t);return(D=w.matches[b-1])==null?void 0:D.routeId}}),y=n.isRoot?n.options.shellComponent??yo:yo;return o.jsxs(y,{children:[o.jsx($f.Provider,{value:t,children:o.jsx(f,{fallback:i,children:o.jsx(h,{getResetKey:()=>m,errorComponent:l||zf,onCatch:(w,b)=>{if(Sn(w))throw w;au(!1,`Error in route match: ${t}`),u==null||u(w,b)},children:o.jsx(p,{fallback:w=>{if(!c||w.routeId&&w.routeId!==s.routeId||!w.routeId&&!n.isRoot)throw w;return F.createElement(c,w)},children:d||s._displayPending?o.jsx(yj,{fallback:i,children:o.jsx(Yy,{matchId:t})}):o.jsx(Yy,{matchId:t})})})})}),x===qr&&r.options.scrollRestoration?o.jsxs(o.Fragment,{children:[o.jsx(l3,{}),o.jsx(o3,{})]}):null]})});function l3(){const e=ys(),t=F.useRef(void 0);return o.jsx("script",{suppressHydrationWarning:!0,ref:r=>{r&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...zi(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const Yy=F.memo(function({matchId:t}){var u,c,d,f;const r=ys(),{match:s,key:n,routeId:a}=ts({select:h=>{const p=h.matches.find(v=>v.id===t),m=p.routeId,x=r.routesById[m].options.remountDeps??r.options.defaultRemountDeps,y=x==null?void 0:x({routeId:m,loaderDeps:p.loaderDeps,params:p._strictParams,search:p._strictSearch});return{key:y?JSON.stringify(y):void 0,routeId:m,match:{id:p.id,status:p.status,error:p.error,_forcePending:p._forcePending,_displayPending:p._displayPending}}},structuralSharing:!0}),i=r.routesById[a],l=F.useMemo(()=>{const h=i.options.component??r.options.defaultComponent;return h?o.jsx(h,{},n):o.jsx(Vf,{})},[n,i.options.component,r.options.defaultComponent]);if(s._displayPending)throw(u=r.getMatch(s.id))==null?void 0:u._nonReactive.displayPendingPromise;if(s._forcePending)throw(c=r.getMatch(s.id))==null?void 0:c._nonReactive.minPendingPromise;if(s.status==="pending"){const h=i.options.pendingMinMs??r.options.defaultPendingMinMs;if(h){const p=r.getMatch(s.id);if(p&&!p._nonReactive.minPendingPromise&&!r.isServer){const m=hl();p._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),p._nonReactive.minPendingPromise=void 0},h)}}throw(d=r.getMatch(s.id))==null?void 0:d._nonReactive.loadPromise}if(s.status==="notFound")return Yn(Sn(s.error)),Ib(r,i,s.error);if(s.status==="redirected")throw Yn(pn(s.error)),(f=r.getMatch(s.id))==null?void 0:f._nonReactive.loadPromise;if(s.status==="error"){if(r.isServer){const h=(i.options.errorComponent??r.options.defaultErrorComponent)||zf;return o.jsx(h,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return l}),Vf=F.memo(function(){const t=ys(),r=F.useContext($f),s=ts({select:c=>{var d;return(d=c.matches.find(f=>f.id===r))==null?void 0:d.routeId}}),n=t.routesById[s],a=ts({select:c=>{const f=c.matches.find(h=>h.id===r);return Yn(f),f.globalNotFound}}),i=ts({select:c=>{var h;const d=c.matches,f=d.findIndex(p=>p.id===r);return(h=d[f+1])==null?void 0:h.id}}),l=t.options.defaultPendingComponent?o.jsx(t.options.defaultPendingComponent,{}):null;if(a)return Ib(t,n,void 0);if(!i)return null;const u=o.jsx(Mb,{matchId:i});return r===qr?o.jsx(F.Suspense,{fallback:l,children:u}):u});function c3(){const e=ys(),r=e.routesById[qr].options.pendingComponent??e.options.defaultPendingComponent,s=r?o.jsx(r,{}):null,n=e.isServer||typeof document<"u"&&e.ssr?yo:F.Suspense,a=o.jsxs(n,{fallback:s,children:[!e.isServer&&o.jsx(s3,{}),o.jsx(u3,{})]});return e.options.InnerWrap?o.jsx(e.options.InnerWrap,{children:a}):a}function u3(){const e=ys(),t=ts({select:n=>{var a;return(a=n.matches[0])==null?void 0:a.id}}),r=ts({select:n=>n.loadedAt}),s=t?o.jsx(Mb,{matchId:t}):null;return o.jsx($f.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?s:o.jsx(fg,{getResetKey:()=>r,errorComponent:zf,onCatch:n=>{au(!1,"The following error wasn't caught by any route! At the very least, consider setting an 'errorComponent' in your RootRoute!"),au(!1,n.message||n.toString())},children:s})})}const d3=e=>new f3(e);class f3 extends uj{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=Lr,globalThis.createLazyFileRoute=qy):typeof window<"u"&&(window.createFileRoute=Lr,window.createLazyFileRoute=qy);function h3({router:e,children:t,...r}){Object.keys(r).length>0&&e.update({...e.options,...r,context:{...e.options.context,...r.context}});const s=Ob(),n=o.jsx(s.Provider,{value:e,children:t});return e.options.Wrap?o.jsx(e.options.Wrap,{children:n}):n}function m3({router:e,...t}){return o.jsx(h3,{router:e,...t,children:o.jsx(c3,{})})}const Xy=e=>{let t;const r=new Set,s=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,p))}},n=()=>t,u={setState:s,getState:n,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{r.clear()}},c=t=e(s,n,u);return u},p3=e=>e?Xy(e):Xy,{useDebugValue:x3}=gt,{useSyncExternalStoreWithSelector:g3}=zj;const y3=e=>e;function v3(e,t=y3,r){const s=g3(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return x3(s),s}const Qy=e=>{const t=typeof e=="function"?p3(e):e,r=(s,n)=>v3(t,s,n);return Object.assign(r,t),r},w3=e=>e?Qy(e):Qy;function k3(e,t){let r;try{r=e()}catch{return}return{getItem:n=>{var a;const i=u=>u===null?null:JSON.parse(u,t==null?void 0:t.reviver),l=(a=r.getItem(n))!=null?a:null;return l instanceof Promise?l.then(i):i(l)},setItem:(n,a)=>r.setItem(n,JSON.stringify(a,t==null?void 0:t.replacer)),removeItem:n=>r.removeItem(n)}}const iu=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return iu(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return iu(s)(r)}}}},S3=(e,t)=>(r,s,n)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,g)=>({...g,...y}),...t},i=!1;const l=new Set,u=new Set;let c;try{c=a.getStorage()}catch{}if(!c)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...y)},s,n);const d=iu(a.serialize),f=()=>{const y=a.partialize({...s()});let g;const v=d({state:y,version:a.version}).then(w=>c.setItem(a.name,w)).catch(w=>{g=w});if(g)throw g;return v},h=n.setState;n.setState=(y,g)=>{h(y,g),f()};const p=e((...y)=>{r(...y),f()},s,n);let m;const x=()=>{var y;if(!c)return;i=!1,l.forEach(v=>v(s()));const g=((y=a.onRehydrateStorage)==null?void 0:y.call(a,s()))||void 0;return iu(c.getItem.bind(c))(a.name).then(v=>{if(v)return a.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return a.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var w;return m=a.merge(v,(w=s())!=null?w:p),r(m,!0),f()}).then(()=>{g==null||g(m,void 0),i=!0,u.forEach(v=>v(m))}).catch(v=>{g==null||g(void 0,v)})};return n.persist={setOptions:y=>{a={...a,...y},y.getStorage&&(c=y.getStorage())},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>i,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},x(),m||p},b3=(e,t)=>(r,s,n)=>{let a={storage:k3(()=>localStorage),partialize:x=>x,version:0,merge:(x,y)=>({...y,...x}),...t},i=!1;const l=new Set,u=new Set;let c=a.storage;if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...x)},s,n);const d=()=>{const x=a.partialize({...s()});return c.setItem(a.name,{state:x,version:a.version})},f=n.setState;n.setState=(x,y)=>{f(x,y),d()};const h=e((...x)=>{r(...x),d()},s,n);n.getInitialState=()=>h;let p;const m=()=>{var x,y;if(!c)return;i=!1,l.forEach(v=>{var w;return v((w=s())!=null?w:h)});const g=((y=a.onRehydrateStorage)==null?void 0:y.call(a,(x=s())!=null?x:h))||void 0;return iu(c.getItem.bind(c))(a.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return[!0,a.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var w;const[b,D]=v;if(p=a.merge(D,(w=s())!=null?w:h),r(p,!0),b)return d()}).then(()=>{g==null||g(p,void 0),p=s(),i=!0,u.forEach(v=>v(p))}).catch(v=>{g==null||g(void 0,v)})};return n.persist={setOptions:x=>{a={...a,...x},x.storage&&(c=x.storage)},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(u.add(x),()=>{u.delete(x)})},a.skipHydration||m(),p||h},_3=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?S3(e,t):b3(e,t),E3=_3,N3="http://localhost:5003/api";class C3{constructor(t){mt(this,"baseURL");this.baseURL=t}async request(t,r={}){const s=localStorage.getItem("auth_token"),n={"Content-Type":"application/json",...r.headers||{}};s&&(n.Authorization=`Bearer ${s}`);const a=await fetch(`${this.baseURL}${t}`,{...r,headers:n}),i=await a.json();return{status:a.status,data:i}}async login(t){return this.request("/auth/login",{method:"POST",body:JSON.stringify(t)})}async logout(){return this.request("/auth/logout",{method:"POST"})}async refreshToken(){const t=localStorage.getItem("refresh_token");return this.request("/auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:t})})}async getPatients(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search);const s=r.toString(),n=`/patients${s?`?${s}`:""}`;return this.request(n)}async getPatient(t){return this.request(`/patients/${t}`)}async createPatient(t){return this.request("/patients",{method:"POST",body:JSON.stringify(t)})}async updatePatient(t,r){return this.request(`/patients/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deletePatient(t){return this.request(`/patients/${t}`,{method:"DELETE"})}}const Zy=new C3(N3),gg=w3()(E3((e,t)=>({user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null,setAuth:(r,s)=>{e({user:r,token:s,isAuthenticated:!0,error:null}),localStorage.setItem("auth_token",s),typeof window<"u"&&(window.__AUTH_TOKEN__=s)},clearAuth:()=>{e({user:null,token:null,refreshToken:null,isAuthenticated:!1,error:null}),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("auth_token_timestamp"),typeof window<"u"&&delete window.__AUTH_TOKEN__},setLoading:r=>{e({isLoading:r})},setError:r=>{e({error:r})},login:async r=>{var a;const{setLoading:s,setError:n}=t();try{s(!0),n(null),console.log("Attempting login with credentials:",{username:r.username,password:"***"});const i=await Zy.login(r);if(console.log("Login response:",i),console.log("Response status:",i.status),console.log("Response data:",i.data),i.status===200&&i.data){const l=i.data,{access_token:u,data:c,success:d,refreshToken:f}=l;if(console.log("Parsed token:",u),console.log("Parsed userData:",c),console.log("Success:",d),console.log("RefreshToken:",f),console.log("Full response data:",l),d&&u&&c){const h={id:c.id,email:c.email,name:c.fullName||c.username,role:c.role};e({user:h,token:u,refreshToken:f||null,isAuthenticated:!0,error:null}),localStorage.setItem("auth_token",u),f&&localStorage.setItem("refresh_token",f),localStorage.setItem("auth_token_timestamp",Date.now().toString()),typeof window<"u"&&(window.__AUTH_TOKEN__=u),console.log("Login successful, user authenticated")}else throw console.error("Missing required fields:",{success:d,token:!!u,userData:!!c}),new Error("Invalid response from server - missing token or user")}else if(i.status===401){const l=((a=i.data)==null?void 0:a.error)||"Invalid credentials";throw console.error("Authentication failed:",l),new Error(l)}else throw console.error("Invalid response structure:",{status:i.status,hasData:!!i.data}),new Error("Invalid response from server")}catch(i){console.error("Login error:",i),n(i instanceof Error?i.message:"Login failed")}finally{s(!1)}},logout:()=>{t().clearAuth()},refreshAuth:async()=>{try{const{refreshToken:r,clearAuth:s}=t();if(!r){s();return}const n=await Zy.refreshToken();if(n.status===200&&n.data){const{access_token:a}=n.data;e({token:a}),localStorage.setItem("auth_token",a),typeof window<"u"&&(window.__AUTH_TOKEN__=a)}else s()}catch(r){console.error("Token refresh failed:",r),t().clearAuth()}},initializeAuth:async()=>{const{setLoading:r,login:s,isAuthenticated:n}=t()}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,refreshToken:e.refreshToken,isAuthenticated:e.isAuthenticated})}));/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Nt=(e,t)=>{const r=F.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:u,...c},d)=>F.createElement("svg",{ref:d,...T3,width:n,height:n,stroke:s,strokeWidth:i?Number(a)*24/Number(n):a,className:["lucide",`lucide-${A3(e)}`,l].join(" "),...c},[...t.map(([f,h])=>F.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Nt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=Nt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=Nt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=Nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=Nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=Nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=Nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=Nt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=Nt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Nt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Nt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Nt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Nt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Nt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Nt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$3={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},ar=({isOpen:e,onClose:t,onSave:r,title:s,size:n="md",closable:a=!0,backdrop:i=!0,showFooter:l=!0,saveButtonText:u="Kaydet",cancelButtonText:c="ptal",customFooter:d,children:f,className:h=""})=>{const p=F.useRef(null),m=F.useRef(null);F.useEffect(()=>{const w=b=>{b.key==="Escape"&&a&&t()};return e&&(document.addEventListener("keydown",w),m.current=document.activeElement,document.body.style.overflow="hidden",setTimeout(()=>{var D;const b=(D=p.current)==null?void 0:D.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');b&&b.length>0&&b[0].focus()},100)),()=>{document.removeEventListener("keydown",w),e&&(document.body.style.overflow="",m.current&&m.current.focus())}},[e,a,t]);const x=w=>{var b;if(w.key==="Tab"){const D=(b=p.current)==null?void 0:b.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(D&&D.length>0){const A=D[0],_=D[D.length-1];w.shiftKey&&document.activeElement===A?(w.preventDefault(),_.focus()):!w.shiftKey&&document.activeElement===_&&(w.preventDefault(),A.focus())}}},y=w=>{w.target===w.currentTarget&&i&&a&&t()},g=()=>{r&&r()!==!1&&t()};if(!e)return null;const v=o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",onClick:y,children:[o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),o.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),o.jsxs("div",{ref:p,className:`
            inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full
            ${$3[n]}
            ${h}
          `,onKeyDown:x,children:[(s||a)&&o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[s&&o.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900 dark:text-white",children:s}),a&&o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",children:o.jsx(Vb,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"px-6 py-4",children:f}),l&&o.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:d||o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:c}),r&&o.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:u})]})})]})]})});return sg.createPortal(v,document.body)},mn=()=>{const[e,t]=F.useState(!1);return{isOpen:e,openModal:()=>t(!0),closeModal:()=>t(!1)}},V3={blue:{bg:"bg-blue-100 dark:bg-blue-900/20",icon:"text-blue-600 dark:text-blue-400"},green:{bg:"bg-green-100 dark:bg-green-900/20",icon:"text-green-600 dark:text-green-400"},yellow:{bg:"bg-yellow-100 dark:bg-yellow-900/20",icon:"text-yellow-600 dark:text-yellow-400"},red:{bg:"bg-red-100 dark:bg-red-900/20",icon:"text-red-600 dark:text-red-400"},purple:{bg:"bg-purple-100 dark:bg-purple-900/20",icon:"text-purple-600 dark:text-purple-400"},gray:{bg:"bg-gray-100 dark:bg-gray-700",icon:"text-gray-600 dark:text-gray-400"}},Fa=({title:e,value:t,icon:r,color:s="blue",trend:n,subtitle:a,clickable:i=!1,onClick:l,loading:u=!1,className:c=""})=>{const d=V3[s],f=i?"cursor-pointer hover:shadow-lg transition-shadow duration-200":"",h=()=>{if(!n)return null;const x=n.direction==="up"?"text-green-600 dark:text-green-400":n.direction==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400",y=n.direction==="up"?$b:n.direction==="down"?U3:zb;return o.jsxs("div",{className:"flex items-center mt-2",children:[o.jsxs("span",{className:`text-sm ${x} flex items-center`,children:[o.jsx(y,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:n.value})]}),n.period&&o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:n.period})]})},p=()=>o.jsx("div",{className:"animate-pulse",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-24 mb-2"}),o.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-600 rounded w-16 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-20"})]}),o.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-600 rounded-lg ml-4"})]})}),m=()=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:t}),a&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:a}),h()]}),r&&o.jsx("div",{className:`p-3 ${d.bg} rounded-lg ml-4`,children:o.jsx("div",{className:d.icon,children:r})})]});return o.jsx("div",{className:`
        bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700
        ${f}
        ${c}
      `,onClick:i?l:void 0,role:i?"button":void 0,tabIndex:i?0:void 0,onKeyDown:i?x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),l==null||l())}:void 0,children:u?p():m()})},H3=({data:e,columns:t,loading:r=!1,pagination:s,rowSelection:n,actions:a,bulkActions:i,searchable:l=!1,onSearch:u,sortable:c=!1,onSort:d,rowKey:f="id",emptyText:h="Veri bulunamad",size:p="medium",bordered:m=!1,striped:x=!1,hoverable:y=!0,className:g=""})=>{const[v,w]=F.useState(""),[b,D]=F.useState(null);F.useState(!1);const A=F.useCallback((R,se)=>typeof f=="function"?f(R):R[f]||se,[f]),_=F.useMemo(()=>n?e.filter(R=>n.selectedRowKeys.includes(A(R,e.indexOf(R)))):[],[e,n,A]),S=R=>{if(!c)return;let se="asc";(b==null?void 0:b.key)===R&&(se=b.direction==="asc"?"desc":b.direction==="desc"?null:"asc"),D(se?{key:R,direction:se}:null),d==null||d(R,se)},k=R=>{w(R),u==null||u(R)},N=R=>{if(n)if(R){const se=e.map((U,T)=>A(U,T));n.onChange(se,e)}else n.onChange([],[])},C=(R,se)=>{if(!n)return;const U=A(R,e.indexOf(R));let T=[...n.selectedRowKeys];se?T.push(U):T=T.filter(L=>L!==U);const j=e.filter(L=>T.includes(A(L,e.indexOf(L))));n.onChange(T,j)},E={small:"text-sm",medium:"text-base",large:"text-lg"},M={small:"px-3 py-2",medium:"px-4 py-3",large:"px-6 py-4"},Q=n&&e.length>0&&e.every(R=>n.selectedRowKeys.includes(A(R,e.indexOf(R)))),Y=n&&n.selectedRowKeys.length>0&&!Q,X=(R,se,U)=>{const T=se[R.key];return R.render?R.render(T,se,U):T},ee=R=>!a||a.length===0?null:o.jsx("div",{className:"flex items-center space-x-2",children:a.map(se=>{var U;return o.jsxs("button",{onClick:()=>se.onClick(R),disabled:(U=se.disabled)==null?void 0:U.call(se,R),className:`
              inline-flex items-center px-2 py-1 text-sm font-medium rounded-md
              ${se.variant==="danger"?"text-red-700 bg-red-100 hover:bg-red-200 dark:text-red-400 dark:bg-red-900/20 dark:hover:bg-red-900/30":se.variant==="primary"?"text-blue-700 bg-blue-100 hover:bg-blue-200 dark:text-blue-400 dark:bg-blue-900/20 dark:hover:bg-blue-900/30":"text-gray-700 bg-gray-100 hover:bg-gray-200 dark:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600"}
              disabled:opacity-50 disabled:cursor-not-allowed
            `,children:[se.icon&&o.jsx("span",{className:"mr-1",children:se.icon}),se.label]},se.key)})}),te=()=>{if(!s)return null;const{current:R,pageSize:se,total:U,showSizeChanger:T,pageSizeOptions:j=[10,20,50,100]}=s,L=Math.ceil(U/se),z=(R-1)*se+1,I=Math.min(R*se,U),ne=(()=>{const ae=[];if(L<=5)for(let q=1;q<=L;q++)ae.push(q);else{const q=Math.max(1,R-Math.floor(2.5)),O=Math.min(L,q+5-1);for(let we=q;we<=O;we++)ae.push(we);q>1&&(ae.unshift(-1),ae.unshift(1)),O<L&&(ae.push(-2),ae.push(L))}return ae})();return o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-700 dark:text-gray-300",children:[o.jsxs("span",{children:[U>0?`${z}-${I}`:"0"," / ",U," kayt gsteriliyor"]}),T&&o.jsx("select",{value:se,onChange:re=>s.onChange(1,Number(re.target.value)),className:"ml-4 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:j.map(re=>o.jsxs("option",{value:re,children:[re," / sayfa"]},re))})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>s.onChange(1,se),disabled:R<=1,className:"px-2 py-1 text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"lk sayfa",children:"lk"}),o.jsx("button",{onClick:()=>s.onChange(R-1,se),disabled:R<=1,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"nceki sayfa",children:o.jsx(R3,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex items-center space-x-1",children:ne.map((re,ae)=>re===-1||re===-2?o.jsx("span",{className:"px-2 py-1 text-gray-400",children:"..."},`ellipsis-${ae}`):o.jsx("button",{onClick:()=>s.onChange(re,se),className:`
                    px-3 py-1 text-sm rounded-md transition-colors
                    ${re===R?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}
                  `,children:re},re))}),o.jsx("button",{onClick:()=>s.onChange(R+1,se),disabled:R>=L,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"Sonraki sayfa",children:o.jsx(D3,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>s.onChange(L,se),disabled:R>=L,className:"px-2 py-1 text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"Son sayfa",children:"Son"})]})]})};return o.jsxs("div",{className:`bg-white dark:bg-gray-800 shadow-sm rounded-lg ${g}`,children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[l&&o.jsxs("div",{className:"relative",children:[o.jsx(Ub,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Ara...",value:v,onChange:R=>k(R.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i&&_.length>0&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[_.length," kayt seildi"]}),o.jsx("div",{className:"flex space-x-2",children:i.map(R=>o.jsxs("button",{onClick:()=>R.onClick(_),className:`
                        inline-flex items-center px-3 py-1 text-sm font-medium rounded-md
                        ${R.variant==="danger"?"text-red-700 bg-red-100 hover:bg-red-200 dark:text-red-400 dark:bg-red-900/20 dark:hover:bg-red-900/30":R.variant==="primary"?"text-blue-700 bg-blue-100 hover:bg-blue-200 dark:text-blue-400 dark:bg-blue-900/20 dark:hover:bg-blue-900/30":"text-gray-700 bg-gray-100 hover:bg-gray-200 dark:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600"}
                      `,children:[R.icon&&o.jsx("span",{className:"mr-1",children:R.icon}),R.label]},R.key))})]})]})})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:`min-w-full divide-y divide-gray-200 dark:divide-gray-700 ${E[p]}`,children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:o.jsxs("tr",{children:[n&&o.jsx("th",{className:`${M[p]} text-left`,children:o.jsx("input",{type:"checkbox",checked:Q,ref:R=>{R&&(R.indeterminate=!!Y)},onChange:R=>N(R.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),t.map(R=>o.jsx("th",{className:`
                    ${M[p]} text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider
                    ${R.sortable&&c?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600":""}
                    ${R.align==="center"?"text-center":R.align==="right"?"text-right":"text-left"}
                  `,style:{width:R.width},onClick:()=>R.sortable&&S(R.key),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:R.title}),R.sortable&&c&&o.jsxs("div",{className:"flex flex-col",children:[o.jsx(P3,{className:`w-3 h-3 ${(b==null?void 0:b.key)===R.key&&b.direction==="asc"?"text-blue-600":"text-gray-400"}`}),o.jsx(Lb,{className:`w-3 h-3 -mt-1 ${(b==null?void 0:b.key)===R.key&&b.direction==="desc"?"text-blue-600":"text-gray-400"}`})]})]})},R.key)),a&&a.length>0&&o.jsx("th",{className:`${M[p]} text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:"lemler"})]})}),o.jsx("tbody",{className:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700 ${x?"divide-y-0":""}`,children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:t.length+(n?1:0)+(a?1:0),className:"px-4 py-8 text-center",children:o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Ykleniyor..."})]})})}):e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:t.length+(n?1:0)+(a?1:0),className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:h})}):e.map((R,se)=>{var L;const U=A(R,se),T=n==null?void 0:n.selectedRowKeys.includes(U),j=((L=n==null?void 0:n.getCheckboxProps)==null?void 0:L.call(n,R))||{};return o.jsxs("tr",{className:`
                      ${x&&se%2===1?"bg-gray-50 dark:bg-gray-700/50":""}
                      ${y?"hover:bg-gray-50 dark:hover:bg-gray-700/50":""}
                      ${T?"bg-blue-50 dark:bg-blue-900/20":""}
                    `,children:[n&&o.jsx("td",{className:M[p],children:o.jsx("input",{type:"checkbox",checked:T,disabled:j.disabled,onChange:z=>C(R,z.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"})}),t.map(z=>o.jsx("td",{className:`
                          ${M[p]} text-gray-900 dark:text-gray-100
                          ${z.align==="center"?"text-center":z.align==="right"?"text-right":"text-left"}
                          ${m?"border-r border-gray-200 dark:border-gray-700 last:border-r-0":""}
                        `,children:X(z,R,se)},z.key)),a&&a.length>0&&o.jsx("td",{className:M[p],children:ee(R)})]},U)})})]})}),te()]})},W3={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",default:"bg-gray-100 text-gray-800 hover:bg-gray-200 focus:ring-gray-300",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500"},K3={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},de=({variant:e="primary",size:t="md",loading:r=!1,icon:s,iconPosition:n="left",fullWidth:a=!1,disabled:i,className:l="",children:u,...c})=>{const f=["inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",W3[e],K3[t],a?"w-full":"",l].filter(Boolean).join(" "),h=i||r;return o.jsxs("button",{className:f,disabled:h,...c,children:[r&&o.jsx(Bb,{className:"w-4 h-4 mr-2 animate-spin"}),!r&&s&&n==="left"&&o.jsx("span",{className:"mr-2",children:s}),u,!r&&s&&n==="right"&&o.jsx("span",{className:"ml-2",children:s})]})},qe=F.forwardRef(({label:e,error:t,helperText:r,leftIcon:s,rightIcon:n,fullWidth:a=!1,className:i="",id:l,...u},c)=>{const d=l||`input-${Math.random().toString(36).substr(2,9)}`,x=["block px-3 py-2 border rounded-lg text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",t?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500",a?"w-full":"",s&&n?"pl-10 pr-10":s?"pl-10":n?"pr-10":"",i].filter(Boolean).join(" ");return o.jsxs("div",{className:a?"w-full":"",children:[e&&o.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),o.jsxs("div",{className:"relative",children:[s&&o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("span",{className:"text-gray-400",children:s})}),o.jsx("input",{ref:c,id:d,className:x,...u}),n&&!t&&o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:o.jsx("span",{className:"text-gray-400",children:n})}),t&&o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:o.jsx(Hf,{className:"w-5 h-5 text-red-500"})})]}),t&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),r&&!t&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})});qe.displayName="Input";const ur=F.forwardRef(({label:e,error:t,helperText:r,options:s,placeholder:n,fullWidth:a=!1,className:i="",id:l,...u},c)=>{const d=l||`select-${Math.random().toString(36).substr(2,9)}`,m=["block px-3 py-2 pr-10 border rounded-lg text-sm bg-white transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed appearance-none",t?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500",a?"w-full":"",i].filter(Boolean).join(" ");return o.jsxs("div",{className:a?"w-full":"",children:[e&&o.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{ref:c,id:d,className:m,...u,children:[n&&o.jsx("option",{value:"",disabled:!0,children:n}),s.map(x=>o.jsx("option",{value:x.value,disabled:x.disabled,children:x.label},x.value))]}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:t?o.jsx(Hf,{className:"w-5 h-5 text-red-500"}):o.jsx(Lb,{className:"w-5 h-5 text-gray-400"})})]}),t&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),r&&!t&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})});ur.displayName="Select";const Uu=F.forwardRef(({label:e,error:t,helperText:r,fullWidth:s=!1,resize:n="vertical",className:a="",id:i,...l},u)=>{const c=i||`textarea-${Math.random().toString(36).substr(2,9)}`,m=["block px-3 py-2 border rounded-lg text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",t?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500",s?"w-full":"",{none:"resize-none",vertical:"resize-y",horizontal:"resize-x",both:"resize"}[n],a].filter(Boolean).join(" ");return o.jsxs("div",{className:s?"w-full":"",children:[e&&o.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),o.jsxs("div",{className:"relative",children:[o.jsx("textarea",{ref:u,id:c,className:m,...l}),t&&o.jsx("div",{className:"absolute top-2 right-2 pointer-events-none",children:o.jsx(Hf,{className:"w-5 h-5 text-red-500"})})]}),t&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),r&&!t&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})});Uu.displayName="Textarea";const G3={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800"},q3={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-sm"},Qr=({children:e,variant:t="default",size:r="md",className:s=""})=>{const a=["inline-flex items-center font-medium rounded-full",G3[t],q3[r],s].filter(Boolean).join(" ");return o.jsx("span",{className:a,children:e})},$n=F.forwardRef(({label:e,error:t,helperText:r,indeterminate:s=!1,className:n="",id:a,...i},l)=>{const u=a||`checkbox-${Math.random().toString(36).substr(2,9)}`,c="w-4 h-4 border rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",d=t?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500",f=i.checked||s?"bg-blue-600 border-blue-600 text-white":"bg-white",h=[c,d,f,n].filter(Boolean).join(" ");return o.jsxs("div",{className:"flex items-start",children:[o.jsxs("div",{className:"relative flex items-center",children:[o.jsx("input",{ref:l,type:"checkbox",id:u,className:`${h} appearance-none`,...i}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s?o.jsx(zb,{className:"w-3 h-3 text-white"}):i.checked?o.jsx(F3,{className:"w-3 h-3 text-white"}):null})]}),(e||t||r)&&o.jsxs("div",{className:"ml-2 flex-1",children:[e&&o.jsx("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 cursor-pointer",children:e}),t&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),r&&!t&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})]})});$n.displayName="Checkbox";const Y3=F.forwardRef(({label:e,error:t,helperText:r,className:s="",id:n,...a},i)=>{const l=n||`radio-${Math.random().toString(36).substr(2,9)}`,u="w-4 h-4 border rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",c=t?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500",d=a.checked?"bg-blue-600 border-blue-600":"bg-white",f=[u,c,d,s].filter(Boolean).join(" ");return o.jsxs("div",{className:"flex items-start",children:[o.jsxs("div",{className:"relative flex items-center",children:[o.jsx("input",{ref:i,type:"radio",id:l,className:`${f} appearance-none`,...a}),a.checked&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),(e||t||r)&&o.jsxs("div",{className:"ml-2 flex-1",children:[e&&o.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700 cursor-pointer",children:e}),t&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),r&&!t&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})]})});Y3.displayName="Radio";const X3={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},Q3={primary:"text-blue-600",secondary:"text-gray-600",white:"text-white",gray:"text-gray-400"},wp=({size:e="md",color:t="primary",className:r=""})=>{const s=["animate-spin",X3[e],Q3[t],r].filter(Boolean).join(" ");return o.jsx(Bb,{className:s})};function Hb(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=Hb(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Wb(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=Hb(e))&&(s&&(s+=" "),s+=t);return s}const Z3=(...e)=>Wb(e),Kb=F.createContext(void 0),yg=()=>{const e=F.useContext(Kb);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},J3=({children:e,maxToasts:t=5})=>{const[r,s]=F.useState([]),n=l=>{const u=Math.random().toString(36).substr(2,9),c={...l,id:u,duration:l.duration??5e3};s(d=>[c,...d].slice(0,t)),c.duration&&c.duration>0&&setTimeout(()=>{a(u)},c.duration)},a=l=>{s(u=>u.filter(c=>c.id!==l))},i=()=>{s([])};return o.jsxs(Kb.Provider,{value:{toasts:r,addToast:n,removeToast:a,clearAll:i},children:[e,o.jsx(eF,{})]})},eF=()=>{const{toasts:e}=yg();return o.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:e.map(t=>o.jsx(tF,{toast:t},t.id))})},tF=({toast:e})=>{const{removeToast:t}=yg(),[r,s]=F.useState(!1),[n,a]=F.useState(!1);F.useEffect(()=>{const c=setTimeout(()=>s(!0),10);return()=>clearTimeout(c)},[]);const i=()=>{a(!0),setTimeout(()=>{t(e.id)},150)},l=()=>{switch(e.type){case"success":return o.jsx(j3,{className:"h-5 w-5 text-green-500"});case"error":return o.jsx(Hf,{className:"h-5 w-5 text-red-500"});case"warning":return o.jsx(vp,{className:"h-5 w-5 text-yellow-500"});case"info":return o.jsx(Jy,{className:"h-5 w-5 text-blue-500"});default:return o.jsx(Jy,{className:"h-5 w-5 text-gray-500"})}},u=()=>{switch(e.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}};return o.jsx("div",{className:Z3("transform transition-all duration-300 ease-in-out",r&&!n?"translate-x-0 opacity-100":"translate-x-full opacity-0","bg-white border rounded-lg shadow-lg p-4 min-w-0",u()),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:l()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),e.message&&o.jsx("p",{className:"mt-1 text-sm text-gray-600 break-words",children:e.message})]}),o.jsx("button",{onClick:i,className:"flex-shrink-0 p-1 hover:bg-gray-100 rounded transition-colors",children:o.jsx(Vb,{className:"h-4 w-4 text-gray-400"})})]}),e.action&&o.jsx("div",{className:"mt-3",children:o.jsx("button",{onClick:e.action.onClick,className:"text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors",children:e.action.label})})]})]})})},Cd={success:(e,t,r)=>({type:"success",title:e,message:t,...r}),error:(e,t,r)=>({type:"error",title:e,message:t,...r}),warning:(e,t,r)=>({type:"warning",title:e,message:t,...r}),info:(e,t,r)=>({type:"info",title:e,message:t,...r})},Wf=()=>{const{addToast:e}=yg();return{success:(t,r,s)=>{e(Cd.success(t,r,s))},error:(t,r,s)=>{e(Cd.error(t,r,s))},warning:(t,r,s)=>{e(Cd.warning(t,r,s))},info:(t,r,s)=>{e(Cd.info(t,r,s))}}},Vo=(...e)=>Wb(e),Gb=F.createContext(void 0),vg=()=>{const e=F.useContext(Gb);if(!e)throw new Error("Tabs components must be used within a Tabs provider");return e},Hr=({children:e,defaultValue:t,value:r,onValueChange:s,orientation:n="horizontal",className:a})=>{const[i,l]=F.useState(t||""),u=r!==void 0?r:i,c=d=>{r===void 0&&l(d),s==null||s(d)};return o.jsx(Gb.Provider,{value:{activeTab:u,setActiveTab:c,orientation:n},children:o.jsx("div",{className:Vo("tabs",n==="vertical"?"flex gap-4":"space-y-2",a),children:e})})},qb=({children:e,className:t})=>{const{orientation:r}=vg();return o.jsx("div",{className:Vo("tabs-list",r==="horizontal"?"flex border-b border-gray-200":"flex flex-col space-y-1 min-w-[200px]",t),role:"tablist","aria-orientation":r,children:e})},cc=({children:e,value:t,disabled:r=!1,className:s})=>{const{activeTab:n,setActiveTab:a,orientation:i}=vg(),l=n===t,u=()=>{r||a(t)},c=d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),u())};return o.jsx("button",{type:"button",role:"tab","aria-selected":l,"aria-controls":`tabpanel-${t}`,tabIndex:l?0:-1,disabled:r,onClick:u,onKeyDown:c,className:Vo("tabs-trigger transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",i==="horizontal"?Vo("px-4 py-2 text-sm font-medium border-b-2 -mb-px",l?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300",r&&"opacity-50 cursor-not-allowed"):Vo("px-3 py-2 text-sm font-medium rounded-md text-left",l?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50",r&&"opacity-50 cursor-not-allowed"),s),children:e})},uc=({children:e,value:t,className:r})=>{const{activeTab:s}=vg();return s===t?o.jsx("div",{role:"tabpanel",id:`tabpanel-${t}`,"aria-labelledby":`tab-${t}`,className:Vo("tabs-content focus:outline-none",r),tabIndex:0,children:e}):null};Hr.List=qb;Hr.Trigger=cc;Hr.Content=uc;const rF={default:"bg-white border border-gray-200 rounded-lg shadow-sm",outlined:"bg-white border-2 border-gray-300 rounded-lg",elevated:"bg-white border border-gray-200 rounded-lg shadow-lg",filled:"bg-gray-50 border border-gray-200 rounded-lg"},sF={none:"",sm:"p-3",md:"p-4",lg:"p-6"},Ot=({className:e="",variant:t="default",padding:r="md",children:s,...n})=>{const a=[rF[t],sF[r],e].filter(Boolean).join(" ");return o.jsx("div",{className:a,...n,children:s})},Td=({className:e="",children:t,...r})=>{const s=["flex flex-col space-y-1.5 pb-4",e].filter(Boolean).join(" ");return o.jsx("div",{className:s,...r,children:t})},Ad=({className:e="",children:t,...r})=>{const s=["text-lg font-semibold leading-none tracking-tight",e].filter(Boolean).join(" ");return o.jsx("h3",{className:s,...r,children:t})},jd=({className:e="",children:t,...r})=>{const s=["pt-0",e].filter(Boolean).join(" ");return o.jsx("div",{className:s,...r,children:t})},nF=[{id:"1",productName:"Wireless Headphones",brand:"TechBrand",model:"WH-1000XM4",category:"Electronics",stock:25,minStock:10,unitPrice:299.99,vatIncludedPrice:353.99,totalValue:8849.75,barcode:"1234567890123",supplier:"Tech Supplier Inc.",warrantyPeriod:"2 years",status:"active",createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-20T14:45:00Z"},{id:"2",productName:"Bluetooth Speaker",brand:"AudioMax",model:"BT-500",category:"Electronics",stock:5,minStock:15,unitPrice:89.99,vatIncludedPrice:106.19,totalValue:530.95,barcode:"2345678901234",supplier:"Audio Solutions Ltd.",warrantyPeriod:"1 year",status:"active",createdAt:"2024-01-10T09:15:00Z",updatedAt:"2024-01-18T16:20:00Z"}],Vh=["All","Electronics","Accessories","Components","Tools"],aF=["All","TechBrand","AudioMax","ComponentCorp","ToolMaster"],iF=["All","Active","Inactive","Discontinued"],oF=()=>{var se,U,T,j,L,z;const[e,t]=F.useState(nF),[r,s]=F.useState(!1),[n,a]=F.useState({search:"",category:"All",brand:"All",status:"All",lowStock:!1}),[i,l]=F.useState(!1),[u,c]=F.useState(!1),[d,f]=F.useState(!1),[h,p]=F.useState(!1),[m,x]=F.useState(!1),[y,g]=F.useState(null);F.useState("category"),F.useState({category:"",priceType:"percentage",priceValue:"",stockOperation:"set",stockValue:"",supplier:""});const[v,w]=F.useState([]),[b,D]=F.useState({current:1,pageSize:20,total:0}),[A,_]=F.useState({productName:"",brand:"",model:"",category:"",stock:0,minStock:0,unitPrice:0,barcode:"",supplier:"",warrantyPeriod:"",status:"active"}),S=F.useMemo(()=>{let I=e;if(n.search){const J=n.search.toLowerCase();I=I.filter(ne=>{var re;return ne.productName.toLowerCase().includes(J)||ne.brand.toLowerCase().includes(J)||ne.model.toLowerCase().includes(J)||((re=ne.barcode)==null?void 0:re.toLowerCase().includes(J))})}return n.category!=="All"&&(I=I.filter(J=>J.category===n.category)),n.brand!=="All"&&(I=I.filter(J=>J.brand===n.brand)),n.status!=="All"&&(I=I.filter(J=>J.status===n.status.toLowerCase())),n.lowStock&&(I=I.filter(J=>J.stock<=J.minStock)),I},[e,n]),k=F.useMemo(()=>{const I=e.length,J=e.filter(ae=>ae.stock<=ae.minStock).length,ne=e.reduce((ae,q)=>ae+q.totalValue,0),re=e.filter(ae=>ae.status==="active").length;return{totalProducts:I,lowStockCount:J,totalValue:ne,activeTrials:re}},[e]);F.useEffect(()=>{D(I=>({...I,total:S.length}))},[S]);const N=[{key:"productName",title:"Product Name",sortable:!0,render:(I,J)=>o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:I}),o.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[J.brand," - ",J.model]})]})},{key:"category",title:"Category",sortable:!0,render:I=>o.jsx(Qr,{variant:"secondary",children:I})},{key:"stock",title:"Stock",sortable:!0,render:(I,J)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`font-medium ${I<=J.minStock?"text-red-600":"text-gray-900 dark:text-white"}`,children:I}),I<=J.minStock&&o.jsx(vp,{className:"w-4 h-4 text-red-500"})]})},{key:"minStock",title:"Min Stock",sortable:!0},{key:"unitPrice",title:"Unit Price",sortable:!0,render:I=>`${I.toFixed(2)}`},{key:"vatIncludedPrice",title:"VAT Included Price",sortable:!0,render:I=>`${I.toFixed(2)}`},{key:"totalValue",title:"Total Value",sortable:!0,render:I=>`${I.toFixed(2)}`},{key:"status",title:"Status",render:I=>o.jsx(Qr,{variant:I==="active"?"success":I==="inactive"?"warning":"danger",children:I.charAt(0).toUpperCase()+I.slice(1)})}],C=[{key:"view",label:"View Details",icon:o.jsx(I3,{className:"w-4 h-4"}),onClick:I=>{g(I),f(!0)}},{key:"edit",label:"Edit",icon:o.jsx(B3,{className:"w-4 h-4"}),onClick:I=>{g(I),_(I),c(!0)}},{key:"delete",label:"Delete",icon:o.jsx(ev,{className:"w-4 h-4"}),variant:"danger",onClick:I=>{window.confirm(`Are you sure you want to delete ${I.productName}?`)&&t(J=>J.filter(ne=>ne.id!==I.id))}}],E=[{key:"bulk-operations",label:"Bulk Operations",icon:o.jsx(M3,{className:"w-4 h-4"}),onClick:I=>{p(!0)}},{key:"delete",label:"Delete Selected",icon:o.jsx(ev,{className:"w-4 h-4"}),variant:"danger",onClick:I=>{if(window.confirm(`Are you sure you want to delete ${I.length} items?`)){const J=I.map(ne=>ne.id);t(ne=>ne.filter(re=>!J.includes(re.id))),w([])}}},{key:"export",label:"Export Selected",icon:o.jsx($h,{className:"w-4 h-4"}),onClick:I=>{M(I)}}],M=I=>{const ne=[["ID","Product Name","Brand","Model","Category","Stock","Min Stock","Unit Price","VAT Included Price","Total Value","Barcode","Serial Number","Supplier","Warranty Period","Status","Created At","Updated At"].join(","),...I.map(q=>[q.id,`"${q.productName}"`,`"${q.brand}"`,`"${q.model}"`,`"${q.category}"`,q.stock,q.minStock,q.unitPrice,q.vatIncludedPrice,q.totalValue,`"${q.barcode||""}"`,`"${q.serialNumber||""}"`,`"${q.supplier||""}"`,`"${q.warrantyPeriod||""}"`,q.status,q.createdAt,q.updatedAt].join(","))].join(`
`),re=new Blob([ne],{type:"text/csv;charset=utf-8;"}),ae=document.createElement("a");ae.href=URL.createObjectURL(re),ae.download=`inventory_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)},Q=()=>{const I=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Inventory Report</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
          th { background-color: #f2f2f2; }
          .header { text-align: center; margin-bottom: 30px; }
          .stats { display: flex; justify-content: space-around; margin: 20px 0; }
          .stat-item { text-align: center; }
          @media print { .no-print { display: none; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>Inventory Report</h1>
          <p>Generated on: ${new Date().toLocaleDateString()}</p>
        </div>
        
        <div class="stats">
          <div class="stat-item">
            <h3>${k.totalProducts}</h3>
            <p>Total Products</p>
          </div>
          <div class="stat-item">
            <h3>${k.lowStockCount}</h3>
            <p>Low Stock Items</p>
          </div>
          <div class="stat-item">
            <h3>${k.totalValue.toFixed(2)}</h3>
            <p>Total Value</p>
          </div>
        </div>
        
        <table>
          <thead>
            <tr>
              <th>Product Name</th>
              <th>Brand</th>
              <th>Category</th>
              <th>Stock</th>
              <th>Unit Price</th>
              <th>Total Value</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            ${S.map(ne=>`
              <tr>
                <td>${ne.productName}</td>
                <td>${ne.brand}</td>
                <td>${ne.category}</td>
                <td>${ne.stock}</td>
                <td>${ne.unitPrice.toFixed(2)}</td>
                <td>${ne.totalValue.toFixed(2)}</td>
                <td>${ne.status}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      </body>
      </html>
    `,J=window.open("","_blank");J&&(J.document.write(I),J.document.close(),J.print())},Y=(I,J)=>{a(ne=>({...ne,[I]:J}))},X=()=>{if(!A.productName||!A.brand||!A.category)return alert("Please fill in all required fields"),!1;const I={id:Date.now().toString(),productName:A.productName,brand:A.brand,model:A.model||"",category:A.category,stock:A.stock||0,minStock:A.minStock||0,unitPrice:A.unitPrice||0,vatIncludedPrice:(A.unitPrice||0)*1.18,totalValue:(A.stock||0)*((A.unitPrice||0)*1.18),barcode:A.barcode,supplier:A.supplier,warrantyPeriod:A.warrantyPeriod,status:A.status,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return t(J=>[...J,I]),_({productName:"",brand:"",model:"",category:"",stock:0,minStock:0,unitPrice:0,barcode:"",supplier:"",warrantyPeriod:"",status:"active"}),!0},ee=()=>{if(!y||!A.productName||!A.brand||!A.category)return alert("Please fill in all required fields"),!1;const I={...y,...A,vatIncludedPrice:(A.unitPrice||0)*1.18,totalValue:(A.stock||0)*((A.unitPrice||0)*1.18),updatedAt:new Date().toISOString()};return t(J=>J.map(ne=>ne.id===y.id?I:ne)),g(null),_({productName:"",brand:"",model:"",category:"",stock:0,minStock:0,unitPrice:0,barcode:"",supplier:"",warrantyPeriod:"",status:"active"}),!0},te=(I,J)=>{D(ne=>({...ne,current:I,pageSize:J}))},R=(I,J)=>{w(I)};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Inventory Management"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your product inventory"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(de,{variant:"outline",onClick:Q,icon:o.jsx($h,{className:"w-4 h-4"}),children:"Print"}),o.jsx(de,{variant:"outline",onClick:()=>M(S),icon:o.jsx($h,{className:"w-4 h-4"}),children:"Export CSV"}),o.jsx(de,{variant:"outline",onClick:()=>x(!0),icon:o.jsx(tv,{className:"w-4 h-4"}),children:"Bulk Upload"}),o.jsx(de,{onClick:()=>l(!0),icon:o.jsx(z3,{className:"w-4 h-4"}),children:"Add Product"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(Fa,{title:"Total Products",value:k.totalProducts.toString(),color:"blue",icon:o.jsx(L3,{className:"w-6 h-6"})}),o.jsx(Fa,{title:"Low Stock",value:k.lowStockCount.toString(),color:"red",icon:o.jsx(vp,{className:"w-6 h-6"})}),o.jsx(Fa,{title:"Total Value",value:`${k.totalValue.toFixed(2)}`,color:"green",icon:o.jsx(O3,{className:"w-6 h-6"})}),o.jsx(Fa,{title:"Active Items",value:k.activeTrials.toString(),color:"purple",icon:o.jsx($b,{className:"w-6 h-6"})})]}),o.jsx(Ot,{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx(qe,{placeholder:"Search products, brands, models...",value:n.search,onChange:I=>Y("search",I.target.value),leftIcon:o.jsx(Ub,{className:"w-4 h-4"})})}),o.jsx(ur,{value:n.category,onChange:I=>Y("category",I),options:Vh.map(I=>({value:I,label:I})),placeholder:"Category"}),o.jsx(ur,{value:n.brand,onChange:I=>Y("brand",I),options:aF.map(I=>({value:I,label:I})),placeholder:"Brand"}),o.jsx(ur,{value:n.status,onChange:I=>Y("status",I),options:iF.map(I=>({value:I,label:I})),placeholder:"Status"}),o.jsx("div",{className:"flex items-center",children:o.jsx($n,{checked:n.lowStock,onChange:I=>Y("lowStock",I),label:"Low Stock Only"})})]})}),o.jsx(Ot,{children:o.jsx(H3,{data:S.slice((b.current-1)*b.pageSize,b.current*b.pageSize),columns:N,loading:r,pagination:{...b,onChange:te},rowSelection:{selectedRowKeys:v,onChange:R},actions:C,bulkActions:E,searchable:!1,sortable:!0,rowKey:"id",hoverable:!0,striped:!0})}),o.jsx(ar,{isOpen:i,onClose:()=>l(!1),onSave:X,title:"Add New Product",size:"lg",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qe,{label:"Product Name *",value:A.productName||"",onChange:I=>_(J=>({...J,productName:I.target.value})),placeholder:"Enter product name"}),o.jsx(qe,{label:"Brand *",value:A.brand||"",onChange:I=>_(J=>({...J,brand:I.target.value})),placeholder:"Enter brand"}),o.jsx(qe,{label:"Model",value:A.model||"",onChange:I=>_(J=>({...J,model:I.target.value})),placeholder:"Enter model"}),o.jsx(ur,{label:"Category *",value:A.category||"",onChange:I=>_(J=>({...J,category:I.target.value})),options:Vh.filter(I=>I!=="All").map(I=>({value:I,label:I})),placeholder:"Select category"}),o.jsx(qe,{label:"Stock Quantity",type:"number",value:((se=A.stock)==null?void 0:se.toString())||"0",onChange:I=>_(J=>({...J,stock:parseInt(I.target.value)||0})),placeholder:"0"}),o.jsx(qe,{label:"Minimum Stock",type:"number",value:((U=A.minStock)==null?void 0:U.toString())||"0",onChange:I=>_(J=>({...J,minStock:parseInt(I.target.value)||0})),placeholder:"0"}),o.jsx(qe,{label:"Unit Price",type:"number",step:"0.01",value:((T=A.unitPrice)==null?void 0:T.toString())||"0",onChange:I=>_(J=>({...J,unitPrice:parseFloat(I.target.value)||0})),placeholder:"0.00"}),o.jsx(qe,{label:"Barcode",value:A.barcode||"",onChange:I=>_(J=>({...J,barcode:I.target.value})),placeholder:"Enter barcode"}),o.jsx(qe,{label:"Supplier",value:A.supplier||"",onChange:I=>_(J=>({...J,supplier:I.target.value})),placeholder:"Enter supplier"}),o.jsx(qe,{label:"Warranty Period",value:A.warrantyPeriod||"",onChange:I=>_(J=>({...J,warrantyPeriod:I.target.value})),placeholder:"e.g., 2 years"})]}),o.jsx(ur,{label:"Status",value:A.status||"active",onChange:I=>_(J=>({...J,status:I.target.value})),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"discontinued",label:"Discontinued"}]})]})}),o.jsx(ar,{isOpen:u,onClose:()=>{c(!1),g(null)},onSave:ee,title:"Edit Product",size:"lg",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qe,{label:"Product Name *",value:A.productName||"",onChange:I=>_(J=>({...J,productName:I.target.value})),placeholder:"Enter product name"}),o.jsx(qe,{label:"Brand *",value:A.brand||"",onChange:I=>_(J=>({...J,brand:I.target.value})),placeholder:"Enter brand"}),o.jsx(qe,{label:"Model",value:A.model||"",onChange:I=>_(J=>({...J,model:I.target.value})),placeholder:"Enter model"}),o.jsx(ur,{label:"Category *",value:A.category||"",onChange:I=>_(J=>({...J,category:I.target.value})),options:Vh.filter(I=>I!=="All").map(I=>({value:I,label:I})),placeholder:"Select category"}),o.jsx(qe,{label:"Stock Quantity",type:"number",value:((j=A.stock)==null?void 0:j.toString())||"0",onChange:I=>_(J=>({...J,stock:parseInt(I.target.value)||0})),placeholder:"0"}),o.jsx(qe,{label:"Minimum Stock",type:"number",value:((L=A.minStock)==null?void 0:L.toString())||"0",onChange:I=>_(J=>({...J,minStock:parseInt(I.target.value)||0})),placeholder:"0"}),o.jsx(qe,{label:"Unit Price",type:"number",step:"0.01",value:((z=A.unitPrice)==null?void 0:z.toString())||"0",onChange:I=>_(J=>({...J,unitPrice:parseFloat(I.target.value)||0})),placeholder:"0.00"}),o.jsx(qe,{label:"Barcode",value:A.barcode||"",onChange:I=>_(J=>({...J,barcode:I.target.value})),placeholder:"Enter barcode"}),o.jsx(qe,{label:"Supplier",value:A.supplier||"",onChange:I=>_(J=>({...J,supplier:I.target.value})),placeholder:"Enter supplier"}),o.jsx(qe,{label:"Warranty Period",value:A.warrantyPeriod||"",onChange:I=>_(J=>({...J,warrantyPeriod:I.target.value})),placeholder:"e.g., 2 years"})]}),o.jsx(ur,{label:"Status",value:A.status||"active",onChange:I=>_(J=>({...J,status:I.target.value})),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"discontinued",label:"Discontinued"}]})]})}),o.jsx(ar,{isOpen:m,onClose:()=>x(!1),title:"Bulk Upload Products",size:"md",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(tv,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload a CSV file with your product data"})]}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6",children:o.jsx("input",{type:"file",accept:".csv",className:"w-full",onChange:I=>{var J;console.log("File selected:",(J=I.target.files)==null?void 0:J[0])}})}),o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.jsx("p",{children:"CSV format: Product Name, Brand, Model, Category, Stock, Min Stock, Unit Price, Barcode, Supplier, Warranty Period"})})]})})]})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),je=(e,t)=>{const r=F.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:u,...c},d)=>F.createElement("svg",{ref:d,...lF,width:n,height:n,stroke:s,strokeWidth:i?Number(a)*24/Number(n):a,className:["lucide",`lucide-${cF(e)}`,l].join(" "),...c},[...t.map(([f,h])=>F.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=je("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=je("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=je("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=je("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=je("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=je("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=je("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=je("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=je("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=je("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=je("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=je("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=je("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=je("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=je("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=je("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=je("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=je("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=je("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=je("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=je("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=je("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=je("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=je("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=je("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=je("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=je("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=je("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=je("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=je("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=je("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=je("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=je("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=je("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=je("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=je("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=je("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=je("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=je("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=je("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=je("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=je("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function YF(){const[e,t]=F.useState("seed-admin"),[r,s]=F.useState("AdminPass123!"),[n,a]=F.useState(!1),{login:i,isLoading:l,error:u}=gg(),c=async d=>{if(d.preventDefault(),!(!e.trim()||!r.trim())){console.log("Form submission - username:",e,"password:",r);try{await i({username:e.trim(),password:r})}catch(f){console.error("Login failed:",f)}}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100",children:o.jsx(AF,{className:"h-6 w-6 text-blue-600"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"X-EAR CRM'e Giri Yapn"}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"itme cihaz hasta ynetim sistemi"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[o.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"sr-only",children:"Kullanc Ad"}),o.jsx(qe,{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Kullanc ad",value:e,onChange:d=>t(d.target.value),disabled:l})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"ifre"}),o.jsx(qe,{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"ifre",value:r,onChange:d=>s(d.target.value),disabled:l}),o.jsx(de,{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!n),disabled:l,variant:"default",children:n?o.jsx(bF,{className:"h-4 w-4 text-gray-400"}):o.jsx(Vu,{className:"h-4 w-4 text-gray-400"})})]})]}),u&&o.jsx("div",{className:"rounded-md bg-red-50 p-4",children:o.jsx("div",{className:"text-sm text-red-700",children:u})}),o.jsx("div",{children:o.jsx(de,{type:"submit",disabled:l||!e.trim()||!r.trim(),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",variant:"default",children:l?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Giri yaplyor..."]}):"Giri Yap"})})]})]})})}const XF=({children:e})=>{const{isAuthenticated:t,isLoading:r,initializeAuth:s}=gg();return console.log("AuthProvider render - isAuthenticated:",t,"isLoading:",r),F.useEffect(()=>{s()},[]),r?(console.log("AuthProvider: Showing loading screen"),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Ykleniyor..."})]})})):t?(console.log("AuthProvider: Rendering children (MainLayout)"),o.jsx(o.Fragment,{children:e})):(console.log("AuthProvider: Showing login form"),o.jsx(YF,{}))};class QF extends F.Component{constructor(r){super(r);mt(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});mt(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){this.setState({error:r,errorInfo:s}),this.props.onError&&this.props.onError(r,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(lu,{className:"h-12 w-12 text-red-500"})}),o.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Bir Hata Olutu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"zgnz, beklenmeyen bir hata olutu. Ltfen sayfay yenilemeyi deneyin."}),!1,o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs("button",{onClick:this.handleRetry,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Kf,{className:"h-4 w-4 mr-2"}),"Tekrar Dene"]}),o.jsxs("button",{onClick:this.handleGoHome,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(NF,{className:"h-4 w-4 mr-2"}),"Ana Sayfa"]})]})]})}):this.props.children}}const ZF={error:{icon:ou,bgColor:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-500",titleColor:"text-red-800",messageColor:"text-red-700",buttonColor:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:lu,bgColor:"bg-yellow-50",borderColor:"border-yellow-200",iconColor:"text-yellow-500",titleColor:"text-yellow-800",messageColor:"text-yellow-700",buttonColor:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},info:{icon:CF,bgColor:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-500",titleColor:"text-blue-800",messageColor:"text-blue-700",buttonColor:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"},success:{icon:Za,bgColor:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-500",titleColor:"text-green-800",messageColor:"text-green-700",buttonColor:"bg-green-600 hover:bg-green-700 focus:ring-green-500"}},uu=({title:e,message:t,type:r="error",dismissible:s=!1,onDismiss:n,onRetry:a,retryText:i="Tekrar Dene",className:l=""})=>{const u=ZF[r],c=u.icon;return o.jsx("div",{className:`rounded-md border p-4 ${u.bgColor} ${u.borderColor} ${l}`,children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(c,{className:`h-5 w-5 ${u.iconColor}`})}),o.jsxs("div",{className:"ml-3 flex-1",children:[e&&o.jsx("h3",{className:`text-sm font-medium ${u.titleColor}`,children:e}),o.jsx("div",{className:`${e?"mt-2":""} text-sm ${u.messageColor}`,children:o.jsx("p",{children:t})}),a&&o.jsx("div",{className:"mt-4",children:o.jsxs("button",{type:"button",onClick:a,className:`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white ${u.buttonColor} focus:outline-none focus:ring-2 focus:ring-offset-2`,children:[o.jsx(Kf,{className:"h-4 w-4 mr-2"}),i]})})]}),s&&n&&o.jsx("div",{className:"ml-auto pl-3",children:o.jsx("div",{className:"-mx-1.5 -my-1.5",children:o.jsxs("button",{type:"button",onClick:n,className:`inline-flex rounded-md p-1.5 ${u.iconColor} hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent`,children:[o.jsx("span",{className:"sr-only",children:"Kapat"}),o.jsx(fs,{className:"h-5 w-5"})]})})})]})})},JF=({onRetry:e})=>o.jsx(uu,{title:"Balant Hatas",message:"Sunucuya balanrken bir hata olutu. nternet balantnz kontrol edin ve tekrar deneyin.",type:"error",onRetry:e}),eR=({resource:e="kaynak"})=>o.jsx(uu,{title:"Bulunamad",message:`Aradnz ${e} bulunamad. Sayfa kaldrlm veya tanm olabilir.`,type:"warning"}),tR=({position:e="top-right",...t})=>{const r={"top-right":"fixed top-4 right-4 z-50","top-left":"fixed top-4 left-4 z-50","bottom-right":"fixed bottom-4 right-4 z-50","bottom-left":"fixed bottom-4 left-4 z-50"};return o.jsx("div",{className:r[e],children:o.jsx(uu,{...t,className:`max-w-sm shadow-lg ${t.className||""}`,dismissible:!0})})};function Zb(e,t){return function(){return e.apply(t,arguments)}}const{toString:rR}=Object.prototype,{getPrototypeOf:Sg}=Object,{iterator:Gf,toStringTag:Jb}=Symbol,qf=(e=>t=>{const r=rR.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),rn=e=>(e=e.toLowerCase(),t=>qf(t)===e),Yf=e=>t=>typeof t===e,{isArray:Rl}=Array,wl=Yf("undefined");function Hu(e){return e!==null&&!wl(e)&&e.constructor!==null&&!wl(e.constructor)&&rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const e_=rn("ArrayBuffer");function sR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e_(e.buffer),t}const nR=Yf("string"),rs=Yf("function"),t_=Yf("number"),Wu=e=>e!==null&&typeof e=="object",aR=e=>e===!0||e===!1,l0=e=>{if(qf(e)!=="object")return!1;const t=Sg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Jb in e)&&!(Gf in e)},iR=e=>{if(!Wu(e)||Hu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},oR=rn("Date"),lR=rn("File"),cR=rn("Blob"),uR=rn("FileList"),dR=e=>Wu(e)&&rs(e.pipe),fR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rs(e.append)&&((t=qf(e))==="formdata"||t==="object"&&rs(e.toString)&&e.toString()==="[object FormData]"))},hR=rn("URLSearchParams"),[mR,pR,xR,gR]=["ReadableStream","Request","Response","Headers"].map(rn),yR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ku(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),Rl(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(Hu(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(s=0;s<i;s++)l=a[s],t.call(null,e[l],l,e)}}function r_(e,t){if(Hu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const bi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),s_=e=>!wl(e)&&e!==bi;function _p(){const{caseless:e,skipUndefined:t}=s_(this)&&this||{},r={},s=(n,a)=>{const i=e&&r_(r,a)||a;l0(r[i])&&l0(n)?r[i]=_p(r[i],n):l0(n)?r[i]=_p({},n):Rl(n)?r[i]=n.slice():(!t||!wl(n))&&(r[i]=n)};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Ku(arguments[n],s);return r}const vR=(e,t,r,{allOwnKeys:s}={})=>(Ku(t,(n,a)=>{r&&rs(n)?e[a]=Zb(n,r):e[a]=n},{allOwnKeys:s}),e),wR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kR=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},SR=(e,t,r,s)=>{let n,a,i;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)i=n[a],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&Sg(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},bR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},_R=e=>{if(!e)return null;if(Rl(e))return e;let t=e.length;if(!t_(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},ER=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Sg(Uint8Array)),NR=(e,t)=>{const s=(e&&e[Gf]).call(e);let n;for(;(n=s.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},CR=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},TR=rn("HTMLFormElement"),AR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),iv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),jR=rn("RegExp"),n_=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Ku(r,(n,a)=>{let i;(i=t(n,a,e))!==!1&&(s[a]=i||n)}),Object.defineProperties(e,s)},FR=e=>{n_(e,(t,r)=>{if(rs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(rs(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},RR=(e,t)=>{const r={},s=n=>{n.forEach(a=>{r[a]=!0})};return Rl(e)?s(e):s(String(e).split(t)),r},DR=()=>{},PR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function OR(e){return!!(e&&rs(e.append)&&e[Jb]==="FormData"&&e[Gf])}const IR=e=>{const t=new Array(10),r=(s,n)=>{if(Wu(s)){if(t.indexOf(s)>=0)return;if(Hu(s))return s;if(!("toJSON"in s)){t[n]=s;const a=Rl(s)?[]:{};return Ku(s,(i,l)=>{const u=r(i,n+1);!wl(u)&&(a[l]=u)}),t[n]=void 0,a}}return s};return r(e,0)},MR=rn("AsyncFunction"),LR=e=>e&&(Wu(e)||rs(e))&&rs(e.then)&&rs(e.catch),a_=((e,t)=>e?setImmediate:t?((r,s)=>(bi.addEventListener("message",({source:n,data:a})=>{n===bi&&a===r&&s.length&&s.shift()()},!1),n=>{s.push(n),bi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",rs(bi.postMessage)),BR=typeof queueMicrotask<"u"?queueMicrotask.bind(bi):typeof process<"u"&&process.nextTick||a_,zR=e=>e!=null&&rs(e[Gf]),me={isArray:Rl,isArrayBuffer:e_,isBuffer:Hu,isFormData:fR,isArrayBufferView:sR,isString:nR,isNumber:t_,isBoolean:aR,isObject:Wu,isPlainObject:l0,isEmptyObject:iR,isReadableStream:mR,isRequest:pR,isResponse:xR,isHeaders:gR,isUndefined:wl,isDate:oR,isFile:lR,isBlob:cR,isRegExp:jR,isFunction:rs,isStream:dR,isURLSearchParams:hR,isTypedArray:ER,isFileList:uR,forEach:Ku,merge:_p,extend:vR,trim:yR,stripBOM:wR,inherits:kR,toFlatObject:SR,kindOf:qf,kindOfTest:rn,endsWith:bR,toArray:_R,forEachEntry:NR,matchAll:CR,isHTMLForm:TR,hasOwnProperty:iv,hasOwnProp:iv,reduceDescriptors:n_,freezeMethods:FR,toObjectSet:RR,toCamelCase:AR,noop:DR,toFiniteNumber:PR,findKey:r_,global:bi,isContextDefined:s_,isSpecCompliantForm:OR,toJSONObject:IR,isAsyncFn:MR,isThenable:LR,setImmediate:a_,asap:BR,isIterable:zR};function et(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}me.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const i_=et.prototype,o_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{o_[e]={value:e}});Object.defineProperties(et,o_);Object.defineProperty(i_,"isAxiosError",{value:!0});et.from=(e,t,r,s,n,a)=>{const i=Object.create(i_);me.toFlatObject(e,i,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return et.call(i,l,u,r,s,n),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const UR=null;function Ep(e){return me.isPlainObject(e)||me.isArray(e)}function l_(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function ov(e,t,r){return e?e.concat(t).map(function(n,a){return n=l_(n),!r&&a?"["+n+"]":n}).join(r?".":""):t}function $R(e){return me.isArray(e)&&!e.some(Ep)}const VR=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function Xf(e,t,r){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!me.isUndefined(y[x])});const s=r.metaTokens,n=r.visitor||d,a=r.dots,i=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(n))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(me.isDate(m))return m.toISOString();if(me.isBoolean(m))return m.toString();if(!u&&me.isBlob(m))throw new et("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(m)||me.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,x,y){let g=m;if(m&&!y&&typeof m=="object"){if(me.endsWith(x,"{}"))x=s?x:x.slice(0,-2),m=JSON.stringify(m);else if(me.isArray(m)&&$R(m)||(me.isFileList(m)||me.endsWith(x,"[]"))&&(g=me.toArray(m)))return x=l_(x),g.forEach(function(w,b){!(me.isUndefined(w)||w===null)&&t.append(i===!0?ov([x],b,a):i===null?x:x+"[]",c(w))}),!1}return Ep(m)?!0:(t.append(ov(y,x,a),c(m)),!1)}const f=[],h=Object.assign(VR,{defaultVisitor:d,convertValue:c,isVisitable:Ep});function p(m,x){if(!me.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(m),me.forEach(m,function(g,v){(!(me.isUndefined(g)||g===null)&&n.call(t,g,me.isString(v)?v.trim():v,x,h))===!0&&p(g,x?x.concat(v):[v])}),f.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return p(e),t}function lv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function bg(e,t){this._pairs=[],e&&Xf(e,this,t)}const c_=bg.prototype;c_.append=function(t,r){this._pairs.push([t,r])};c_.toString=function(t){const r=t?function(s){return t.call(this,s,lv)}:lv;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function HR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function u_(e,t,r){if(!t)return e;const s=r&&r.encode||HR;me.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let a;if(n?a=n(t,r):a=me.isURLSearchParams(t)?t.toString():new bg(t,r).toString(s),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class WR{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(s){s!==null&&t(s)})}}const cv=WR,d_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KR=typeof URLSearchParams<"u"?URLSearchParams:bg,GR=typeof FormData<"u"?FormData:null,qR=typeof Blob<"u"?Blob:null,YR={isBrowser:!0,classes:{URLSearchParams:KR,FormData:GR,Blob:qR},protocols:["http","https","file","blob","url","data"]},_g=typeof window<"u"&&typeof document<"u",Np=typeof navigator=="object"&&navigator||void 0,XR=_g&&(!Np||["ReactNative","NativeScript","NS"].indexOf(Np.product)<0),QR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ZR=_g&&window.location.href||"http://localhost",JR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_g,hasStandardBrowserEnv:XR,hasStandardBrowserWebWorkerEnv:QR,navigator:Np,origin:ZR},Symbol.toStringTag,{value:"Module"})),Sr={...JR,...YR};function eD(e,t){return Xf(e,new Sr.classes.URLSearchParams,{visitor:function(r,s,n,a){return Sr.isNode&&me.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function tD(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rD(e){const t={},r=Object.keys(e);let s;const n=r.length;let a;for(s=0;s<n;s++)a=r[s],t[a]=e[a];return t}function f_(e){function t(r,s,n,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=a>=r.length;return i=!i&&me.isArray(n)?n.length:i,u?(me.hasOwnProp(n,i)?n[i]=[n[i],s]:n[i]=s,!l):((!n[i]||!me.isObject(n[i]))&&(n[i]=[]),t(r,s,n[i],a)&&me.isArray(n[i])&&(n[i]=rD(n[i])),!l)}if(me.isFormData(e)&&me.isFunction(e.entries)){const r={};return me.forEachEntry(e,(s,n)=>{t(tD(s),n,r,0)}),r}return null}function sD(e,t,r){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Eg={transitional:d_,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,a=me.isObject(t);if(a&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return n?JSON.stringify(f_(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return eD(t,this.formSerializer).toString();if((l=me.isFileList(t))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Xf(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||n?(r.setContentType("application/json",!1),sD(t)):t}],transformResponse:[function(t){const r=this.transitional||Eg.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(s&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?et.from(l,et.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sr.classes.FormData,Blob:Sr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{Eg.headers[e]={}});const Ng=Eg,nD=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aD=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),s=i.substring(n+1).trim(),!(!r||t[r]&&nD[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},uv=Symbol("internals");function ec(e){return e&&String(e).trim().toLowerCase()}function c0(e){return e===!1||e==null?e:me.isArray(e)?e.map(c0):String(e)}function iD(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const oD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hh(e,t,r,s,n){if(me.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!me.isString(t)){if(me.isString(s))return t.indexOf(s)!==-1;if(me.isRegExp(s))return s.test(t)}}function lD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function cD(e,t){const r=me.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,a,i){return this[s].call(this,t,n,a,i)},configurable:!0})})}let Qf=class{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function a(l,u,c){const d=ec(u);if(!d)throw new Error("header name must be a non-empty string");const f=me.findKey(n,d);(!f||n[f]===void 0||c===!0||c===void 0&&n[f]!==!1)&&(n[f||u]=c0(l))}const i=(l,u)=>me.forEach(l,(c,d)=>a(c,d,u));if(me.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(me.isString(t)&&(t=t.trim())&&!oD(t))i(aD(t),r);else if(me.isObject(t)&&me.isIterable(t)){let l={},u,c;for(const d of t){if(!me.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?me.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}i(l,r)}else t!=null&&a(r,t,s);return this}get(t,r){if(t=ec(t),t){const s=me.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return iD(n);if(me.isFunction(r))return r.call(this,n,s);if(me.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ec(t),t){const s=me.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Hh(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function a(i){if(i=ec(i),i){const l=me.findKey(s,i);l&&(!r||Hh(s,s[l],l,r))&&(delete s[l],n=!0)}}return me.isArray(t)?t.forEach(a):a(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const a=r[s];(!t||Hh(this,this[a],a,t,!0))&&(delete this[a],n=!0)}return n}normalize(t){const r=this,s={};return me.forEach(this,(n,a)=>{const i=me.findKey(s,a);if(i){r[i]=c0(n),delete r[a];return}const l=t?lD(a):String(a).trim();l!==a&&delete r[a],r[l]=c0(n),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return me.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&me.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[uv]=this[uv]={accessors:{}}).accessors,n=this.prototype;function a(i){const l=ec(i);s[l]||(cD(n,i),s[l]=!0)}return me.isArray(t)?t.forEach(a):a(t),this}};Qf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Qf.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});me.freezeMethods(Qf);const Js=Qf;function Wh(e,t){const r=this||Ng,s=t||r,n=Js.from(s.headers);let a=s.data;return me.forEach(e,function(l){a=l.call(r,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function h_(e){return!!(e&&e.__CANCEL__)}function Dl(e,t,r){et.call(this,e??"canceled",et.ERR_CANCELED,t,r),this.name="CanceledError"}me.inherits(Dl,et,{__CANCEL__:!0});function m_(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new et("Request failed with status code "+r.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function dD(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,a=0,i;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=s[a];i||(i=c),r[n]=u,s[n]=c;let f=a,h=0;for(;f!==n;)h+=r[f++],f=f%e;if(n=(n+1)%e,n===a&&(a=(a+1)%e),c-i<t)return;const p=d&&c-d;return p?Math.round(h*1e3/p):void 0}}function fD(e,t){let r=0,s=1e3/t,n,a;const i=(c,d=Date.now())=>{r=d,n=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-r;f>=s?i(c,d):(n=c,a||(a=setTimeout(()=>{a=null,i(n)},s-f)))},()=>n&&i(n)]}const q0=(e,t,r=3)=>{let s=0;const n=dD(50,250);return fD(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,u=i-s,c=n(u),d=i<=l;s=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-i)/c:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},dv=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},fv=e=>(...t)=>me.asap(()=>e(...t)),hD=Sr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Sr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Sr.origin),Sr.navigator&&/(msie|trident)/i.test(Sr.navigator.userAgent)):()=>!0,mD=Sr.hasStandardBrowserEnv?{write(e,t,r,s,n,a){const i=[e+"="+encodeURIComponent(t)];me.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),me.isString(s)&&i.push("path="+s),me.isString(n)&&i.push("domain="+n),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function p_(e,t,r){let s=!pD(t);return e&&(s||r==!1)?xD(e,t):t}const hv=e=>e instanceof Js?{...e}:e;function Ji(e,t){t=t||{};const r={};function s(c,d,f,h){return me.isPlainObject(c)&&me.isPlainObject(d)?me.merge.call({caseless:h},c,d):me.isPlainObject(d)?me.merge({},d):me.isArray(d)?d.slice():d}function n(c,d,f,h){if(me.isUndefined(d)){if(!me.isUndefined(c))return s(void 0,c,f,h)}else return s(c,d,f,h)}function a(c,d){if(!me.isUndefined(d))return s(void 0,d)}function i(c,d){if(me.isUndefined(d)){if(!me.isUndefined(c))return s(void 0,c)}else return s(void 0,d)}function l(c,d,f){if(f in t)return s(c,d);if(f in e)return s(void 0,c)}const u={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,d,f)=>n(hv(c),hv(d),f,!0)};return me.forEach(Object.keys({...e,...t}),function(d){const f=u[d]||n,h=f(e[d],t[d],d);me.isUndefined(h)&&f!==l||(r[d]=h)}),r}const x_=e=>{const t=Ji({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=Js.from(i),t.url=u_(p_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),me.isFormData(r)){if(Sr.hasStandardBrowserEnv||Sr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(me.isFunction(r.getHeaders)){const u=r.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,f])=>{c.includes(d.toLowerCase())&&i.set(d,f)})}}if(Sr.hasStandardBrowserEnv&&(s&&me.isFunction(s)&&(s=s(t)),s||s!==!1&&hD(t.url))){const u=n&&a&&mD.read(a);u&&i.set(n,u)}return t},gD=typeof XMLHttpRequest<"u",yD=gD&&function(e){return new Promise(function(r,s){const n=x_(e);let a=n.data;const i=Js.from(n.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=n,d,f,h,p,m;function x(){p&&p(),m&&m(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function g(){if(!y)return;const w=Js.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};m_(function(_){r(_),x()},function(_){s(_),x()},D),y=null}"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(g)},y.onabort=function(){y&&(s(new et("Request aborted",et.ECONNABORTED,e,y)),y=null)},y.onerror=function(b){const D=b&&b.message?b.message:"Network Error",A=new et(D,et.ERR_NETWORK,e,y);A.event=b||null,s(A),y=null},y.ontimeout=function(){let b=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const D=n.transitional||d_;n.timeoutErrorMessage&&(b=n.timeoutErrorMessage),s(new et(b,D.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,e,y)),y=null},a===void 0&&i.setContentType(null),"setRequestHeader"in y&&me.forEach(i.toJSON(),function(b,D){y.setRequestHeader(D,b)}),me.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),l&&l!=="json"&&(y.responseType=n.responseType),c&&([h,m]=q0(c,!0),y.addEventListener("progress",h)),u&&y.upload&&([f,p]=q0(u),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(d=w=>{y&&(s(!w||w.type?new Dl(null,e,y):w),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const v=uD(n.url);if(v&&Sr.protocols.indexOf(v)===-1){s(new et("Unsupported protocol "+v+":",et.ERR_BAD_REQUEST,e));return}y.send(a||null)})},vD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const a=function(c){if(!n){n=!0,l();const d=c instanceof Error?c:this.reason;s.abort(d instanceof et?d:new Dl(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new et(`timeout ${t} of ms exceeded`,et.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:u}=s;return u.unsubscribe=()=>me.asap(l),u}},wD=vD,kD=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},SD=async function*(e,t){for await(const r of bD(e))yield*kD(r,t)},bD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},mv=(e,t,r,s)=>{const n=SD(e,t);let a=0,i,l=u=>{i||(i=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await n.next();if(c){l(),u.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),n.return()}},{highWaterMark:2})},pv=64*1024,{isFunction:Fd}=me,_D=(({Request:e,Response:t})=>({Request:e,Response:t}))(me.global),{ReadableStream:xv,TextEncoder:gv}=me.global,yv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ED=e=>{e=me.merge.call({skipUndefined:!0},_D,e);const{fetch:t,Request:r,Response:s}=e,n=t?Fd(t):typeof fetch=="function",a=Fd(r),i=Fd(s);if(!n)return!1;const l=n&&Fd(xv),u=n&&(typeof gv=="function"?(m=>x=>m.encode(x))(new gv):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=a&&l&&yv(()=>{let m=!1;const x=new r(Sr.origin,{body:new xv,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!x}),d=i&&l&&yv(()=>me.isReadableStream(new s("").body)),f={stream:d&&(m=>m.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(x,y)=>{let g=x&&x[m];if(g)return g.call(x);throw new et(`Response type '${m}' is not supported`,et.ERR_NOT_SUPPORT,y)})});const h=async m=>{if(m==null)return 0;if(me.isBlob(m))return m.size;if(me.isSpecCompliantForm(m))return(await new r(Sr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(me.isArrayBufferView(m)||me.isArrayBuffer(m))return m.byteLength;if(me.isURLSearchParams(m)&&(m=m+""),me.isString(m))return(await u(m)).byteLength},p=async(m,x)=>{const y=me.toFiniteNumber(m.getContentLength());return y??h(x)};return async m=>{let{url:x,method:y,data:g,signal:v,cancelToken:w,timeout:b,onDownloadProgress:D,onUploadProgress:A,responseType:_,headers:S,withCredentials:k="same-origin",fetchOptions:N}=x_(m),C=t||fetch;_=_?(_+"").toLowerCase():"text";let E=wD([v,w&&w.toAbortSignal()],b),M=null;const Q=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let Y;try{if(A&&c&&y!=="get"&&y!=="head"&&(Y=await p(S,g))!==0){let U=new r(x,{method:"POST",body:g,duplex:"half"}),T;if(me.isFormData(g)&&(T=U.headers.get("content-type"))&&S.setContentType(T),U.body){const[j,L]=dv(Y,q0(fv(A)));g=mv(U.body,pv,j,L)}}me.isString(k)||(k=k?"include":"omit");const X=a&&"credentials"in r.prototype,ee={...N,signal:E,method:y.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:X?k:void 0};M=a&&new r(x,ee);let te=await(a?C(M,N):C(x,ee));const R=d&&(_==="stream"||_==="response");if(d&&(D||R&&Q)){const U={};["status","statusText","headers"].forEach(z=>{U[z]=te[z]});const T=me.toFiniteNumber(te.headers.get("content-length")),[j,L]=D&&dv(T,q0(fv(D),!0))||[];te=new s(mv(te.body,pv,j,()=>{L&&L(),Q&&Q()}),U)}_=_||"text";let se=await f[me.findKey(f,_)||"text"](te,m);return!R&&Q&&Q(),await new Promise((U,T)=>{m_(U,T,{data:se,headers:Js.from(te.headers),status:te.status,statusText:te.statusText,config:m,request:M})})}catch(X){throw Q&&Q(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,m,M),{cause:X.cause||X}):et.from(X,X&&X.code,m,M)}}},ND=new Map,g_=e=>{let t=e?e.env:{};const{fetch:r,Request:s,Response:n}=t,a=[s,n,r];let i=a.length,l=i,u,c,d=ND;for(;l--;)u=a[l],c=d.get(u),c===void 0&&d.set(u,c=l?new Map:ED(t)),d=c;return c};g_();const Cp={http:UR,xhr:yD,fetch:{get:g_}};me.forEach(Cp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vv=e=>`- ${e}`,CD=e=>me.isFunction(e)||e===null||e===!1,y_={getAdapter:(e,t)=>{e=me.isArray(e)?e:[e];const{length:r}=e;let s,n;const a={};for(let i=0;i<r;i++){s=e[i];let l;if(n=s,!CD(s)&&(n=Cp[(l=String(s)).toLowerCase()],n===void 0))throw new et(`Unknown adapter '${l}'`);if(n&&(me.isFunction(n)||(n=n.get(t))))break;a[l||"#"+i]=n}if(!n){const i=Object.entries(a).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(vv).join(`
`):" "+vv(i[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Cp};function Kh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dl(null,e)}function wv(e){return Kh(e),e.headers=Js.from(e.headers),e.data=Wh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),y_.getAdapter(e.adapter||Ng.adapter,e)(e).then(function(s){return Kh(e),s.data=Wh.call(e,e.transformResponse,s),s.headers=Js.from(s.headers),s},function(s){return h_(s)||(Kh(e),s&&s.response&&(s.response.data=Wh.call(e,e.transformResponse,s.response),s.response.headers=Js.from(s.response.headers))),Promise.reject(s)})}const v_="1.12.2",Zf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Zf[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const kv={};Zf.transitional=function(t,r,s){function n(a,i){return"[Axios v"+v_+"] Transitional option '"+a+"'"+i+(s?". "+s:"")}return(a,i,l)=>{if(t===!1)throw new et(n(i," has been removed"+(r?" in "+r:"")),et.ERR_DEPRECATED);return r&&!kv[i]&&(kv[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};Zf.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function TD(e,t,r){if(typeof e!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const a=s[n],i=t[a];if(i){const l=e[a],u=l===void 0||i(l,a,e);if(u!==!0)throw new et("option "+a+" must be "+u,et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new et("Unknown option "+a,et.ERR_BAD_OPTION)}}const u0={assertOptions:TD,validators:Zf},nn=u0.validators;let Y0=class{constructor(t){this.defaults=t||{},this.interceptors={request:new cv,response:new cv}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const a=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ji(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:a}=r;s!==void 0&&u0.assertOptions(s,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),n!=null&&(me.isFunction(n)?r.paramsSerializer={serialize:n}:u0.assertOptions(n,{encode:nn.function,serialize:nn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),u0.assertOptions(r,{baseUrl:nn.spelling("baseURL"),withXsrfToken:nn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&me.merge(a.common,a[r.method]);a&&me.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=Js.concat(i,a);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!u){const m=[wv.bind(this),void 0];for(m.unshift(...l),m.push(...c),h=m.length,d=Promise.resolve(r);f<h;)d=d.then(m[f++],m[f++]);return d}h=l.length;let p=r;for(;f<h;){const m=l[f++],x=l[f++];try{p=m(p)}catch(y){x.call(this,y);break}}try{d=wv.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Ji(this.defaults,t);const r=p_(t.baseURL,t.url,t.allowAbsoluteUrls);return u_(r,t.params,t.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(t){Y0.prototype[t]=function(r,s){return this.request(Ji(s||{},{method:t,url:r,data:(s||{}).data}))}});me.forEach(["post","put","patch"],function(t){function r(s){return function(a,i,l){return this.request(Ji(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}Y0.prototype[t]=r(),Y0.prototype[t+"Form"]=r(!0)});const d0=Y0;let AD=class w_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(n=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](n);s._listeners=null}),this.promise.then=n=>{let a;const i=new Promise(l=>{s.subscribe(l),a=l}).then(n);return i.cancel=function(){s.unsubscribe(a)},i},t(function(a,i,l){s.reason||(s.reason=new Dl(a,i,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new w_(function(n){t=n}),cancel:t}}};const jD=AD;function FD(e){return function(r){return e.apply(null,r)}}function RD(e){return me.isObject(e)&&e.isAxiosError===!0}const Tp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tp).forEach(([e,t])=>{Tp[t]=e});const DD=Tp;function k_(e){const t=new d0(e),r=Zb(d0.prototype.request,t);return me.extend(r,d0.prototype,t,{allOwnKeys:!0}),me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return k_(Ji(e,n))},r}const Gt=k_(Ng);Gt.Axios=d0;Gt.CanceledError=Dl;Gt.CancelToken=jD;Gt.isCancel=h_;Gt.VERSION=v_;Gt.toFormData=Xf;Gt.AxiosError=et;Gt.Cancel=Gt.CanceledError;Gt.all=function(t){return Promise.all(t)};Gt.spread=FD;Gt.isAxiosError=RD;Gt.mergeConfig=Ji;Gt.AxiosHeaders=Js;Gt.formToJSON=e=>f_(me.isHTMLForm(e)?new FormData(e):e);Gt.getAdapter=y_.getAdapter;Gt.HttpStatusCode=DD;Gt.default=Gt;const ra=Gt,{Axios:kV,AxiosError:Cg,CanceledError:SV,isCancel:bV,CancelToken:_V,VERSION:EV,all:NV,Cancel:CV,isAxiosError:TV,spread:AV,toFormData:jV,AxiosHeaders:FV,HttpStatusCode:RV,formToJSON:DV,getAdapter:PV,mergeConfig:OV}=ra,PD=e=>{var t,r;return e instanceof Cg?((r=(t=e.response)==null?void 0:t.data)==null?void 0:r.message)||e.message||"API hatas olutu":e instanceof Error?e.message:typeof e=="string"?e:"Bilinmeyen bir hata olutu"},OD=e=>e instanceof Cg?!e.response||e.code==="NETWORK_ERROR":!1,ID=e=>{var t;return e instanceof Cg?((t=e.response)==null?void 0:t.status)===401:!1},S_=F.createContext(void 0),MD=()=>{const e=F.useContext(S_);if(!e)throw new Error("useGlobalError must be used within a GlobalErrorProvider");return e},LD=({children:e})=>{const[t,r]=F.useState([]),s=()=>`error-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n=F.useCallback((h,p={})=>{const m=s(),x={id:m,message:h,timestamp:new Date,type:"error",duration:5e3,...p};return r(y=>[...y,x]),x.duration&&x.duration>0&&!x.persistent&&setTimeout(()=>{c(m)},x.duration),m},[]),a=F.useCallback((h,p={})=>{let m=PD(h),x=p.title;OD(h)?(x=x||"Balant Hatas",m="Sunucuya balanrken bir hata olutu. nternet balantnz kontrol edin."):ID(h)&&(x=x||"Yetkilendirme Hatas",m="Bu ilem iin yetkiniz bulunmuyor. Ltfen tekrar giri yapn."),n(m,{...p,type:"error",title:x})},[n]),i=F.useCallback((h,p={})=>{n(h,{...p,type:"success",duration:p.duration||3e3})},[n]),l=F.useCallback((h,p={})=>{n(h,{...p,type:"warning"})},[n]),u=F.useCallback((h,p={})=>{n(h,{...p,type:"info"})},[n]),c=F.useCallback(h=>{r(p=>p.filter(m=>m.id!==h))},[]),d=F.useCallback(()=>{r([])},[]),f={showError:a,showSuccess:i,showWarning:l,showInfo:u,clearError:c,clearAllErrors:d};return o.jsxs(S_.Provider,{value:f,children:[e,o.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(h=>o.jsx(tR,{title:h.title,message:h.message,type:h.type,dismissible:!0,onDismiss:()=>c(h.id),onRetry:h.onRetry,retryText:h.retryText,position:"top-right",className:"animate-in slide-in-from-right-full duration-300"},h.id))})]})},BD=function(){return null},zD=({children:e})=>{const{user:t}=gg();console.log("MainLayout render - user:",t);const r=Fl(),[s,n]=F.useState(()=>{const g=localStorage.getItem("sidebarCollapsed");return g?JSON.parse(g):!1}),[a,i]=F.useState(()=>{const g=localStorage.getItem("darkMode");return g?JSON.parse(g):!1}),[l,u]=F.useState(!1),[c,d]=F.useState({});F.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(s))},[s]),F.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(a)),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]);const f=()=>{n(!s)},h=()=>{i(!a)},p=()=>{u(!l)},m=g=>{d(v=>({...v,[g]:!v[g]}))},x=[{key:"dashboard",label:"Dashboard",icon:mF,href:"/"},{key:"patients",label:"Hastalar",icon:qs,href:"/patients"},{key:"appointments",label:"Randevular",icon:Xn,href:"/appointments"},{key:"inventory",label:"Envanter",icon:MF,href:"/inventory"},{key:"suppliers",label:"Tedarikiler",icon:gF,href:"/suppliers"},{key:"invoices",label:"Fatura",icon:ii,submenu:[{label:"Satlar",href:"/invoices"},{label:"Allar",href:"/invoices/purchases"},{label:"Yeni Fatura",href:"/invoices/new"},{label:"deme Takibi",href:"/invoices/payments"}]},{key:"cashflow",label:"Kasa",icon:Qb,href:"/cashflow"},{key:"campaigns",label:"Kampanyalar",icon:RF,href:"/campaigns"},{key:"sgk",label:"SGK",icon:kp,submenu:[{label:"SGK Raporlar",href:"/sgk"},{label:"Hasta Eletirme",href:"/sgk/matching"},{label:"Belge Ykleme",href:"/sgk/upload"}]},{key:"reports",label:"Raporlar",icon:zF,submenu:[{label:"Genel Raporlar",href:"/reports"},{label:"Sat Raporlar",href:"/reports/sales"},{label:"Hasta Raporlar",href:"/reports/patients"}]},{key:"automation",label:"Otomasyon",icon:xF,href:"/automation"},{key:"settings",label:"Ayarlar",icon:bp,href:"/settings"}],y=g=>{const v=g.submenu&&g.submenu.length>0,w=c[g.key];return o.jsxs("li",{style:{marginBottom:"0.25rem"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"0.75rem 1rem",color:a?"#d1d5db":"#374151",textDecoration:"none",borderRadius:"0.375rem",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"transparent"},onClick:()=>{v?m(g.key):r({to:g.href})},onMouseEnter:b=>{b.currentTarget.style.backgroundColor=a?"#374151":"#f3f4f6",b.currentTarget.style.color=a?"#ffffff":"#1f2937"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="transparent",b.currentTarget.style.color=a?"#d1d5db":"#374151"},children:[o.jsx("span",{style:{marginRight:s?"0":"0.75rem"},children:o.jsx(g.icon,{size:20})}),!s&&o.jsxs(o.Fragment,{children:[o.jsx("span",{style:{flex:1},children:g.label}),v&&o.jsx("span",{style:{transform:w?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:o.jsx(wF,{size:16})})]})]}),v&&!s&&w&&o.jsx("ul",{style:{listStyle:"none",padding:0,margin:"0.25rem 0 0 2rem",borderLeft:`2px solid ${a?"#374151":"#e5e7eb"}`},children:g.submenu.map((b,D)=>o.jsx("li",{children:o.jsx(xg,{to:b.href,style:{display:"block",padding:"0.5rem 1rem",color:a?"#9ca3af":"#6b7280",textDecoration:"none",fontSize:"0.875rem",borderRadius:"0.375rem",transition:"all 0.2s ease"},onMouseEnter:A=>{A.currentTarget.style.backgroundColor=a?"#374151":"#f3f4f6",A.currentTarget.style.color=a?"#ffffff":"#1f2937"},onMouseLeave:A=>{A.currentTarget.style.backgroundColor="transparent",A.currentTarget.style.color=a?"#9ca3af":"#6b7280"},children:b.label})},D))})]},g.key)};return F.useEffect(()=>(window.toggleSidebar=f,()=>{delete window.toggleSidebar}),[]),o.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:a?"#111827":"#ffffff",color:a?"#ffffff":"#000000"},children:[o.jsxs("nav",{style:{width:s?"80px":"240px",backgroundColor:a?"#1f2937":"#ffffff",borderRight:`1px solid ${a?"#374151":"#e5e7eb"}`,transition:"width 0.3s ease",position:"fixed",height:"100vh",overflowY:"auto",zIndex:1e3},children:[o.jsxs("div",{style:{padding:"1rem",borderBottom:`1px solid ${a?"#374151":"#e5e7eb"}`,display:"flex",alignItems:"center",justifyContent:s?"center":"space-between"},children:[o.jsx(de,{onClick:f,style:{background:"none",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"0.375rem",color:a?"#ffffff":"#1f2937",display:"flex",alignItems:"center",justifyContent:"center"},variant:"ghost",children:o.jsx(DF,{size:20})}),!s&&o.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:"bold",color:a?"#ffffff":"#1f2937"},children:"X-EAR CRM"})]}),o.jsx("ul",{style:{listStyle:"none",padding:"1rem 0.5rem",margin:0},children:x.map(y)})]}),o.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginLeft:s?"80px":"240px",transition:"margin-left 0.3s ease"},children:[o.jsx("header",{style:{backgroundColor:a?"#1f2937":"#ffffff",padding:"1rem 2rem",borderBottom:`1px solid ${a?"#374151":"#e5e7eb"}`,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",position:"sticky",top:0,zIndex:999},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("h1",{style:{margin:0,fontSize:"1.5rem",color:a?"#ffffff":"#1f2937",fontWeight:"600"},children:"Dashboard"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[o.jsx(de,{onClick:h,style:{background:"none",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"0.375rem",color:a?"#ffffff":"#1f2937",display:"flex",alignItems:"center",justifyContent:"center"},title:a?"Ak Tema":"Koyu Tema",variant:"ghost",children:a?o.jsx(WF,{size:20}):o.jsx(OF,{size:20})}),o.jsxs(de,{style:{position:"relative",background:"none",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"0.375rem",color:a?"#ffffff":"#1f2937",display:"flex",alignItems:"center",justifyContent:"center"},title:"Bildirimler",variant:"ghost",children:[o.jsx(pF,{size:20}),o.jsx("span",{style:{position:"absolute",top:"0.25rem",right:"0.25rem",width:"8px",height:"8px",backgroundColor:"#ef4444",borderRadius:"50%"}})]}),o.jsxs("div",{style:{position:"relative"},children:[o.jsxs(de,{onClick:p,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"none",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"0.375rem",backgroundColor:a?"#374151":"#f3f4f6"},variant:"ghost",children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"0.875rem"},children:o.jsx(ss,{size:16})}),o.jsxs("div",{style:{textAlign:"left",color:a?"#ffffff":"#1f2937"},children:[o.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500"},children:(t==null?void 0:t.name)||"User"}),o.jsx("div",{style:{fontSize:"0.75rem",opacity:.7},children:(t==null?void 0:t.role)||"Guest"})]}),o.jsx(vF,{size:12,style:{color:a?"#ffffff":"#1f2937"}})]}),l&&o.jsx("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"0.5rem",backgroundColor:a?"#1f2937":"#ffffff",border:`1px solid ${a?"#374151":"#e5e7eb"}`,borderRadius:"0.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",minWidth:"200px",zIndex:1e3},children:o.jsxs("div",{style:{padding:"0.5rem 0"},children:[o.jsxs("a",{href:"/profile",style:{display:"flex",alignItems:"center",padding:"0.75rem 1rem",color:a?"#ffffff":"#1f2937",textDecoration:"none",fontSize:"0.875rem",borderBottom:`1px solid ${a?"#374151":"#e5e7eb"}`,backgroundColor:"transparent",transition:"background-color 0.2s ease"},onMouseEnter:g=>{g.currentTarget.style.backgroundColor=a?"#374151":"#f3f4f6"},onMouseLeave:g=>{g.currentTarget.style.backgroundColor="transparent"},children:[o.jsx(ss,{size:16,style:{marginRight:"0.5rem"}}),o.jsx("span",{children:"Profil"})]}),o.jsxs("a",{href:"/settings",style:{display:"flex",alignItems:"center",padding:"0.75rem 1rem",color:a?"#ffffff":"#1f2937",textDecoration:"none",fontSize:"0.875rem",borderBottom:`1px solid ${a?"#374151":"#e5e7eb"}`,backgroundColor:"transparent",transition:"background-color 0.2s ease"},onMouseEnter:g=>{g.currentTarget.style.backgroundColor=a?"#374151":"#f3f4f6"},onMouseLeave:g=>{g.currentTarget.style.backgroundColor="transparent"},children:[o.jsx(bp,{size:16,style:{marginRight:"0.5rem"}}),o.jsx("span",{children:"Ayarlar"})]}),o.jsxs(de,{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login"},style:{display:"flex",alignItems:"center",width:"100%",padding:"0.75rem 1rem",color:"#ef4444",background:"none",border:"none",textAlign:"left",fontSize:"0.875rem",cursor:"pointer",backgroundColor:"transparent",transition:"background-color 0.2s ease"},onMouseEnter:g=>{g.currentTarget.style.backgroundColor=a?"#374151":"#f3f4f6"},onMouseLeave:g=>{g.currentTarget.style.backgroundColor="transparent"},variant:"ghost",children:[o.jsx(jF,{size:16,style:{marginRight:"0.5rem"}}),o.jsx("span",{children:"k Yap"})]})]})})]})]})]})}),o.jsx("main",{style:{flex:1,padding:"2rem",backgroundColor:a?"#111827":"#f9fafb",minHeight:"calc(100vh - 80px)"},children:e})]})]})},sa=r3({component:()=>o.jsxs(o.Fragment,{children:[o.jsx(zD,{children:o.jsx(Vf,{})}),o.jsx(BD,{})]}),notFoundComponent:()=>o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-200 max-w-md w-full text-center",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.47-.881-6.08-2.33"})})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sayfa Bulunamad"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Aradnz sayfa mevcut deil veya tanm olabilir."}),o.jsx("a",{href:"/",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Ana Sayfaya Dn"})]})})}),Rd="/api/uts";async function Dd(e){if(!e.ok)throw new Error(`UTS request failed: ${e.status}`);return e.json()}const Tg={listRegistrations:e=>{const t=e?"?"+new URLSearchParams(e).toString():"";return fetch(`${Rd}/registrations${t}`).then(Dd)},startBulkRegistration:(e,t)=>fetch(`${Rd}/registrations/bulk`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",...(t==null?void 0:t.headers)||{}}}).then(Dd),getJobStatus:e=>fetch(`${Rd}/jobs/${encodeURIComponent(e)}`).then(Dd),cancelJob:e=>fetch(`${Rd}/jobs/${encodeURIComponent(e)}/cancel`,{method:"POST"}).then(Dd)},b_=["uts","registrations"];function UD(e){return mb({queryKey:b_,queryFn:()=>Tg.listRegistrations(e)})}function Ag(){const e=Mf();return lg({mutationFn:t=>Tg.startBulkRegistration(t),onSuccess:()=>e.invalidateQueries({queryKey:b_})})}function $D(e,t){const r=(t==null?void 0:t.interval)??3e3;return mb({queryKey:["uts","job",e,"poll"],queryFn:()=>Tg.getJobStatus(e),enabled:!!e,refetchInterval:s=>{if(!s)return r;const n=s.status;return n==="completed"||n==="failed"||n==="cancelled"?!1:r},onSuccess:s=>{(s==null?void 0:s.status)==="completed"&&(t!=null&&t.onComplete)&&t.onComplete(s)}})}class VD{constructor(){mt(this,"dbName","XEarOutbox");mt(this,"dbVersion",1);mt(this,"storeName","operations");mt(this,"db",null);mt(this,"isOnline",navigator.onLine);mt(this,"syncInProgress",!1);mt(this,"syncInterval",null);this.initDB(),this.setupEventListeners(),this.startPeriodicSync()}setupEventListeners(){window.addEventListener("online",()=>{this.isOnline=!0,this.syncPendingOperations()}),window.addEventListener("offline",()=>{this.isOnline=!1})}startPeriodicSync(){this.syncInterval=window.setInterval(()=>{this.isOnline&&!this.syncInProgress&&this.syncPendingOperations()},3e4)}async initDB(){return new Promise((t,r)=>{const s=indexedDB.open(this.dbName,this.dbVersion);s.onerror=()=>r(s.error),s.onsuccess=()=>{this.db=s.result,t(this.db)},s.onupgradeneeded=n=>{const a=n.target.result;if(!a.objectStoreNames.contains(this.storeName)){const i=a.createObjectStore(this.storeName,{keyPath:"id",autoIncrement:!0});i.createIndex("timestamp","timestamp",{unique:!1}),i.createIndex("endpoint","endpoint",{unique:!1}),i.createIndex("status","status",{unique:!1}),i.createIndex("priority","priority",{unique:!1})}}})}async addOperation(t){var s,n,a;this.db||await this.initDB();const r={...t,id:this.generateOperationId(),timestamp:Date.now(),status:"pending",retryCount:0,maxRetries:t.maxRetries||3,priority:t.priority||"normal",createdAt:new Date().toISOString()};try{const i=((s=r.headers)==null?void 0:s["Idempotency-Key"])||((n=r.headers)==null?void 0:n["idempotency-key"])||((a=r.headers)==null?void 0:a["Idempotency-key"]);if(i){const u=(await this.getPendingOperations()).find(c=>{if(!c||!c.headers)return!1;const d=c.headers["Idempotency-Key"]||c.headers["idempotency-key"]||c.headers["Idempotency-key"];return c.endpoint===r.endpoint&&(c.method||"GET")===(r.method||"GET")&&d===i});if(u)return this.emitOutboxEvent("operation-duplicate",u),u}}catch(i){console.warn("Outbox deduplication check failed, proceeding to add operation:",i)}return new Promise((i,l)=>{const d=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).add(r);d.onsuccess=()=>{this.emitOutboxEvent("operation-added",r),i(r)},d.onerror=()=>l(d.error)})}async getPendingOperations(){return this.db||await this.initDB(),new Promise((t,r)=>{const i=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).index("status").getAll("pending");i.onsuccess=()=>{const l=i.result.sort((u,c)=>{const d={high:3,normal:2,low:1},f=d[u.priority||"normal"],h=d[c.priority||"normal"];return f!==h?h-f:(u.timestamp||0)-(c.timestamp||0)});t(l)},i.onerror=()=>r(i.error)})}async updateOperation(t,r){return this.db||await this.initDB(),new Promise((s,n)=>{const i=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName),l=i.get(t);l.onsuccess=()=>{const u=l.result;if(!u){n(new Error("Operation not found"));return}const c={...u,...r},d=i.put(c);d.onsuccess=()=>{this.emitOutboxEvent("operation-updated",c),s(c)},d.onerror=()=>n(d.error)},l.onerror=()=>n(l.error)})}async removeOperation(t){return this.db||await this.initDB(),new Promise((r,s)=>{const i=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);i.onsuccess=()=>{this.emitOutboxEvent("operation-removed",{id:t}),r()},i.onerror=()=>s(i.error)})}async syncPendingOperations(){if(!(this.syncInProgress||!this.isOnline)){this.syncInProgress=!0,this.emitOutboxEvent("sync-started",{});try{const t=await this.getPendingOperations();let r=0,s=0;for(const n of t)try{const a=await this.executeOperation(n);this.emitOutboxEvent("operation-succeeded",{operation:n,result:a}),await this.removeOperation(n.id),r++}catch(a){console.error("Operation failed:",a);const i=(n.retryCount||0)+1;i>=(n.maxRetries||3)?await this.updateOperation(n.id,{status:"failed",retryCount:i,lastError:a instanceof Error?a.message:String(a),failedAt:new Date().toISOString()}):await this.updateOperation(n.id,{retryCount:i,lastError:a instanceof Error?a.message:String(a),nextRetryAt:new Date(Date.now()+this.getRetryDelay(i)).toISOString()}),s++}this.emitOutboxEvent("sync-completed",{total:t.length,success:r,failures:s})}catch(t){console.error("Sync failed:",t),this.emitOutboxEvent("sync-failed",t)}finally{this.syncInProgress=!1}}}async executeOperation(t){const{method:r,endpoint:s,data:n,headers:a={}}=t,i="http://localhost:5003",l=s.startsWith("http")?s:`${i}${s}`;if(n&&n.blobId){const{indexedDBManager:c}=await uA(()=>Promise.resolve().then(()=>oz),void 0),d=await c.getFileBlob(n.blobId);if(!d)throw new Error("Blob not found for outbox operation");const f=new FormData;f.append("file",d.blob,d.filename||"file"),n.filename&&f.append("filename",n.filename),n.mime&&f.append("mime",n.mime);const h=await fetch(l,{method:r,headers:{...a},body:f});if(!h.ok)throw new Error(`HTTP ${h.status}: ${h.statusText}`);return await h.json()}const u=await fetch(l,{method:r,headers:{"Content-Type":"application/json",...a},body:n?JSON.stringify(n):void 0});if(!u.ok)throw new Error(`HTTP ${u.status}: ${u.statusText}`);return await u.json()}getRetryDelay(t){return Math.min(1e3*Math.pow(2,t),6e4)+Math.random()*1e3}generateOperationId(){return`op_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}emitOutboxEvent(t,r={}){window.dispatchEvent(new CustomEvent("outbox-event",{detail:{type:t,data:r,timestamp:Date.now()}}))}async getStats(){return this.db||await this.initDB(),new Promise((t,r)=>{const a=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();a.onsuccess=()=>{const i=a.result,l={total:i.length,pending:i.filter(c=>c.status==="pending").length,failed:i.filter(c=>c.status==="failed").length,oldestPending:null,newestPending:null},u=i.filter(c=>c.status==="pending");u.length>0&&(l.oldestPending=Math.min(...u.map(c=>c.timestamp||0)),l.newestPending=Math.max(...u.map(c=>c.timestamp||0))),t(l)},a.onerror=()=>r(a.error)})}async clearFailedOperations(){return this.db||await this.initDB(),new Promise((t,r)=>{const i=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).index("status").openCursor(IDBKeyRange.only("failed"));let l=0;i.onsuccess=u=>{const c=u.target.result;c?(c.delete(),l++,c.continue()):(this.emitOutboxEvent("failed-operations-cleared",{count:l}),t(l))},i.onerror=()=>r(i.error)})}destroy(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),this.db&&(this.db.close(),this.db=null)}}class HD{constructor(){mt(this,"ops",[])}async addOperation(t){const r={...t,id:this.generateOperationId(),timestamp:Date.now(),status:"pending",retryCount:0,maxRetries:t.maxRetries||3};return this.ops.push(r),r}async getPendingOperations(){return this.ops.filter(t=>t.status==="pending")}async updateOperation(t,r){const s=this.ops.findIndex(n=>n.id===t);if(s===-1)throw new Error("Operation not found");return this.ops[s]={...this.ops[s],...r},this.ops[s]}async removeOperation(t){this.ops=this.ops.filter(r=>r.id!==t)}async syncPendingOperations(){}async getStats(){const t=this.ops.length,r=this.ops.filter(n=>n.status==="pending").length,s=this.ops.filter(n=>n.status==="failed").length;return{total:t,pending:r,failed:s,oldestPending:null,newestPending:null}}async clearFailedOperations(){const t=this.ops.length;return this.ops=this.ops.filter(r=>r.status!=="failed"),t-this.ops.length}destroy(){this.ops=[]}generateOperationId(){return`op_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}const Ts=typeof window<"u"&&typeof indexedDB<"u"?new VD:new HD;var __={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,s)=>{e.exports=s()})(Vw,function r(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},n,a=!s.document&&!!s.postMessage,i=s.IS_PAPA_WORKER||!1,l={},u=0,c={};function d(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var N=D(k);N.chunkSize=parseInt(N.chunkSize),k.step||k.chunk||(N.chunkSize=null),this._handle=new x(N),(this._handle.streamer=this)._config=N}).call(this,S),this.parseChunk=function(k,N){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let M=this._config.newline;M||(E=this._config.quoteChar||'"',M=this._handle.guessLineEndings(k,E)),k=[...k.split(M).slice(C)].join(M)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(E=this._config.beforeFirstChunk(k))!==void 0&&(k=E),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+k,E=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=E.meta.cursor,C=(this._finished||(this._partialLine=C.substring(k-this._baseIndex),this._baseIndex=k),E&&E.data&&(this._rowCount+=E.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)s.postMessage({results:E,workerId:c.WORKER_ID,finished:C});else if(_(this._config.chunk)&&!N){if(this._config.chunk(E,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=E=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(E.data),this._completeResults.errors=this._completeResults.errors.concat(E.errors),this._completeResults.meta=E.meta),this._completed||!C||!_(this._config.complete)||E&&E.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||E&&E.meta.paused||this._nextChunk(),E}this._halted=!0},this._sendError=function(k){_(this._config.error)?this._config.error(k):i&&this._config.error&&s.postMessage({workerId:c.WORKER_ID,error:k,finished:!1})}}function f(S){var k;(S=S||{}).chunkSize||(S.chunkSize=c.RemoteChunkSize),d.call(this,S),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),a||(k.onload=A(this._chunkLoaded,this),k.onerror=A(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var N,C=this._config.downloadRequestHeaders;for(N in C)k.setRequestHeader(N,C[N])}var E;this._config.chunkSize&&(E=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+E));try{k.send(this._config.downloadRequestBody)}catch(M){this._chunkError(M.message)}a&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(N=>(N=N.getResponseHeader("Content-Range"))!==null?parseInt(N.substring(N.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(N){N=k.statusText||N,this._sendError(new Error(N))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=c.LocalChunkSize),d.call(this,S);var k,N,C=typeof FileReader<"u";this.stream=function(E){this._input=E,N=E.slice||E.webkitSlice||E.mozSlice,C?((k=new FileReader).onload=A(this._chunkLoaded,this),k.onerror=A(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var E=this._input,M=(this._config.chunkSize&&(M=Math.min(this._start+this._config.chunkSize,this._input.size),E=N.call(E,this._start,M)),k.readAsText(E,this._config.encoding));C||this._chunkLoaded({target:{result:M}})},this._chunkLoaded=function(E){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(E.target.result)},this._chunkError=function(){this._sendError(k.error)}}function p(S){var k;d.call(this,S=S||{}),this.stream=function(N){return k=N,this._nextChunk()},this._nextChunk=function(){var N,C;if(!this._finished)return N=this._config.chunkSize,k=N?(C=k.substring(0,N),k.substring(N)):(C=k,""),this._finished=!k,this.parseChunk(C)}}function m(S){d.call(this,S=S||{});var k=[],N=!0,C=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(E){this._input=E,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):N=!0},this._streamData=A(function(E){try{k.push(typeof E=="string"?E:E.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(M){this._streamError(M)}},this),this._streamError=A(function(E){this._streamCleanUp(),this._sendError(E)},this),this._streamEnd=A(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=A(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(S){var k,N,C,E,M=Math.pow(2,53),Q=-M,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ee=this,te=0,R=0,se=!1,U=!1,T=[],j={data:[],errors:[],meta:{}};function L(ne){return S.skipEmptyLines==="greedy"?ne.join("").trim()==="":ne.length===1&&ne[0].length===0}function z(){if(j&&C&&(J("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),C=!1),S.skipEmptyLines&&(j.data=j.data.filter(function(O){return!L(O)})),I()){let O=function(we,Se){_(S.transformHeader)&&(we=S.transformHeader(we,Se)),T.push(we)};var q=O;if(j)if(Array.isArray(j.data[0])){for(var ne=0;I()&&ne<j.data.length;ne++)j.data[ne].forEach(O);j.data.splice(0,1)}else j.data.forEach(O)}function re(O,we){for(var Se=S.header?{}:[],be=0;be<O.length;be++){var ge=be,ve=O[be],ve=((Ne,Re)=>(H=>(S.dynamicTypingFunction&&S.dynamicTyping[H]===void 0&&(S.dynamicTyping[H]=S.dynamicTypingFunction(H)),(S.dynamicTyping[H]||S.dynamicTyping)===!0))(Ne)?Re==="true"||Re==="TRUE"||Re!=="false"&&Re!=="FALSE"&&((H=>{if(Y.test(H)&&(H=parseFloat(H),Q<H&&H<M))return 1})(Re)?parseFloat(Re):X.test(Re)?new Date(Re):Re===""?null:Re):Re)(ge=S.header?be>=T.length?"__parsed_extra":T[be]:ge,ve=S.transform?S.transform(ve,ge):ve);ge==="__parsed_extra"?(Se[ge]=Se[ge]||[],Se[ge].push(ve)):Se[ge]=ve}return S.header&&(be>T.length?J("FieldMismatch","TooManyFields","Too many fields: expected "+T.length+" fields but parsed "+be,R+we):be<T.length&&J("FieldMismatch","TooFewFields","Too few fields: expected "+T.length+" fields but parsed "+be,R+we)),Se}var ae;j&&(S.header||S.dynamicTyping||S.transform)&&(ae=1,!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(re),ae=j.data.length):j.data=re(j.data,0),S.header&&j.meta&&(j.meta.fields=T),R+=ae)}function I(){return S.header&&T.length===0}function J(ne,re,ae,q){ne={type:ne,code:re,message:ae},q!==void 0&&(ne.row=q),j.errors.push(ne)}_(S.step)&&(E=S.step,S.step=function(ne){j=ne,I()?z():(z(),j.data.length!==0&&(te+=ne.data.length,S.preview&&te>S.preview?N.abort():(j.data=j.data[0],E(j,ee))))}),this.parse=function(ne,re,ae){var q=S.quoteChar||'"',q=(S.newline||(S.newline=this.guessLineEndings(ne,q)),C=!1,S.delimiter?_(S.delimiter)&&(S.delimiter=S.delimiter(ne),j.meta.delimiter=S.delimiter):((q=((O,we,Se,be,ge)=>{var ve,Ne,Re,H;ge=ge||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var ie=0;ie<ge.length;ie++){for(var oe,ye=ge[ie],he=0,pe=0,ke=0,Me=(Re=void 0,new g({comments:be,delimiter:ye,newline:we,preview:10}).parse(O)),ze=0;ze<Me.data.length;ze++)Se&&L(Me.data[ze])?ke++:(oe=Me.data[ze].length,pe+=oe,Re===void 0?Re=oe:0<oe&&(he+=Math.abs(oe-Re),Re=oe));0<Me.data.length&&(pe/=Me.data.length-ke),(Ne===void 0||he<=Ne)&&(H===void 0||H<pe)&&1.99<pe&&(Ne=he,ve=ye,H=pe)}return{successful:!!(S.delimiter=ve),bestDelimiter:ve}})(ne,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=q.bestDelimiter:(C=!0,S.delimiter=c.DefaultDelimiter),j.meta.delimiter=S.delimiter),D(S));return S.preview&&S.header&&q.preview++,k=ne,N=new g(q),j=N.parse(k,re,ae),z(),se?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,N.abort(),k=_(S.chunk)?"":k.substring(N.getCharIndex())},this.resume=function(){ee.streamer._halted?(se=!1,ee.streamer.parseChunk(k,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,N.abort(),j.meta.aborted=!0,_(S.complete)&&S.complete(j),k=""},this.guessLineEndings=function(O,q){O=O.substring(0,1048576);var q=new RegExp(y(q)+"([^]*?)"+y(q),"gm"),ae=(O=O.replace(q,"")).split("\r"),q=O.split(`
`),O=1<q.length&&q[0].length<ae[0].length;if(ae.length===1||O)return`
`;for(var we=0,Se=0;Se<ae.length;Se++)ae[Se][0]===`
`&&we++;return we>=ae.length/2?`\r
`:"\r"}}function y(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(S){var k=(S=S||{}).delimiter,N=S.newline,C=S.comments,E=S.step,M=S.preview,Q=S.fastMode,Y=null,X=!1,ee=S.quoteChar==null?'"':S.quoteChar,te=ee;if(S.escapeChar!==void 0&&(te=S.escapeChar),(typeof k!="string"||-1<c.BAD_DELIMITERS.indexOf(k))&&(k=","),C===k)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=!1),N!==`
`&&N!=="\r"&&N!==`\r
`&&(N=`
`);var R=0,se=!1;this.parse=function(U,T,j){if(typeof U!="string")throw new Error("Input must be a string");var L=U.length,z=k.length,I=N.length,J=C.length,ne=_(E),re=[],ae=[],q=[],O=R=0;if(!U)return he();if(Q||Q!==!1&&U.indexOf(ee)===-1){for(var we=U.split(N),Se=0;Se<we.length;Se++){if(q=we[Se],R+=q.length,Se!==we.length-1)R+=N.length;else if(j)return he();if(!C||q.substring(0,J)!==C){if(ne){if(re=[],H(q.split(k)),pe(),se)return he()}else H(q.split(k));if(M&&M<=Se)return re=re.slice(0,M),he(!0)}}return he()}for(var be=U.indexOf(k,R),ge=U.indexOf(N,R),ve=new RegExp(y(te)+y(ee),"g"),Ne=U.indexOf(ee,R);;)if(U[R]===ee)for(Ne=R,R++;;){if((Ne=U.indexOf(ee,Ne+1))===-1)return j||ae.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:re.length,index:R}),oe();if(Ne===L-1)return oe(U.substring(R,Ne).replace(ve,ee));if(ee===te&&U[Ne+1]===te)Ne++;else if(ee===te||Ne===0||U[Ne-1]!==te){be!==-1&&be<Ne+1&&(be=U.indexOf(k,Ne+1));var Re=ie((ge=ge!==-1&&ge<Ne+1?U.indexOf(N,Ne+1):ge)===-1?be:Math.min(be,ge));if(U.substr(Ne+1+Re,z)===k){q.push(U.substring(R,Ne).replace(ve,ee)),U[R=Ne+1+Re+z]!==ee&&(Ne=U.indexOf(ee,R)),be=U.indexOf(k,R),ge=U.indexOf(N,R);break}if(Re=ie(ge),U.substring(Ne+1+Re,Ne+1+Re+I)===N){if(q.push(U.substring(R,Ne).replace(ve,ee)),ye(Ne+1+Re+I),be=U.indexOf(k,R),Ne=U.indexOf(ee,R),ne&&(pe(),se))return he();if(M&&re.length>=M)return he(!0);break}ae.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:re.length,index:R}),Ne++}}else if(C&&q.length===0&&U.substring(R,R+J)===C){if(ge===-1)return he();R=ge+I,ge=U.indexOf(N,R),be=U.indexOf(k,R)}else if(be!==-1&&(be<ge||ge===-1))q.push(U.substring(R,be)),R=be+z,be=U.indexOf(k,R);else{if(ge===-1)break;if(q.push(U.substring(R,ge)),ye(ge+I),ne&&(pe(),se))return he();if(M&&re.length>=M)return he(!0)}return oe();function H(ke){re.push(ke),O=R}function ie(ke){var Me=0;return Me=ke!==-1&&(ke=U.substring(Ne+1,ke))&&ke.trim()===""?ke.length:Me}function oe(ke){return j||(ke===void 0&&(ke=U.substring(R)),q.push(ke),R=L,H(q),ne&&pe()),he()}function ye(ke){R=ke,H(q),q=[],ge=U.indexOf(N,R)}function he(ke){if(S.header&&!T&&re.length&&!X){var Me=re[0],ze=Object.create(null),xt=new Set(Me);let Ve=!1;for(let Ge=0;Ge<Me.length;Ge++){let nt=Me[Ge];if(ze[nt=_(S.transformHeader)?S.transformHeader(nt,Ge):nt]){let at,lr=ze[nt];for(;at=nt+"_"+lr,lr++,xt.has(at););xt.add(at),Me[Ge]=at,ze[nt]++,Ve=!0,(Y=Y===null?{}:Y)[at]=nt}else ze[nt]=1,Me[Ge]=nt;xt.add(nt)}Ve&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:re,errors:ae,meta:{delimiter:k,linebreak:N,aborted:se,truncated:!!ke,cursor:O+(T||0),renamedHeaders:Y}}}function pe(){E(he()),re=[],ae=[]}},this.abort=function(){se=!0},this.getCharIndex=function(){return R}}function v(S){var k=S.data,N=l[k.workerId],C=!1;if(k.error)N.userError(k.error,k.file);else if(k.results&&k.results.data){var E={abort:function(){C=!0,w(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(_(N.userStep)){for(var M=0;M<k.results.data.length&&(N.userStep({data:k.results.data[M],errors:k.results.errors,meta:k.results.meta},E),!C);M++);delete k.results}else _(N.userChunk)&&(N.userChunk(k.results,E,k.file),delete k.results)}k.finished&&!C&&w(k.workerId,k.results)}function w(S,k){var N=l[S];_(N.userComplete)&&N.userComplete(k),N.terminate(),delete l[S]}function b(){throw new Error("Not implemented.")}function D(S){if(typeof S!="object"||S===null)return S;var k,N=Array.isArray(S)?[]:{};for(k in S)N[k]=D(S[k]);return N}function A(S,k){return function(){S.apply(k,arguments)}}function _(S){return typeof S=="function"}return c.parse=function(S,k){var N=(k=k||{}).dynamicTyping||!1;if(_(N)&&(k.dynamicTypingFunction=N,N={}),k.dynamicTyping=N,k.transform=!!_(k.transform)&&k.transform,!k.worker||!c.WORKERS_SUPPORTED)return N=null,c.NODE_STREAM_INPUT,typeof S=="string"?(S=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(S),N=new(k.download?f:p)(k)):S.readable===!0&&_(S.read)&&_(S.on)?N=new m(k):(s.File&&S instanceof File||S instanceof Object)&&(N=new h(k)),N.stream(S);(N=(()=>{var C;return!!c.WORKERS_SUPPORTED&&(C=(()=>{var E=s.URL||s.webkitURL||null,M=r.toString();return c.BLOB_URL||(c.BLOB_URL=E.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))})(),(C=new s.Worker(C)).onmessage=v,C.id=u++,l[C.id]=C)})()).userStep=k.step,N.userChunk=k.chunk,N.userComplete=k.complete,N.userError=k.error,k.step=_(k.step),k.chunk=_(k.chunk),k.complete=_(k.complete),k.error=_(k.error),delete k.worker,N.postMessage({input:S,config:k,workerId:N.id})},c.unparse=function(S,k){var N=!1,C=!0,E=",",M=`\r
`,Q='"',Y=Q+Q,X=!1,ee=null,te=!1,R=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||c.BAD_DELIMITERS.filter(function(T){return k.delimiter.indexOf(T)!==-1}).length||(E=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(N=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(X=k.skipEmptyLines),typeof k.newline=="string"&&(M=k.newline),typeof k.quoteChar=="string"&&(Q=k.quoteChar),typeof k.header=="boolean"&&(C=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");ee=k.columns}k.escapeChar!==void 0&&(Y=k.escapeChar+Q),k.escapeFormulae instanceof RegExp?te=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(te=/^[=+\-@\t\r].*$/)}})(),new RegExp(y(Q),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return se(null,S,X);if(typeof S[0]=="object")return se(ee||Object.keys(S[0]),S,X)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||ee),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),se(S.fields||[],S.data||[],X);throw new Error("Unable to serialize unrecognized input");function se(T,j,L){var z="",I=(typeof T=="string"&&(T=JSON.parse(T)),typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(T)&&0<T.length),J=!Array.isArray(j[0]);if(I&&C){for(var ne=0;ne<T.length;ne++)0<ne&&(z+=E),z+=U(T[ne],ne);0<j.length&&(z+=M)}for(var re=0;re<j.length;re++){var ae=(I?T:j[re]).length,q=!1,O=I?Object.keys(j[re]).length===0:j[re].length===0;if(L&&!I&&(q=L==="greedy"?j[re].join("").trim()==="":j[re].length===1&&j[re][0].length===0),L==="greedy"&&I){for(var we=[],Se=0;Se<ae;Se++){var be=J?T[Se]:Se;we.push(j[re][be])}q=we.join("").trim()===""}if(!q){for(var ge=0;ge<ae;ge++){0<ge&&!O&&(z+=E);var ve=I&&J?T[ge]:ge;z+=U(j[re][ve],ge)}re<j.length-1&&(!L||0<ae&&!O)&&(z+=M)}}return z}function U(T,j){var L,z;return T==null?"":T.constructor===Date?JSON.stringify(T).slice(1,25):(z=!1,te&&typeof T=="string"&&te.test(T)&&(T="'"+T,z=!0),L=T.toString().replace(R,Y),(z=z||N===!0||typeof N=="function"&&N(T,j)||Array.isArray(N)&&N[j]||((I,J)=>{for(var ne=0;ne<J.length;ne++)if(-1<I.indexOf(J[ne]))return!0;return!1})(L,c.BAD_DELIMITERS)||-1<L.indexOf(E)||L.charAt(0)===" "||L.charAt(L.length-1)===" ")?Q+L+Q:L)}},c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!s.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=g,c.ParserHandle=x,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,s.jQuery&&((n=s.jQuery).fn.parse=function(S){var k=S.config||{},N=[];return this.each(function(M){if(!(n(this).prop("tagName").toUpperCase()==="INPUT"&&n(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var Q=0;Q<this.files.length;Q++)N.push({file:this.files[Q],inputElem:this,instanceConfig:n.extend({},k)})}),C(),this;function C(){if(N.length===0)_(S.complete)&&S.complete();else{var M,Q,Y,X,ee=N[0];if(_(S.before)){var te=S.before(ee.file,ee.inputElem);if(typeof te=="object"){if(te.action==="abort")return M="AbortError",Q=ee.file,Y=ee.inputElem,X=te.reason,void(_(S.error)&&S.error({name:M},Q,Y,X));if(te.action==="skip")return void E();typeof te.config=="object"&&(ee.instanceConfig=n.extend(ee.instanceConfig,te.config))}else if(te==="skip")return void E()}var R=ee.instanceConfig.complete;ee.instanceConfig.complete=function(se){_(R)&&R(se,ee.file,ee.inputElem),E()},c.parse(ee.file,ee.instanceConfig)}}function E(){N.splice(0,1),C()}}),i&&(s.onmessage=function(S){S=S.data,c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string"?s.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0}):(s.File&&S.input instanceof File||S.input instanceof Object)&&(S=c.parse(S.input,S.config))&&s.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,c})})(__);var WD=__.exports;const KD=wf(WD);function GD(e){return{serial:e.serial||e.Serial||e.SERIAL||"",manufacturer:e.manufacturer||e.Manufacturer||e.MFG||"",model:e.model||e.Model||"",patientTc:e.patientTc||e.patient_tc||e.tc||""}}function Sv(e){const r=KD.parse(e,{header:!0,skipEmptyLines:!0}).data.filter(Boolean),s=r.map(a=>({raw:a,mapped:GD(a)})),n=s.map((a,i)=>{const l=[];return a.mapped.serial||l.push("serial_missing"),a.mapped.patientTc||l.push("patient_tc_missing"),{row:i,errors:l}}).filter(a=>a.errors.length>0);return{rows:r,mapped:s,errors:n}}const qD=({onStarted:e})=>{var u;const[t,r]=F.useState(""),s=Ag(),[n,a]=F.useState(null),i=c=>{if(!c)return;const d=new FileReader;d.onload=()=>{const f=String(d.result||"");r(f);const h=Sv(f);a(h)},d.readAsText(c)},l=async()=>{const d=Sv(t).mapped.map(f=>f.mapped);try{const f=await s.mutateAsync({rows:d});f&&f.jobId&&e&&e(f.jobId)}catch{try{await Ts.addOperation({method:"POST",endpoint:"/api/uts/registrations/bulk",data:{rows:d},headers:{"Idempotency-Key":`uts_bulk_${Date.now()}`},maxRetries:5})}catch(h){throw console.error("Failed to enqueue UTS bulk operation",h),h}}};return o.jsxs("div",{children:[o.jsx("div",{children:o.jsx("input",{type:"file",accept:"text/csv",onChange:c=>i(c.target.files?c.target.files[0]:null)})}),n&&o.jsxs("div",{style:{marginTop:8},children:[o.jsxs("h4",{children:["nizleme (",Array.isArray(n.rows)?n.rows.length:((u=n.mapped)==null?void 0:u.length)??0,")"]}),n.errors&&n.errors.length>0&&o.jsxs("div",{style:{color:"red"},children:["Hatalar:",o.jsx("ul",{children:n.errors.map((c,d)=>o.jsxs("li",{children:["Satr ",c.row+1,": ",c.errors.join(", ")]},d))})]}),o.jsx("div",{style:{maxHeight:200,overflow:"auto",border:"1px solid #eee",padding:8},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Serial"}),o.jsx("th",{children:"Manufacturer"}),o.jsx("th",{children:"Model"}),o.jsx("th",{children:"Patient TC"})]})}),o.jsx("tbody",{children:n.mapped&&n.mapped.map((c,d)=>o.jsxs("tr",{style:{borderTop:"1px solid #f3f3f3"},children:[o.jsx("td",{children:c.mapped.serial}),o.jsx("td",{children:c.mapped.manufacturer}),o.jsx("td",{children:c.mapped.model}),o.jsx("td",{children:c.mapped.patientTc})]},d))})]})})]}),o.jsx("div",{style:{marginTop:8},children:o.jsx(de,{onClick:l,disabled:s.isLoading||!t,children:"CSV ile Toplu Kayt"})})]})};var Gu=e=>e.type==="checkbox",_i=e=>e instanceof Date,Gr=e=>e==null;const E_=e=>typeof e=="object";var Kt=e=>!Gr(e)&&!Array.isArray(e)&&E_(e)&&!_i(e),YD=e=>Kt(e)&&e.target?Gu(e.target)?e.target.checked:e.target.value:e,XD=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,QD=(e,t)=>e.has(XD(t)),ZD=e=>{const t=e.constructor&&e.constructor.prototype;return Kt(t)&&t.hasOwnProperty("isPrototypeOf")},jg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function tr(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(jg&&(e instanceof Blob||s))&&(r||Kt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!ZD(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=tr(e[n]));else return e;return t}var Jf=e=>/^\w*$/.test(e),Bt=e=>e===void 0,Fg=e=>Array.isArray(e)?e.filter(Boolean):[],Rg=e=>Fg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Be=(e,t,r)=>{if(!t||!Kt(e))return r;const s=(Jf(t)?[t]:Rg(t)).reduce((n,a)=>Gr(n)?n:n[a],e);return Bt(s)||s===e?Bt(e[t])?r:e[t]:s},cn=e=>typeof e=="boolean",vt=(e,t,r)=>{let s=-1;const n=Jf(t)?[t]:Rg(t),a=n.length,i=a-1;for(;++s<a;){const l=n[s];let u=r;if(s!==i){const c=e[l];u=Kt(c)||Array.isArray(c)?c:isNaN(+n[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=u,e=e[l]}};const bv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ws={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},An={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},JD=gt.createContext(null);JD.displayName="HookFormContext";var eP=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Ws.all&&(t._proxyFormState[i]=!s||Ws.all),r&&(r[i]=!0),e[i]}});return n};const tP=typeof window<"u"?gt.useLayoutEffect:gt.useEffect;var ls=e=>typeof e=="string",rP=(e,t,r,s,n)=>ls(e)?(s&&t.watch.add(e),Be(r,e,n)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),Be(r,a))):(s&&(t.watchAll=!0),r),Ap=e=>Gr(e)||!E_(e);function xa(e,t,r=new WeakSet){if(Ap(e)||Ap(t))return e===t;if(_i(e)&&_i(t))return e.getTime()===t.getTime();const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of s){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const l=t[a];if(_i(i)&&_i(l)||Kt(i)&&Kt(l)||Array.isArray(i)&&Array.isArray(l)?!xa(i,l,r):i!==l)return!1}}return!0}var N_=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},Ac=e=>Array.isArray(e)?e:[e],_v=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}};function C_(e,t){const r={};for(const s in e)if(e.hasOwnProperty(s)){const n=e[s],a=t[s];if(n&&Kt(n)&&a){const i=C_(n,a);Kt(i)&&(r[s]=i)}else e[s]&&(r[s]=a)}return r}var Wr=e=>Kt(e)&&!Object.keys(e).length,Dg=e=>e.type==="file",Ks=e=>typeof e=="function",X0=e=>{if(!jg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},T_=e=>e.type==="select-multiple",Pg=e=>e.type==="radio",sP=e=>Pg(e)||Gu(e),Gh=e=>X0(e)&&e.isConnected;function nP(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Bt(e)?s++:e[t[s++]];return e}function aP(e){for(const t in e)if(e.hasOwnProperty(t)&&!Bt(e[t]))return!1;return!0}function $t(e,t){const r=Array.isArray(t)?t:Jf(t)?[t]:Rg(t),s=r.length===1?e:nP(e,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(Kt(s)&&Wr(s)||Array.isArray(s)&&aP(s))&&$t(e,r.slice(0,-1)),e}var iP=e=>{for(const t in e)if(Ks(e[t]))return!0;return!1};function A_(e){return Array.isArray(e)||Kt(e)&&!iP(e)}function jp(e,t={}){for(const r in e)A_(e[r])?(t[r]=Array.isArray(e[r])?[]:{},jp(e[r],t[r])):Bt(e[r])||(t[r]=!0);return t}function vo(e,t,r){r||(r=jp(t));for(const s in e)A_(e[s])?Bt(t)||Ap(r[s])?r[s]=jp(e[s],Array.isArray(e[s])?[]:{}):vo(e[s],Gr(t)?{}:t[s],r[s]):r[s]=!xa(e[s],t[s]);return r}const Ev={value:!1,isValid:!1},Nv={value:!0,isValid:!0};var j_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||e[0].value===""?Nv:{value:e[0].value,isValid:!0}:Nv:Ev}return Ev},F_=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Bt(e)?e:t?e===""?NaN:e&&+e:r&&ls(e)?new Date(e):s?s(e):e;const Cv={isValid:!1,value:null};var R_=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Cv):Cv;function Tv(e){const t=e.ref;return Dg(t)?t.files:Pg(t)?R_(e.refs).value:T_(t)?[...t.selectedOptions].map(({value:r})=>r):Gu(t)?j_(e.refs).value:F_(Bt(t.value)?e.ref.value:t.value,e)}var oP=(e,t,r,s)=>{const n={};for(const a of e){const i=Be(t,a);i&&vt(n,a,i._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},Q0=e=>e instanceof RegExp,tc=e=>Bt(e)?e:Q0(e)?e.source:Kt(e)?Q0(e.value)?e.value.source:e.value:e,Av=e=>({isOnSubmit:!e||e===Ws.onSubmit,isOnBlur:e===Ws.onBlur,isOnChange:e===Ws.onChange,isOnAll:e===Ws.all,isOnTouch:e===Ws.onTouched});const jv="AsyncFunction";var lP=e=>!!e&&!!e.validate&&!!(Ks(e.validate)&&e.validate.constructor.name===jv||Kt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===jv)),cP=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Fv=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const jc=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const a=Be(e,n);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],n)&&!s)return!0;if(i.ref&&t(i.ref,i.name)&&!s)return!0;if(jc(l,t))break}else if(Kt(l)&&jc(l,t))break}}};function Rv(e,t,r){const s=Be(e,r);if(s||Jf(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),i=Be(t,a),l=Be(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};n.pop()}return{name:r}}var uP=(e,t,r,s)=>{r(e);const{name:n,...a}=e;return Wr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!s||Ws.all))},dP=(e,t,r)=>!e||!t||e===t||Ac(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),fP=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,hP=(e,t)=>!Fg(Be(e,t)).length&&$t(e,t),mP=(e,t,r)=>{const s=Ac(Be(e,r));return vt(s,"root",t[r]),vt(e,r,s),e};function Dv(e,t,r="validate"){if(ls(e)||Array.isArray(e)&&e.every(ls)||cn(e)&&!e)return{type:r,message:ls(e)?e:"",ref:t}}var mo=e=>Kt(e)&&!Q0(e)?e:{value:e,message:""},Pv=async(e,t,r,s,n,a)=>{const{ref:i,refs:l,required:u,maxLength:c,minLength:d,min:f,max:h,pattern:p,validate:m,name:x,valueAsNumber:y,mount:g}=e._f,v=Be(r,x);if(!g||t.has(x))return{};const w=l?l[0]:i,b=E=>{n&&w.reportValidity&&(w.setCustomValidity(cn(E)?"":E||""),w.reportValidity())},D={},A=Pg(i),_=Gu(i),S=A||_,k=(y||Dg(i))&&Bt(i.value)&&Bt(v)||X0(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,N=N_.bind(null,x,s,D),C=(E,M,Q,Y=An.maxLength,X=An.minLength)=>{const ee=E?M:Q;D[x]={type:E?Y:X,message:ee,ref:i,...N(E?Y:X,ee)}};if(a?!Array.isArray(v)||!v.length:u&&(!S&&(k||Gr(v))||cn(v)&&!v||_&&!j_(l).isValid||A&&!R_(l).isValid)){const{value:E,message:M}=ls(u)?{value:!!u,message:u}:mo(u);if(E&&(D[x]={type:An.required,message:M,ref:w,...N(An.required,M)},!s))return b(M),D}if(!k&&(!Gr(f)||!Gr(h))){let E,M;const Q=mo(h),Y=mo(f);if(!Gr(v)&&!isNaN(v)){const X=i.valueAsNumber||v&&+v;Gr(Q.value)||(E=X>Q.value),Gr(Y.value)||(M=X<Y.value)}else{const X=i.valueAsDate||new Date(v),ee=se=>new Date(new Date().toDateString()+" "+se),te=i.type=="time",R=i.type=="week";ls(Q.value)&&v&&(E=te?ee(v)>ee(Q.value):R?v>Q.value:X>new Date(Q.value)),ls(Y.value)&&v&&(M=te?ee(v)<ee(Y.value):R?v<Y.value:X<new Date(Y.value))}if((E||M)&&(C(!!E,Q.message,Y.message,An.max,An.min),!s))return b(D[x].message),D}if((c||d)&&!k&&(ls(v)||a&&Array.isArray(v))){const E=mo(c),M=mo(d),Q=!Gr(E.value)&&v.length>+E.value,Y=!Gr(M.value)&&v.length<+M.value;if((Q||Y)&&(C(Q,E.message,M.message),!s))return b(D[x].message),D}if(p&&!k&&ls(v)){const{value:E,message:M}=mo(p);if(Q0(E)&&!v.match(E)&&(D[x]={type:An.pattern,message:M,ref:i,...N(An.pattern,M)},!s))return b(M),D}if(m){if(Ks(m)){const E=await m(v,r),M=Dv(E,w);if(M&&(D[x]={...M,...N(An.validate,M.message)},!s))return b(M.message),D}else if(Kt(m)){let E={};for(const M in m){if(!Wr(E)&&!s)break;const Q=Dv(await m[M](v,r),w,M);Q&&(E={...Q,...N(M,Q.message)},b(Q.message),s&&(D[x]=E))}if(!Wr(E)&&(D[x]={ref:w,...E},!s))return D}}return b(!0),D};const pP={mode:Ws.onSubmit,reValidateMode:Ws.onChange,shouldFocusError:!0};function xP(e={}){let t={...pP,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ks(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},n=Kt(t.defaultValues)||Kt(t.values)?tr(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:tr(n),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:_v(),state:_v()},p=t.criteriaMode===Ws.all,m=H=>ie=>{clearTimeout(c),c=setTimeout(H,ie)},x=async H=>{if(!t.disabled&&(d.isValid||f.isValid||H)){const ie=t.resolver?Wr((await _()).errors):await k(s,!0);ie!==r.isValid&&h.state.next({isValid:ie})}},y=(H,ie)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((H||Array.from(l.mount)).forEach(oe=>{oe&&(ie?vt(r.validatingFields,oe,ie):$t(r.validatingFields,oe))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Wr(r.validatingFields)}))},g=(H,ie=[],oe,ye,he=!0,pe=!0)=>{if(ye&&oe&&!t.disabled){if(i.action=!0,pe&&Array.isArray(Be(s,H))){const ke=oe(Be(s,H),ye.argA,ye.argB);he&&vt(s,H,ke)}if(pe&&Array.isArray(Be(r.errors,H))){const ke=oe(Be(r.errors,H),ye.argA,ye.argB);he&&vt(r.errors,H,ke),hP(r.errors,H)}if((d.touchedFields||f.touchedFields)&&pe&&Array.isArray(Be(r.touchedFields,H))){const ke=oe(Be(r.touchedFields,H),ye.argA,ye.argB);he&&vt(r.touchedFields,H,ke)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=vo(n,a)),h.state.next({name:H,isDirty:C(H,ie),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vt(a,H,ie)},v=(H,ie)=>{vt(r.errors,H,ie),h.state.next({errors:r.errors})},w=H=>{r.errors=H,h.state.next({errors:r.errors,isValid:!1})},b=(H,ie,oe,ye)=>{const he=Be(s,H);if(he){const pe=Be(a,H,Bt(oe)?Be(n,H):oe);Bt(pe)||ye&&ye.defaultChecked||ie?vt(a,H,ie?pe:Tv(he._f)):Q(H,pe),i.mount&&x()}},D=(H,ie,oe,ye,he)=>{let pe=!1,ke=!1;const Me={name:H};if(!t.disabled){if(!oe||ye){(d.isDirty||f.isDirty)&&(ke=r.isDirty,r.isDirty=Me.isDirty=C(),pe=ke!==Me.isDirty);const ze=xa(Be(n,H),ie);ke=!!Be(r.dirtyFields,H),ze?$t(r.dirtyFields,H):vt(r.dirtyFields,H,!0),Me.dirtyFields=r.dirtyFields,pe=pe||(d.dirtyFields||f.dirtyFields)&&ke!==!ze}if(oe){const ze=Be(r.touchedFields,H);ze||(vt(r.touchedFields,H,oe),Me.touchedFields=r.touchedFields,pe=pe||(d.touchedFields||f.touchedFields)&&ze!==oe)}pe&&he&&h.state.next(Me)}return pe?Me:{}},A=(H,ie,oe,ye)=>{const he=Be(r.errors,H),pe=(d.isValid||f.isValid)&&cn(ie)&&r.isValid!==ie;if(t.delayError&&oe?(u=m(()=>v(H,oe)),u(t.delayError)):(clearTimeout(c),u=null,oe?vt(r.errors,H,oe):$t(r.errors,H)),(oe?!xa(he,oe):he)||!Wr(ye)||pe){const ke={...ye,...pe&&cn(ie)?{isValid:ie}:{},errors:r.errors,name:H};r={...r,...ke},h.state.next(ke)}},_=async H=>{y(H,!0);const ie=await t.resolver(a,t.context,oP(H||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return y(H),ie},S=async H=>{const{errors:ie}=await _(H);if(H)for(const oe of H){const ye=Be(ie,oe);ye?vt(r.errors,oe,ye):$t(r.errors,oe)}else r.errors=ie;return ie},k=async(H,ie,oe={valid:!0})=>{for(const ye in H){const he=H[ye];if(he){const{_f:pe,...ke}=he;if(pe){const Me=l.array.has(pe.name),ze=he._f&&lP(he._f);ze&&d.validatingFields&&y([pe.name],!0);const xt=await Pv(he,l.disabled,a,p,t.shouldUseNativeValidation&&!ie,Me);if(ze&&d.validatingFields&&y([pe.name]),xt[pe.name]&&(oe.valid=!1,ie))break;!ie&&(Be(xt,pe.name)?Me?mP(r.errors,xt,pe.name):vt(r.errors,pe.name,xt[pe.name]):$t(r.errors,pe.name))}!Wr(ke)&&await k(ke,ie,oe)}}return oe.valid},N=()=>{for(const H of l.unMount){const ie=Be(s,H);ie&&(ie._f.refs?ie._f.refs.every(oe=>!Gh(oe)):!Gh(ie._f.ref))&&J(H)}l.unMount=new Set},C=(H,ie)=>!t.disabled&&(H&&ie&&vt(a,H,ie),!xa(se(),n)),E=(H,ie,oe)=>rP(H,l,{...i.mount?a:Bt(ie)?n:ls(H)?{[H]:ie}:ie},oe,ie),M=H=>Fg(Be(i.mount?a:n,H,t.shouldUnregister?Be(n,H,[]):[])),Q=(H,ie,oe={})=>{const ye=Be(s,H);let he=ie;if(ye){const pe=ye._f;pe&&(!pe.disabled&&vt(a,H,F_(ie,pe)),he=X0(pe.ref)&&Gr(ie)?"":ie,T_(pe.ref)?[...pe.ref.options].forEach(ke=>ke.selected=he.includes(ke.value)):pe.refs?Gu(pe.ref)?pe.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(he)?ke.checked=!!he.find(Me=>Me===ke.value):ke.checked=he===ke.value||!!he)}):pe.refs.forEach(ke=>ke.checked=ke.value===he):Dg(pe.ref)?pe.ref.value="":(pe.ref.value=he,pe.ref.type||h.state.next({name:H,values:tr(a)})))}(oe.shouldDirty||oe.shouldTouch)&&D(H,he,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&R(H)},Y=(H,ie,oe)=>{for(const ye in ie){if(!ie.hasOwnProperty(ye))return;const he=ie[ye],pe=H+"."+ye,ke=Be(s,pe);(l.array.has(H)||Kt(he)||ke&&!ke._f)&&!_i(he)?Y(pe,he,oe):Q(pe,he,oe)}},X=(H,ie,oe={})=>{const ye=Be(s,H),he=l.array.has(H),pe=tr(ie);vt(a,H,pe),he?(h.array.next({name:H,values:tr(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&oe.shouldDirty&&h.state.next({name:H,dirtyFields:vo(n,a),isDirty:C(H,pe)})):ye&&!ye._f&&!Gr(pe)?Y(H,pe,oe):Q(H,pe,oe),Fv(H,l)&&h.state.next({...r,name:H}),h.state.next({name:i.mount?H:void 0,values:tr(a)})},ee=async H=>{i.mount=!0;const ie=H.target;let oe=ie.name,ye=!0;const he=Be(s,oe),pe=ze=>{ye=Number.isNaN(ze)||_i(ze)&&isNaN(ze.getTime())||xa(ze,Be(a,oe,ze))},ke=Av(t.mode),Me=Av(t.reValidateMode);if(he){let ze,xt;const Ve=ie.type?Tv(he._f):YD(H),Ge=H.type===bv.BLUR||H.type===bv.FOCUS_OUT,nt=!cP(he._f)&&!t.resolver&&!Be(r.errors,oe)&&!he._f.deps||fP(Ge,Be(r.touchedFields,oe),r.isSubmitted,Me,ke),at=Fv(oe,l,Ge);vt(a,oe,Ve),Ge?(!ie||!ie.readOnly)&&(he._f.onBlur&&he._f.onBlur(H),u&&u(0)):he._f.onChange&&he._f.onChange(H);const lr=D(oe,Ve,Ge),ed=!Wr(lr)||at;if(!Ge&&h.state.next({name:oe,type:H.type,values:tr(a)}),nt)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Ge&&x():Ge||x()),ed&&h.state.next({name:oe,...at?{}:lr});if(!Ge&&at&&h.state.next({...r}),t.resolver){const{errors:td}=await _([oe]);if(pe(Ve),ye){const ih=Rv(r.errors,s,oe),Bl=Rv(td,s,ih.name||oe);ze=Bl.error,oe=Bl.name,xt=Wr(td)}}else y([oe],!0),ze=(await Pv(he,l.disabled,a,p,t.shouldUseNativeValidation))[oe],y([oe]),pe(Ve),ye&&(ze?xt=!1:(d.isValid||f.isValid)&&(xt=await k(s,!0)));ye&&(he._f.deps&&(!Array.isArray(he._f.deps)||he._f.deps.length>0)&&R(he._f.deps),A(oe,xt,ze,lr))}},te=(H,ie)=>{if(Be(r.errors,ie)&&H.focus)return H.focus(),1},R=async(H,ie={})=>{let oe,ye;const he=Ac(H);if(t.resolver){const pe=await S(Bt(H)?H:he);oe=Wr(pe),ye=H?!he.some(ke=>Be(pe,ke)):oe}else H?(ye=(await Promise.all(he.map(async pe=>{const ke=Be(s,pe);return await k(ke&&ke._f?{[pe]:ke}:ke)}))).every(Boolean),!(!ye&&!r.isValid)&&x()):ye=oe=await k(s);return h.state.next({...!ls(H)||(d.isValid||f.isValid)&&oe!==r.isValid?{}:{name:H},...t.resolver||!H?{isValid:oe}:{},errors:r.errors}),ie.shouldFocus&&!ye&&jc(s,te,H?he:l.mount),ye},se=(H,ie)=>{let oe={...i.mount?a:n};return ie&&(oe=C_(ie.dirtyFields?r.dirtyFields:r.touchedFields,oe)),Bt(H)?oe:ls(H)?Be(oe,H):H.map(ye=>Be(oe,ye))},U=(H,ie)=>({invalid:!!Be((ie||r).errors,H),isDirty:!!Be((ie||r).dirtyFields,H),error:Be((ie||r).errors,H),isValidating:!!Be(r.validatingFields,H),isTouched:!!Be((ie||r).touchedFields,H)}),T=H=>{H&&Ac(H).forEach(ie=>$t(r.errors,ie)),h.state.next({errors:H?r.errors:{}})},j=(H,ie,oe)=>{const ye=(Be(s,H,{_f:{}})._f||{}).ref,he=Be(r.errors,H)||{},{ref:pe,message:ke,type:Me,...ze}=he;vt(r.errors,H,{...ze,...ie,ref:ye}),h.state.next({name:H,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&ye&&ye.focus&&ye.focus()},L=(H,ie)=>Ks(H)?h.state.subscribe({next:oe=>"values"in oe&&H(E(void 0,ie),oe)}):E(H,ie,!0),z=H=>h.state.subscribe({next:ie=>{dP(H.name,ie.name,H.exact)&&uP(ie,H.formState||d,ve,H.reRenderRoot)&&H.callback({values:{...a},...r,...ie,defaultValues:n})}}).unsubscribe,I=H=>(i.mount=!0,f={...f,...H.formState},z({...H,formState:f})),J=(H,ie={})=>{for(const oe of H?Ac(H):l.mount)l.mount.delete(oe),l.array.delete(oe),ie.keepValue||($t(s,oe),$t(a,oe)),!ie.keepError&&$t(r.errors,oe),!ie.keepDirty&&$t(r.dirtyFields,oe),!ie.keepTouched&&$t(r.touchedFields,oe),!ie.keepIsValidating&&$t(r.validatingFields,oe),!t.shouldUnregister&&!ie.keepDefaultValue&&$t(n,oe);h.state.next({values:tr(a)}),h.state.next({...r,...ie.keepDirty?{isDirty:C()}:{}}),!ie.keepIsValid&&x()},ne=({disabled:H,name:ie})=>{(cn(H)&&i.mount||H||l.disabled.has(ie))&&(H?l.disabled.add(ie):l.disabled.delete(ie))},re=(H,ie={})=>{let oe=Be(s,H);const ye=cn(ie.disabled)||cn(t.disabled);return vt(s,H,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:H}},name:H,mount:!0,...ie}}),l.mount.add(H),oe?ne({disabled:cn(ie.disabled)?ie.disabled:t.disabled,name:H}):b(H,!0,ie.value),{...ye?{disabled:ie.disabled||t.disabled}:{},...t.progressive?{required:!!ie.required,min:tc(ie.min),max:tc(ie.max),minLength:tc(ie.minLength),maxLength:tc(ie.maxLength),pattern:tc(ie.pattern)}:{},name:H,onChange:ee,onBlur:ee,ref:he=>{if(he){re(H,ie),oe=Be(s,H);const pe=Bt(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,ke=sP(pe),Me=oe._f.refs||[];if(ke?Me.find(ze=>ze===pe):pe===oe._f.ref)return;vt(s,H,{_f:{...oe._f,...ke?{refs:[...Me.filter(Gh),pe,...Array.isArray(Be(n,H))?[{}]:[]],ref:{type:pe.type,name:H}}:{ref:pe}}}),b(H,!1,void 0,pe)}else oe=Be(s,H,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||ie.shouldUnregister)&&!(QD(l.array,H)&&i.action)&&l.unMount.add(H)}}},ae=()=>t.shouldFocusError&&jc(s,te,l.mount),q=H=>{cn(H)&&(h.state.next({disabled:H}),jc(s,(ie,oe)=>{const ye=Be(s,oe);ye&&(ie.disabled=ye._f.disabled||H,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(he=>{he.disabled=ye._f.disabled||H}))},0,!1))},O=(H,ie)=>async oe=>{let ye;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let he=tr(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:ke}=await _();r.errors=pe,he=tr(ke)}else await k(s);if(l.disabled.size)for(const pe of l.disabled)$t(he,pe);if($t(r.errors,"root"),Wr(r.errors)){h.state.next({errors:{}});try{await H(he,oe)}catch(pe){ye=pe}}else ie&&await ie({...r.errors},oe),ae(),setTimeout(ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wr(r.errors)&&!ye,submitCount:r.submitCount+1,errors:r.errors}),ye)throw ye},we=(H,ie={})=>{Be(s,H)&&(Bt(ie.defaultValue)?X(H,tr(Be(n,H))):(X(H,ie.defaultValue),vt(n,H,tr(ie.defaultValue))),ie.keepTouched||$t(r.touchedFields,H),ie.keepDirty||($t(r.dirtyFields,H),r.isDirty=ie.defaultValue?C(H,tr(Be(n,H))):C()),ie.keepError||($t(r.errors,H),d.isValid&&x()),h.state.next({...r}))},Se=(H,ie={})=>{const oe=H?tr(H):n,ye=tr(oe),he=Wr(H),pe=he?n:ye;if(ie.keepDefaultValues||(n=oe),!ie.keepValues){if(ie.keepDirtyValues){const ke=new Set([...l.mount,...Object.keys(vo(n,a))]);for(const Me of Array.from(ke))Be(r.dirtyFields,Me)?vt(pe,Me,Be(a,Me)):X(Me,Be(pe,Me))}else{if(jg&&Bt(H))for(const ke of l.mount){const Me=Be(s,ke);if(Me&&Me._f){const ze=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(X0(ze)){const xt=ze.closest("form");if(xt){xt.reset();break}}}}if(ie.keepFieldsRef)for(const ke of l.mount)X(ke,Be(pe,ke));else s={}}a=t.shouldUnregister?ie.keepDefaultValues?tr(n):{}:tr(pe),h.array.next({values:{...pe}}),h.state.next({values:{...pe}})}l={mount:ie.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:ie.keepSubmitCount?r.submitCount:0,isDirty:he?!1:ie.keepDirty?r.isDirty:!!(ie.keepDefaultValues&&!xa(H,n)),isSubmitted:ie.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:ie.keepDirtyValues?ie.keepDefaultValues&&a?vo(n,a):r.dirtyFields:ie.keepDefaultValues&&H?vo(n,H):ie.keepDirty?r.dirtyFields:{},touchedFields:ie.keepTouched?r.touchedFields:{},errors:ie.keepErrors?r.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},be=(H,ie)=>Se(Ks(H)?H(a):H,ie),ge=(H,ie={})=>{const oe=Be(s,H),ye=oe&&oe._f;if(ye){const he=ye.refs?ye.refs[0]:ye.ref;he.focus&&(he.focus(),ie.shouldSelect&&Ks(he.select)&&he.select())}},ve=H=>{r={...r,...H}},Re={control:{register:re,unregister:J,getFieldState:U,handleSubmit:O,setError:j,_subscribe:z,_runSchema:_,_focusError:ae,_getWatch:E,_getDirty:C,_setValid:x,_setFieldArray:g,_setDisabledField:ne,_setErrors:w,_getFieldArray:M,_reset:Se,_resetDefaultValues:()=>Ks(t.defaultValues)&&t.defaultValues().then(H=>{be(H,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:q,_subjects:h,_proxyFormState:d,get _fields(){return s},get _formValues(){return a},get _state(){return i},set _state(H){i=H},get _defaultValues(){return n},get _names(){return l},set _names(H){l=H},get _formState(){return r},get _options(){return t},set _options(H){t={...t,...H}}},subscribe:I,trigger:R,register:re,handleSubmit:O,watch:L,setValue:X,getValues:se,reset:be,resetField:we,clearErrors:T,unregister:J,setError:j,setFocus:ge,getFieldState:U};return{...Re,formControl:Re}}function gP(e={}){const t=gt.useRef(void 0),r=gt.useRef(void 0),[s,n]=gt.useState({isDirty:!1,isValidating:!1,isLoading:Ks(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ks(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Ks(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=xP(e);t.current={...l,formState:s}}const a=t.current.control;return a._options=e,tP(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),a._formState.isReady=!0,i},[a]),gt.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),gt.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),gt.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),gt.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),gt.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==s.isDirty&&a._subjects.state.next({isDirty:i})}},[a,s.isDirty]),gt.useEffect(()=>{e.values&&!xa(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,n(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),gt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=eP(s,a),t.current}var pt;(function(e){e.assertEqual=n=>{};function t(n){}e.assertIs=t;function r(n){throw new Error}e.assertNever=r,e.arrayToEnum=n=>{const a={};for(const i of n)a[i]=i;return a},e.getValidEnumValues=n=>{const a=e.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),i={};for(const l of a)i[l]=n[l];return e.objectValues(i)},e.objectValues=n=>e.objectKeys(n).map(function(a){return n[a]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.push(i);return a},e.find=(n,a)=>{for(const i of n)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=s,e.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(pt||(pt={}));var Ov;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Ov||(Ov={}));const Ue=pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fa=e=>{switch(typeof e){case"undefined":return Ue.undefined;case"string":return Ue.string;case"number":return Number.isNaN(e)?Ue.nan:Ue.number;case"boolean":return Ue.boolean;case"function":return Ue.function;case"bigint":return Ue.bigint;case"symbol":return Ue.symbol;case"object":return Array.isArray(e)?Ue.array:e===null?Ue.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ue.promise:typeof Map<"u"&&e instanceof Map?Ue.map:typeof Set<"u"&&e instanceof Set?Ue.set:typeof Date<"u"&&e instanceof Date?Ue.date:Ue.object;default:return Ue.unknown}},Ce=pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},s={_errors:[]},n=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)s._errors.push(r(i));else{let l=s,u=0;for(;u<i.path.length;){const c=i.path[u];u===i.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(i))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}};return n(this),s}static assert(t){if(!(t instanceof Qn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const n of this.issues)if(n.path.length>0){const a=n.path[0];r[a]=r[a]||[],r[a].push(t(n))}else s.push(t(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Qn.create=e=>new Qn(e);const yP=(e,t)=>{let r;switch(e.code){case Ce.invalid_type:e.received===Ue.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,pt.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${pt.joinValues(e.keys,", ")}`;break;case Ce.invalid_union:r="Invalid input";break;case Ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${pt.joinValues(e.options)}`;break;case Ce.invalid_enum_value:r=`Invalid enum value. Expected ${pt.joinValues(e.options)}, received '${e.received}'`;break;case Ce.invalid_arguments:r="Invalid function arguments";break;case Ce.invalid_return_type:r="Invalid function return type";break;case Ce.invalid_date:r="Invalid date";break;case Ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:pt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ce.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ce.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ce.custom:r="Invalid input";break;case Ce.invalid_intersection_types:r="Intersection results could not be merged";break;case Ce.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ce.not_finite:r="Number must be finite";break;default:r=t.defaultError,pt.assertNever(e)}return{message:r}},Fp=yP;let vP=Fp;function wP(){return vP}const kP=e=>{const{data:t,path:r,errorMaps:s,issueData:n}=e,a=[...r,...n.path||[]],i={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let l="";const u=s.filter(c=>!!c).slice().reverse();for(const c of u)l=c(i,{data:t,defaultError:l}).message;return{...n,path:a,message:l}};function Pe(e,t){const r=wP(),s=kP({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Fp?void 0:Fp].filter(n=>!!n)});e.common.issues.push(s)}class ms{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const n of r){if(n.status==="aborted")return Xe;n.status==="dirty"&&t.dirty(),s.push(n.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const n of r){const a=await n.key,i=await n.value;s.push({key:a,value:i})}return ms.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const n of r){const{key:a,value:i}=n;if(a.status==="aborted"||i.status==="aborted")return Xe;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(s[a.value]=i.value)}return{status:t.value,value:s}}}const Xe=Object.freeze({status:"aborted"}),dc=e=>({status:"dirty",value:e}),Ps=e=>({status:"valid",value:e}),Iv=e=>e.status==="aborted",Mv=e=>e.status==="dirty",kl=e=>e.status==="valid",Z0=e=>typeof Promise<"u"&&e instanceof Promise;var $e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($e||($e={}));class Ja{constructor(t,r,s,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lv=(e,t)=>{if(kl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Qn(e.common.issues);return this._error=r,this._error}}};function rt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:n}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(i,l)=>{const{message:u}=e;return i.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??s??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:u??r??l.defaultError}},description:n}}class ht{get description(){return this._def.description}_getType(t){return fa(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:fa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ms,ctx:{common:t.parent.common,data:t.data,parsedType:fa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Z0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fa(t)},n=this._parseSync({data:t,path:s.path,parent:s});return Lv(s,n)}"~validate"(t){var s,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fa(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return kl(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(n=(s=a==null?void 0:a.message)==null?void 0:s.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>kl(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fa(t)},n=this._parse({data:t,path:s.path,parent:s}),a=await(Z0(n)?n:Promise.resolve(n));return Lv(s,a)}refine(t,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{const i=t(n),l=()=>a.addIssue({code:Ce.custom,...s(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(u=>u?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,n)=>t(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(t){return new bl({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return qa.create(this,this._def)}nullable(){return _l.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return kn.create(this)}promise(){return rf.create(this,this._def)}or(t){return ef.create([this,t],this._def)}and(t){return tf.create(this,t,this._def)}transform(t){return new bl({...rt(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Dp({...rt(this._def),innerType:this,defaultValue:r,typeName:Qe.ZodDefault})}brand(){return new HP({typeName:Qe.ZodBranded,type:this,...rt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Pp({...rt(this._def),innerType:this,catchValue:r,typeName:Qe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Og.create(this,t)}readonly(){return Op.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const SP=/^c[^\s-]{8,}$/i,bP=/^[0-9a-z]+$/,_P=/^[0-9A-HJKMNP-TV-Z]{26}$/i,EP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,NP=/^[a-z0-9_-]{21}$/i,CP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,AP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qh;const FP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,PP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,IP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,D_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",MP=new RegExp(`^${D_}$`);function P_(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function LP(e){return new RegExp(`^${P_(e)}$`)}function BP(e){let t=`${D_}T${P_(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function zP(e,t){return!!((t==="v4"||!t)&&FP.test(e)||(t==="v6"||!t)&&DP.test(e))}function UP(e,t){if(!CP.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}function $P(e,t){return!!((t==="v4"||!t)&&RP.test(e)||(t==="v6"||!t)&&PP.test(e))}class Ra extends ht{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ue.string){const a=this._getOrReturnCtx(t);return Pe(a,{code:Ce.invalid_type,expected:Ue.string,received:a.parsedType}),Xe}const s=new ms;let n;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:Ce.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")t.data.length>a.value&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:Ce.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,l=t.data.length<a.value;(i||l)&&(n=this._getOrReturnCtx(t,n),i?Pe(n,{code:Ce.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Pe(n,{code:Ce.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")AP.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"email",code:Ce.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")qh||(qh=new RegExp(jP,"u")),qh.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"emoji",code:Ce.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")EP.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"uuid",code:Ce.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")NP.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"nanoid",code:Ce.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")SP.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"cuid",code:Ce.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")bP.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"cuid2",code:Ce.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")_P.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"ulid",code:Ce.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),Pe(n,{validation:"url",code:Ce.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"regex",code:Ce.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:Ce.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:Ce.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:Ce.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?BP(a).test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:Ce.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?MP.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:Ce.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?LP(a).test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:Ce.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?TP.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"duration",code:Ce.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?zP(t.data,a.version)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"ip",code:Ce.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?UP(t.data,a.alg)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"jwt",code:Ce.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?$P(t.data,a.version)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"cidr",code:Ce.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?OP.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"base64",code:Ce.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?IP.test(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{validation:"base64url",code:Ce.invalid_string,message:a.message}),s.dirty()):pt.assertNever(a);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(n=>t.test(n),{validation:r,code:Ce.invalid_string,...$e.errToObj(s)})}_addCheck(t){return new Ra({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$e.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$e.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$e.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$e.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$e.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...$e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$e.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...$e.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...$e.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...$e.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...$e.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...$e.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...$e.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...$e.errToObj(r)})}nonempty(t){return this.min(1,$e.errToObj(t))}trim(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ra.create=e=>new Ra({checks:[],typeName:Qe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...rt(e)});function VP(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,n=r>s?r:s,a=Number.parseInt(e.toFixed(n).replace(".","")),i=Number.parseInt(t.toFixed(n).replace(".",""));return a%i/10**n}class du extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ue.number){const a=this._getOrReturnCtx(t);return Pe(a,{code:Ce.invalid_type,expected:Ue.number,received:a.parsedType}),Xe}let s;const n=new ms;for(const a of this._def.checks)a.kind==="int"?pt.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ce.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ce.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ce.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?VP(t.data,a.value)!==0&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ce.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ce.not_finite,message:a.message}),n.dirty()):pt.assertNever(a);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,s,n){return new du({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:$e.toString(n)}]})}_addCheck(t){return new du({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:$e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&pt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}du.create=e=>new du({checks:[],typeName:Qe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class fu extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ue.bigint)return this._getInvalidInput(t);let s;const n=new ms;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ce.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ce.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:Ce.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):pt.assertNever(a);return{status:n.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:Ce.invalid_type,expected:Ue.bigint,received:r.parsedType}),Xe}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,s,n){return new fu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:$e.toString(n)}]})}_addCheck(t){return new fu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}fu.create=e=>new fu({checks:[],typeName:Qe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...rt(e)});class Bv extends ht{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ue.boolean){const s=this._getOrReturnCtx(t);return Pe(s,{code:Ce.invalid_type,expected:Ue.boolean,received:s.parsedType}),Xe}return Ps(t.data)}}Bv.create=e=>new Bv({typeName:Qe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class J0 extends ht{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ue.date){const a=this._getOrReturnCtx(t);return Pe(a,{code:Ce.invalid_type,expected:Ue.date,received:a.parsedType}),Xe}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Pe(a,{code:Ce.invalid_date}),Xe}const s=new ms;let n;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:Ce.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:Ce.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):pt.assertNever(a);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new J0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:$e.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:$e.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}J0.create=e=>new J0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Qe.ZodDate,...rt(e)});class zv extends ht{_parse(t){if(this._getType(t)!==Ue.symbol){const s=this._getOrReturnCtx(t);return Pe(s,{code:Ce.invalid_type,expected:Ue.symbol,received:s.parsedType}),Xe}return Ps(t.data)}}zv.create=e=>new zv({typeName:Qe.ZodSymbol,...rt(e)});class Uv extends ht{_parse(t){if(this._getType(t)!==Ue.undefined){const s=this._getOrReturnCtx(t);return Pe(s,{code:Ce.invalid_type,expected:Ue.undefined,received:s.parsedType}),Xe}return Ps(t.data)}}Uv.create=e=>new Uv({typeName:Qe.ZodUndefined,...rt(e)});class $v extends ht{_parse(t){if(this._getType(t)!==Ue.null){const s=this._getOrReturnCtx(t);return Pe(s,{code:Ce.invalid_type,expected:Ue.null,received:s.parsedType}),Xe}return Ps(t.data)}}$v.create=e=>new $v({typeName:Qe.ZodNull,...rt(e)});class Vv extends ht{constructor(){super(...arguments),this._any=!0}_parse(t){return Ps(t.data)}}Vv.create=e=>new Vv({typeName:Qe.ZodAny,...rt(e)});class Hv extends ht{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ps(t.data)}}Hv.create=e=>new Hv({typeName:Qe.ZodUnknown,...rt(e)});class ei extends ht{_parse(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:Ce.invalid_type,expected:Ue.never,received:r.parsedType}),Xe}}ei.create=e=>new ei({typeName:Qe.ZodNever,...rt(e)});class Wv extends ht{_parse(t){if(this._getType(t)!==Ue.undefined){const s=this._getOrReturnCtx(t);return Pe(s,{code:Ce.invalid_type,expected:Ue.void,received:s.parsedType}),Xe}return Ps(t.data)}}Wv.create=e=>new Wv({typeName:Qe.ZodVoid,...rt(e)});class kn extends ht{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),n=this._def;if(r.parsedType!==Ue.array)return Pe(r,{code:Ce.invalid_type,expected:Ue.array,received:r.parsedType}),Xe;if(n.exactLength!==null){const i=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(i||l)&&(Pe(r,{code:i?Ce.too_big:Ce.too_small,minimum:l?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(Pe(r,{code:Ce.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(Pe(r,{code:Ce.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>n.type._parseAsync(new Ja(r,i,r.path,l)))).then(i=>ms.mergeArray(s,i));const a=[...r.data].map((i,l)=>n.type._parseSync(new Ja(r,i,r.path,l)));return ms.mergeArray(s,a)}get element(){return this._def.type}min(t,r){return new kn({...this._def,minLength:{value:t,message:$e.toString(r)}})}max(t,r){return new kn({...this._def,maxLength:{value:t,message:$e.toString(r)}})}length(t,r){return new kn({...this._def,exactLength:{value:t,message:$e.toString(r)}})}nonempty(t){return this.min(1,t)}}kn.create=(e,t)=>new kn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...rt(t)});function wo(e){if(e instanceof Dt){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=qa.create(wo(s))}return new Dt({...e._def,shape:()=>t})}else return e instanceof kn?new kn({...e._def,type:wo(e.element)}):e instanceof qa?qa.create(wo(e.unwrap())):e instanceof _l?_l.create(wo(e.unwrap())):e instanceof eo?eo.create(e.items.map(t=>wo(t))):e}class Dt extends ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=pt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ue.object){const c=this._getOrReturnCtx(t);return Pe(c,{code:Ce.invalid_type,expected:Ue.object,received:c.parsedType}),Xe}const{status:s,ctx:n}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof ei&&this._def.unknownKeys==="strip"))for(const c in n.data)i.includes(c)||l.push(c);const u=[];for(const c of i){const d=a[c],f=n.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new Ja(n,f,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof ei){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of l)u.push({key:{status:"valid",value:d},value:{status:"valid",value:n.data[d]}});else if(c==="strict")l.length>0&&(Pe(n,{code:Ce.unrecognized_keys,keys:l}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of l){const f=n.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new Ja(n,f,n.path,d)),alwaysSet:d in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>ms.mergeObjectSync(s,c)):ms.mergeObjectSync(s,u)}get shape(){return this._def.shape()}strict(t){return $e.errToObj,new Dt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i;const n=((i=(a=this._def).errorMap)==null?void 0:i.call(a,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:$e.errToObj(t).message??n}:{message:n}}}:{}})}strip(){return new Dt({...this._def,unknownKeys:"strip"})}passthrough(){return new Dt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Dt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Dt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Qe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Dt({...this._def,catchall:t})}pick(t){const r={};for(const s of pt.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new Dt({...this._def,shape:()=>r})}omit(t){const r={};for(const s of pt.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new Dt({...this._def,shape:()=>r})}deepPartial(){return wo(this)}partial(t){const r={};for(const s of pt.objectKeys(this.shape)){const n=this.shape[s];t&&!t[s]?r[s]=n:r[s]=n.optional()}return new Dt({...this._def,shape:()=>r})}required(t){const r={};for(const s of pt.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof qa;)a=a._def.innerType;r[s]=a}return new Dt({...this._def,shape:()=>r})}keyof(){return O_(pt.objectKeys(this.shape))}}Dt.create=(e,t)=>new Dt({shape:()=>e,unknownKeys:"strip",catchall:ei.create(),typeName:Qe.ZodObject,...rt(t)});Dt.strictCreate=(e,t)=>new Dt({shape:()=>e,unknownKeys:"strict",catchall:ei.create(),typeName:Qe.ZodObject,...rt(t)});Dt.lazycreate=(e,t)=>new Dt({shape:e,unknownKeys:"strip",catchall:ei.create(),typeName:Qe.ZodObject,...rt(t)});class ef extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function n(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=a.map(l=>new Qn(l.ctx.common.issues));return Pe(r,{code:Ce.invalid_union,unionErrors:i}),Xe}if(r.common.async)return Promise.all(s.map(async a=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(n);{let a;const i=[];for(const u of s){const c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=i.map(u=>new Qn(u));return Pe(r,{code:Ce.invalid_union,unionErrors:l}),Xe}}get options(){return this._def.options}}ef.create=(e,t)=>new ef({options:e,typeName:Qe.ZodUnion,...rt(t)});function Rp(e,t){const r=fa(e),s=fa(t);if(e===t)return{valid:!0,data:e};if(r===Ue.object&&s===Ue.object){const n=pt.objectKeys(t),a=pt.objectKeys(e).filter(l=>n.indexOf(l)!==-1),i={...e,...t};for(const l of a){const u=Rp(e[l],t[l]);if(!u.valid)return{valid:!1};i[l]=u.data}return{valid:!0,data:i}}else if(r===Ue.array&&s===Ue.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const i=e[a],l=t[a],u=Rp(i,l);if(!u.valid)return{valid:!1};n.push(u.data)}return{valid:!0,data:n}}else return r===Ue.date&&s===Ue.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class tf extends ht{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),n=(a,i)=>{if(Iv(a)||Iv(i))return Xe;const l=Rp(a.value,i.value);return l.valid?((Mv(a)||Mv(i))&&r.dirty(),{status:r.value,value:l.data}):(Pe(s,{code:Ce.invalid_intersection_types}),Xe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,i])=>n(a,i)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}tf.create=(e,t,r)=>new tf({left:e,right:t,typeName:Qe.ZodIntersection,...rt(r)});class eo extends ht{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ue.array)return Pe(s,{code:Ce.invalid_type,expected:Ue.array,received:s.parsedType}),Xe;if(s.data.length<this._def.items.length)return Pe(s,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&s.data.length>this._def.items.length&&(Pe(s,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((i,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Ja(s,i,s.path,l)):null}).filter(i=>!!i);return s.common.async?Promise.all(a).then(i=>ms.mergeArray(r,i)):ms.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new eo({...this._def,rest:t})}}eo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new eo({items:e,typeName:Qe.ZodTuple,rest:null,...rt(t)})};class Kv extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ue.map)return Pe(s,{code:Ce.invalid_type,expected:Ue.map,received:s.parsedType}),Xe;const n=this._def.keyType,a=this._def.valueType,i=[...s.data.entries()].map(([l,u],c)=>({key:n._parse(new Ja(s,l,s.path,[c,"key"])),value:a._parse(new Ja(s,u,s.path,[c,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of i){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return Xe;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const u of i){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return Xe;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}}}}Kv.create=(e,t,r)=>new Kv({valueType:t,keyType:e,typeName:Qe.ZodMap,...rt(r)});class hu extends ht{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ue.set)return Pe(s,{code:Ce.invalid_type,expected:Ue.set,received:s.parsedType}),Xe;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(Pe(s,{code:Ce.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(Pe(s,{code:Ce.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const a=this._def.valueType;function i(u){const c=new Set;for(const d of u){if(d.status==="aborted")return Xe;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const l=[...s.data.values()].map((u,c)=>a._parse(new Ja(s,u,s.path,c)));return s.common.async?Promise.all(l).then(u=>i(u)):i(l)}min(t,r){return new hu({...this._def,minSize:{value:t,message:$e.toString(r)}})}max(t,r){return new hu({...this._def,maxSize:{value:t,message:$e.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}hu.create=(e,t)=>new hu({valueType:e,minSize:null,maxSize:null,typeName:Qe.ZodSet,...rt(t)});class Gv extends ht{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Gv.create=(e,t)=>new Gv({getter:e,typeName:Qe.ZodLazy,...rt(t)});class qv extends ht{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Pe(r,{received:r.data,code:Ce.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:t.data}}get value(){return this._def.value}}qv.create=(e,t)=>new qv({value:e,typeName:Qe.ZodLiteral,...rt(t)});function O_(e,t){return new Sl({values:e,typeName:Qe.ZodEnum,...rt(t)})}class Sl extends ht{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return Pe(r,{expected:pt.joinValues(s),received:r.parsedType,code:Ce.invalid_type}),Xe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return Pe(r,{received:r.data,code:Ce.invalid_enum_value,options:s}),Xe}return Ps(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Sl.create(t,{...this._def,...r})}exclude(t,r=this._def){return Sl.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}Sl.create=O_;class Yv extends ht{_parse(t){const r=pt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Ue.string&&s.parsedType!==Ue.number){const n=pt.objectValues(r);return Pe(s,{expected:pt.joinValues(n),received:s.parsedType,code:Ce.invalid_type}),Xe}if(this._cache||(this._cache=new Set(pt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const n=pt.objectValues(r);return Pe(s,{received:s.data,code:Ce.invalid_enum_value,options:n}),Xe}return Ps(t.data)}get enum(){return this._def.values}}Yv.create=(e,t)=>new Yv({values:e,typeName:Qe.ZodNativeEnum,...rt(t)});class rf extends ht{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ue.promise&&r.common.async===!1)return Pe(r,{code:Ce.invalid_type,expected:Ue.promise,received:r.parsedType}),Xe;const s=r.parsedType===Ue.promise?r.data:Promise.resolve(r.data);return Ps(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}rf.create=(e,t)=>new rf({type:e,typeName:Qe.ZodPromise,...rt(t)});class bl extends ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),n=this._def.effect||null,a={addIssue:i=>{Pe(s,i),i.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const i=n.transform(s.data,a);if(s.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return Xe;const u=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return u.status==="aborted"?Xe:u.status==="dirty"||r.value==="dirty"?dc(u.value):u});{if(r.value==="aborted")return Xe;const l=this._def.schema._parseSync({data:i,path:s.path,parent:s});return l.status==="aborted"?Xe:l.status==="dirty"||r.value==="dirty"?dc(l.value):l}}if(n.type==="refinement"){const i=l=>{const u=n.refinement(l,a);if(s.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Xe:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Xe:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!kl(i))return Xe;const l=n.transform(i.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>kl(i)?Promise.resolve(n.transform(i.value,a)).then(l=>({status:r.value,value:l})):Xe);pt.assertNever(n)}}bl.create=(e,t,r)=>new bl({schema:e,typeName:Qe.ZodEffects,effect:t,...rt(r)});bl.createWithPreprocess=(e,t,r)=>new bl({schema:t,effect:{type:"preprocess",transform:e},typeName:Qe.ZodEffects,...rt(r)});class qa extends ht{_parse(t){return this._getType(t)===Ue.undefined?Ps(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qa.create=(e,t)=>new qa({innerType:e,typeName:Qe.ZodOptional,...rt(t)});class _l extends ht{_parse(t){return this._getType(t)===Ue.null?Ps(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_l.create=(e,t)=>new _l({innerType:e,typeName:Qe.ZodNullable,...rt(t)});class Dp extends ht{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===Ue.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Dp.create=(e,t)=>new Dp({innerType:e,typeName:Qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...rt(t)});class Pp extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Z0(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qn(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Qn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Pp.create=(e,t)=>new Pp({innerType:e,typeName:Qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...rt(t)});class Xv extends ht{_parse(t){if(this._getType(t)!==Ue.nan){const s=this._getOrReturnCtx(t);return Pe(s,{code:Ce.invalid_type,expected:Ue.nan,received:s.parsedType}),Xe}return{status:"valid",value:t.data}}}Xv.create=e=>new Xv({typeName:Qe.ZodNaN,...rt(e)});class HP extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Og extends ht{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Xe:a.status==="dirty"?(r.dirty(),dc(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?Xe:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(t,r){return new Og({in:t,out:r,typeName:Qe.ZodPipeline})}}class Op extends ht{_parse(t){const r=this._def.innerType._parse(t),s=n=>(kl(n)&&(n.value=Object.freeze(n.value)),n);return Z0(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}}Op.create=(e,t)=>new Op({innerType:e,typeName:Qe.ZodReadonly,...rt(t)});Dt.lazycreate;var Qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const WP=Ra.create;ei.create;kn.create;const KP=Dt.create;Dt.strictCreate;ef.create;tf.create;eo.create;Sl.create;rf.create;qa.create;_l.create;const Qv=(e,t,r)=>{if(e&&"reportValidity"in e){const s=Be(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},I_=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?Qv(s.ref,r,e):s.refs&&s.refs.forEach(n=>Qv(n,r,e))}},GP=(e,t)=>{t.shouldUseNativeValidation&&I_(e,t);const r={};for(const s in e){const n=Be(t.fields,s),a=Object.assign(e[s]||{},{ref:n&&n.ref});if(qP(t.names||Object.keys(e),s)){const i=Object.assign({},Be(r,s));vt(i,"root",a),vt(r,s,i)}else vt(r,s,a)}return r},qP=(e,t)=>e.some(r=>r.startsWith(t+"."));var YP=function(e,t){for(var r={};e.length;){var s=e[0],n=s.code,a=s.message,i=s.path.join(".");if(!r[i])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var u=r[i].types,c=u&&u[s.code];r[i]=N_(i,t,r,n,c?[].concat(c,s.message):s.message)}e.shift()}return r},XP=function(e,t,r){return r===void 0&&(r={}),function(s,n,a){try{return Promise.resolve(function(i,l){try{var u=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(c){return a.shouldUseNativeValidation&&I_({},a),{errors:{},values:r.raw?s:c}})}catch(c){return l(c)}return u&&u.then?u.then(void 0,l):u}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:GP(YP(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}};const QP=KP({csv:WP().min(1,"CSV bo olamaz")}),ZP=({open:e,onClose:t})=>{const{register:r,handleSubmit:s,formState:{errors:n}}=gP({resolver:XP(QP)}),a=Ag(),i=async l=>{try{await a.mutateAsync({csv:l.csv}),t()}catch(u){console.error("UTS bulk start failed",u)}};return e?o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:o.jsxs("div",{style:{background:"white",padding:16,width:"640px",borderRadius:8},children:[o.jsx("h3",{children:"TS Toplu Kayt Balat"}),o.jsxs("form",{onSubmit:s(i),children:[o.jsxs("div",{children:[o.jsx("textarea",{...r("csv"),rows:8,style:{width:"100%"}}),n.csv&&o.jsx("div",{style:{color:"red"},children:n.csv.message})]}),o.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,justifyContent:"flex-end"},children:[o.jsx(de,{type:"button",variant:"ghost",onClick:t,children:"ptal"}),o.jsx(de,{type:"submit",children:"Balat"})]})]})]})}):null},JP=()=>{var f;const{data:e,isLoading:t}=UD(),r=Ag(),[s,n]=F.useState(""),[a,i]=F.useState(!1),[l,u]=F.useState(null),c=$D(l||"",{interval:3e3,onComplete:h=>console.log("job completed",h)}),d=()=>{r.mutate({csv:s})};return o.jsxs("div",{children:[o.jsx("h2",{children:"TS Kaytlar"}),o.jsxs("div",{style:{margin:"1rem 0"},children:[o.jsx("textarea",{value:s,onChange:h=>n(h.target.value),rows:8,style:{width:"100%"}}),o.jsx("div",{style:{marginTop:"0.5rem"},children:o.jsx(de,{onClick:d,disabled:r.isLoading||r.isMutating,children:"Toplu Kayt Balat"})})]}),o.jsxs("section",{children:[o.jsx("h3",{children:"Gemi Kaytlar"}),t?o.jsx("div",{children:"Ykleniyor..."}):o.jsx("ul",{children:(e||[]).map(h=>o.jsxs("li",{children:[h.id," - ",h.status]},h.id))})]}),o.jsxs("section",{style:{marginTop:24},children:[o.jsx("h3",{children:"Toplu Kayt (CSV)"}),o.jsx("div",{style:{marginBottom:8},children:o.jsx(de,{onClick:()=>i(!0),children:"Toplu Kayt Balat"})}),o.jsx(qD,{onStarted:h=>u(h)}),l&&o.jsxs("div",{style:{marginTop:12},children:[o.jsx("strong",{children:" ID:"})," ",l," ",o.jsx("br",{}),o.jsx("strong",{children:"Durum:"})," ",((f=c==null?void 0:c.data)==null?void 0:f.status)||(c.isFetching?"alyor":"Bekleniyor")]})]}),o.jsx(ZP,{open:a,onClose:()=>i(!1)})]})},e5=Lr("/uts")({component:JP});function Zn(e){return Array.isArray?Array.isArray(e):B_(e)==="[object Array]"}const t5=1/0;function r5(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-t5?"-0":t}function s5(e){return e==null?"":r5(e)}function xn(e){return typeof e=="string"}function M_(e){return typeof e=="number"}function n5(e){return e===!0||e===!1||a5(e)&&B_(e)=="[object Boolean]"}function L_(e){return typeof e=="object"}function a5(e){return L_(e)&&e!==null}function as(e){return e!=null}function Yh(e){return!e.trim().length}function B_(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const i5="Incorrect 'index' type",o5=e=>`Invalid value for key ${e}`,l5=e=>`Pattern length exceeds max of ${e}.`,c5=e=>`Missing ${e} property in key`,u5=e=>`Property 'weight' in key '${e}' must be a positive integer`,Zv=Object.prototype.hasOwnProperty;let d5=class{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(s=>{let n=z_(s);this._keys.push(n),this._keyMap[n.id]=n,r+=n.weight}),this._keys.forEach(s=>{s.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function z_(e){let t=null,r=null,s=null,n=1,a=null;if(xn(e)||Zn(e))s=e,t=Jv(e),r=Ip(e);else{if(!Zv.call(e,"name"))throw new Error(c5("name"));const i=e.name;if(s=i,Zv.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(u5(i));t=Jv(i),r=Ip(i),a=e.getFn}return{path:t,id:r,weight:n,src:s,getFn:a}}function Jv(e){return Zn(e)?e:e.split(".")}function Ip(e){return Zn(e)?e.join("."):e}function f5(e,t){let r=[],s=!1;const n=(a,i,l)=>{if(as(a))if(!i[l])r.push(a);else{let u=i[l];const c=a[u];if(!as(c))return;if(l===i.length-1&&(xn(c)||M_(c)||n5(c)))r.push(s5(c));else if(Zn(c)){s=!0;for(let d=0,f=c.length;d<f;d+=1)n(c[d],i,l+1)}else i.length&&n(c,i,l+1)}};return n(e,xn(t)?t.split("."):t,0),s?r:r[0]}const h5={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},m5={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},p5={location:0,threshold:.6,distance:100},x5={useExtendedSearch:!1,getFn:f5,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var We={...m5,...h5,...p5,...x5};const g5=/[^ ]+/g;function y5(e=1,t=3){const r=new Map,s=Math.pow(10,t);return{get(n){const a=n.match(g5).length;if(r.has(a))return r.get(a);const i=1/Math.pow(a,.5*e),l=parseFloat(Math.round(i*s)/s);return r.set(a,l),l},clear(){r.clear()}}}let Ig=class{constructor({getFn:t=We.getFn,fieldNormWeight:r=We.fieldNormWeight}={}){this.norm=y5(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,s)=>{this._keysMap[r.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,xn(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();xn(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,s=this.size();r<s;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!as(t)||Yh(t))return;let s={v:t,i:r,n:this.norm.get(t)};this.records.push(s)}_addObject(t,r){let s={i:r,$:{}};this.keys.forEach((n,a)=>{let i=n.getFn?n.getFn(t):this.getFn(t,n.path);if(as(i)){if(Zn(i)){let l=[];const u=[{nestedArrIndex:-1,value:i}];for(;u.length;){const{nestedArrIndex:c,value:d}=u.pop();if(as(d))if(xn(d)&&!Yh(d)){let f={v:d,i:c,n:this.norm.get(d)};l.push(f)}else Zn(d)&&d.forEach((f,h)=>{u.push({nestedArrIndex:h,value:f})})}s.$[a]=l}else if(xn(i)&&!Yh(i)){let l={v:i,n:this.norm.get(i)};s.$[a]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}};function U_(e,t,{getFn:r=We.getFn,fieldNormWeight:s=We.fieldNormWeight}={}){const n=new Ig({getFn:r,fieldNormWeight:s});return n.setKeys(e.map(z_)),n.setSources(t),n.create(),n}function v5(e,{getFn:t=We.getFn,fieldNormWeight:r=We.fieldNormWeight}={}){const{keys:s,records:n}=e,a=new Ig({getFn:t,fieldNormWeight:r});return a.setKeys(s),a.setIndexRecords(n),a}function Pd(e,{errors:t=0,currentLocation:r=0,expectedLocation:s=0,distance:n=We.distance,ignoreLocation:a=We.ignoreLocation}={}){const i=t/e.length;if(a)return i;const l=Math.abs(s-r);return n?i+l/n:l?1:i}function w5(e=[],t=We.minMatchCharLength){let r=[],s=-1,n=-1,a=0;for(let i=e.length;a<i;a+=1){let l=e[a];l&&s===-1?s=a:!l&&s!==-1&&(n=a-1,n-s+1>=t&&r.push([s,n]),s=-1)}return e[a-1]&&a-s>=t&&r.push([s,a-1]),r}const pi=32;function k5(e,t,r,{location:s=We.location,distance:n=We.distance,threshold:a=We.threshold,findAllMatches:i=We.findAllMatches,minMatchCharLength:l=We.minMatchCharLength,includeMatches:u=We.includeMatches,ignoreLocation:c=We.ignoreLocation}={}){if(t.length>pi)throw new Error(l5(pi));const d=t.length,f=e.length,h=Math.max(0,Math.min(s,f));let p=a,m=h;const x=l>1||u,y=x?Array(f):[];let g;for(;(g=e.indexOf(t,m))>-1;){let _=Pd(t,{currentLocation:g,expectedLocation:h,distance:n,ignoreLocation:c});if(p=Math.min(_,p),m=g+d,x){let S=0;for(;S<d;)y[g+S]=1,S+=1}}m=-1;let v=[],w=1,b=d+f;const D=1<<d-1;for(let _=0;_<d;_+=1){let S=0,k=b;for(;S<k;)Pd(t,{errors:_,currentLocation:h+k,expectedLocation:h,distance:n,ignoreLocation:c})<=p?S=k:b=k,k=Math.floor((b-S)/2+S);b=k;let N=Math.max(1,h-k+1),C=i?f:Math.min(h+k,f)+d,E=Array(C+2);E[C+1]=(1<<_)-1;for(let Q=C;Q>=N;Q-=1){let Y=Q-1,X=r[e.charAt(Y)];if(x&&(y[Y]=+!!X),E[Q]=(E[Q+1]<<1|1)&X,_&&(E[Q]|=(v[Q+1]|v[Q])<<1|1|v[Q+1]),E[Q]&D&&(w=Pd(t,{errors:_,currentLocation:Y,expectedLocation:h,distance:n,ignoreLocation:c}),w<=p)){if(p=w,m=Y,m<=h)break;N=Math.max(1,2*h-m)}}if(Pd(t,{errors:_+1,currentLocation:h,expectedLocation:h,distance:n,ignoreLocation:c})>p)break;v=E}const A={isMatch:m>=0,score:Math.max(.001,w)};if(x){const _=w5(y,l);_.length?u&&(A.indices=_):A.isMatch=!1}return A}function S5(e){let t={};for(let r=0,s=e.length;r<s;r+=1){const n=e.charAt(r);t[n]=(t[n]||0)|1<<s-r-1}return t}const sf=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;let $_=class{constructor(t,{location:r=We.location,threshold:s=We.threshold,distance:n=We.distance,includeMatches:a=We.includeMatches,findAllMatches:i=We.findAllMatches,minMatchCharLength:l=We.minMatchCharLength,isCaseSensitive:u=We.isCaseSensitive,ignoreDiacritics:c=We.ignoreDiacritics,ignoreLocation:d=We.ignoreLocation}={}){if(this.options={location:r,threshold:s,distance:n,includeMatches:a,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:d},t=u?t:t.toLowerCase(),t=c?sf(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(p,m)=>{this.chunks.push({pattern:p,alphabet:S5(p),startIndex:m})},h=this.pattern.length;if(h>pi){let p=0;const m=h%pi,x=h-m;for(;p<x;)f(this.pattern.substr(p,pi),p),p+=pi;if(m){const y=h-pi;f(this.pattern.substr(y),y)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:s,includeMatches:n}=this.options;if(t=r?t:t.toLowerCase(),t=s?sf(t):t,this.pattern===t){let x={isMatch:!0,score:0};return n&&(x.indices=[[0,t.length-1]]),x}const{location:a,distance:i,threshold:l,findAllMatches:u,minMatchCharLength:c,ignoreLocation:d}=this.options;let f=[],h=0,p=!1;this.chunks.forEach(({pattern:x,alphabet:y,startIndex:g})=>{const{isMatch:v,score:w,indices:b}=k5(t,x,y,{location:a+g,distance:i,threshold:l,findAllMatches:u,minMatchCharLength:c,includeMatches:n,ignoreLocation:d});v&&(p=!0),h+=w,v&&b&&(f=[...f,...b])});let m={isMatch:p,score:p?h/this.chunks.length:1};return p&&n&&(m.indices=f),m}},oi=class{constructor(t){this.pattern=t}static isMultiMatch(t){return e2(t,this.multiRegex)}static isSingleMatch(t){return e2(t,this.singleRegex)}search(){}};function e2(e,t){const r=e.match(t);return r?r[1]:null}let b5=class extends oi{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},_5=class extends oi{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}},E5=class extends oi{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},N5=class extends oi{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}},C5=class extends oi{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},T5=class extends oi{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}},V_=class extends oi{constructor(t,{location:r=We.location,threshold:s=We.threshold,distance:n=We.distance,includeMatches:a=We.includeMatches,findAllMatches:i=We.findAllMatches,minMatchCharLength:l=We.minMatchCharLength,isCaseSensitive:u=We.isCaseSensitive,ignoreDiacritics:c=We.ignoreDiacritics,ignoreLocation:d=We.ignoreLocation}={}){super(t),this._bitapSearch=new $_(t,{location:r,threshold:s,distance:n,includeMatches:a,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}},H_=class extends oi{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,s;const n=[],a=this.pattern.length;for(;(s=t.indexOf(this.pattern,r))>-1;)r=s+a,n.push([s,r-1]);const i=!!n.length;return{isMatch:i,score:i?0:1,indices:n}}};const Mp=[b5,H_,E5,N5,T5,C5,_5,V_],t2=Mp.length,A5=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,j5="|";function F5(e,t={}){return e.split(j5).map(r=>{let s=r.trim().split(A5).filter(a=>a&&!!a.trim()),n=[];for(let a=0,i=s.length;a<i;a+=1){const l=s[a];let u=!1,c=-1;for(;!u&&++c<t2;){const d=Mp[c];let f=d.isMultiMatch(l);f&&(n.push(new d(f,t)),u=!0)}if(!u)for(c=-1;++c<t2;){const d=Mp[c];let f=d.isSingleMatch(l);if(f){n.push(new d(f,t));break}}}return n})}const R5=new Set([V_.type,H_.type]);let D5=class{constructor(t,{isCaseSensitive:r=We.isCaseSensitive,ignoreDiacritics:s=We.ignoreDiacritics,includeMatches:n=We.includeMatches,minMatchCharLength:a=We.minMatchCharLength,ignoreLocation:i=We.ignoreLocation,findAllMatches:l=We.findAllMatches,location:u=We.location,threshold:c=We.threshold,distance:d=We.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:s,includeMatches:n,minMatchCharLength:a,findAllMatches:l,ignoreLocation:i,location:u,threshold:c,distance:d},t=r?t:t.toLowerCase(),t=s?sf(t):t,this.pattern=t,this.query=F5(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:n,ignoreDiacritics:a}=this.options;t=n?t:t.toLowerCase(),t=a?sf(t):t;let i=0,l=[],u=0;for(let c=0,d=r.length;c<d;c+=1){const f=r[c];l.length=0,i=0;for(let h=0,p=f.length;h<p;h+=1){const m=f[h],{isMatch:x,indices:y,score:g}=m.search(t);if(x){if(i+=1,u+=g,s){const v=m.constructor.type;R5.has(v)?l=[...l,...y]:l.push(y)}}else{u=0,i=0,l.length=0;break}}if(i){let h={isMatch:!0,score:u/i};return s&&(h.indices=l),h}}return{isMatch:!1,score:1}}};const Lp=[];function P5(...e){Lp.push(...e)}function Bp(e,t){for(let r=0,s=Lp.length;r<s;r+=1){let n=Lp[r];if(n.condition(e,t))return new n(e,t)}return new $_(e,t)}const nf={AND:"$and",OR:"$or"},zp={PATH:"$path",PATTERN:"$val"},Up=e=>!!(e[nf.AND]||e[nf.OR]),O5=e=>!!e[zp.PATH],I5=e=>!Zn(e)&&L_(e)&&!Up(e),r2=e=>({[nf.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function W_(e,t,{auto:r=!0}={}){const s=n=>{let a=Object.keys(n);const i=O5(n);if(!i&&a.length>1&&!Up(n))return s(r2(n));if(I5(n)){const u=i?n[zp.PATH]:a[0],c=i?n[zp.PATTERN]:n[u];if(!xn(c))throw new Error(o5(u));const d={keyId:Ip(u),pattern:c};return r&&(d.searcher=Bp(c,t)),d}let l={children:[],operator:a[0]};return a.forEach(u=>{const c=n[u];Zn(c)&&c.forEach(d=>{l.children.push(s(d))})}),l};return Up(e)||(e=r2(e)),s(e)}function M5(e,{ignoreFieldNorm:t=We.ignoreFieldNorm}){e.forEach(r=>{let s=1;r.matches.forEach(({key:n,norm:a,score:i})=>{const l=n?n.weight:null;s*=Math.pow(i===0&&l?Number.EPSILON:i,(l||1)*(t?1:a))}),r.score=s})}function L5(e,t){const r=e.matches;t.matches=[],as(r)&&r.forEach(s=>{if(!as(s.indices)||!s.indices.length)return;const{indices:n,value:a}=s;let i={indices:n,value:a};s.key&&(i.key=s.key.src),s.idx>-1&&(i.refIndex=s.idx),t.matches.push(i)})}function B5(e,t){t.score=e.score}function z5(e,t,{includeMatches:r=We.includeMatches,includeScore:s=We.includeScore}={}){const n=[];return r&&n.push(L5),s&&n.push(B5),e.map(a=>{const{idx:i}=a,l={item:t[i],refIndex:i};return n.length&&n.forEach(u=>{u(a,l)}),l})}let Pl=class{constructor(t,r={},s){this.options={...We,...r},this.options.useExtendedSearch,this._keyStore=new d5(this.options.keys),this.setCollection(t,s)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof Ig))throw new Error(i5);this._myIndex=r||U_(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){as(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let s=0,n=this._docs.length;s<n;s+=1){const a=this._docs[s];t(a,s)&&(this.removeAt(s),s-=1,n-=1,r.push(a))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:s,includeScore:n,shouldSort:a,sortFn:i,ignoreFieldNorm:l}=this.options;let u=xn(t)?xn(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return M5(u,{ignoreFieldNorm:l}),a&&u.sort(i),M_(r)&&r>-1&&(u=u.slice(0,r)),z5(u,this._docs,{includeMatches:s,includeScore:n})}_searchStringList(t){const r=Bp(t,this.options),{records:s}=this._myIndex,n=[];return s.forEach(({v:a,i,n:l})=>{if(!as(a))return;const{isMatch:u,score:c,indices:d}=r.searchIn(a);u&&n.push({item:a,idx:i,matches:[{score:c,value:a,norm:l,indices:d}]})}),n}_searchLogical(t){const r=W_(t,this.options),s=(l,u,c)=>{if(!l.children){const{keyId:f,searcher:h}=l,p=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(u,f),searcher:h});return p&&p.length?[{idx:c,item:u,matches:p}]:[]}const d=[];for(let f=0,h=l.children.length;f<h;f+=1){const p=l.children[f],m=s(p,u,c);if(m.length)d.push(...m);else if(l.operator===nf.AND)return[]}return d},n=this._myIndex.records,a={},i=[];return n.forEach(({$:l,i:u})=>{if(as(l)){let c=s(r,l,u);c.length&&(a[u]||(a[u]={idx:u,item:l,matches:[]},i.push(a[u])),c.forEach(({matches:d})=>{a[u].matches.push(...d)}))}}),i}_searchObjectList(t){const r=Bp(t,this.options),{keys:s,records:n}=this._myIndex,a=[];return n.forEach(({$:i,i:l})=>{if(!as(i))return;let u=[];s.forEach((c,d)=>{u.push(...this._findMatches({key:c,value:i[d],searcher:r}))}),u.length&&a.push({idx:l,item:i,matches:u})}),a}_findMatches({key:t,value:r,searcher:s}){if(!as(r))return[];let n=[];if(Zn(r))r.forEach(({v:a,i,n:l})=>{if(!as(a))return;const{isMatch:u,score:c,indices:d}=s.searchIn(a);u&&n.push({score:c,key:t,value:a,idx:i,norm:l,indices:d})});else{const{v:a,n:i}=r,{isMatch:l,score:u,indices:c}=s.searchIn(a);l&&n.push({score:u,key:t,value:a,norm:i,indices:c})}return n}};Pl.version="7.1.0";Pl.createIndex=U_;Pl.parseIndex=v5;Pl.config=We;Pl.parseQuery=W_;P5(D5);class U5{constructor(t,r={}){this.originalData=t;const s={threshold:.3,distance:100,minMatchCharLength:2,findAllMatches:!1,includeScore:!0,includeMatches:!0,shouldSort:!0,...r};this.options=s,this.fuse=new Pl(t,s)}search(t){return!t||t.length<2?this.originalData.map(s=>({item:s})):this.fuse.search(t).map(s=>({item:s.item,score:s.score,matches:s.matches}))}setData(t){this.originalData=t,this.fuse.setCollection(t)}addItems(t){this.originalData=[...this.originalData,...t],this.fuse.setCollection(this.originalData)}removeItems(t){this.originalData=this.originalData.filter(r=>!t(r)),this.fuse.setCollection(this.originalData)}getAllData(){return this.originalData}getStats(){return{totalItems:this.originalData.length,searchKeys:this.options.keys,threshold:this.options.threshold}}}function $5(e,t={}){return new U5(e,t)}const s2={strict:{threshold:.2,distance:50,minMatchCharLength:3},balanced:{threshold:.3,distance:100,minMatchCharLength:2},lenient:{threshold:.6,distance:200,minMatchCharLength:1},exactWithTypos:{threshold:.1,distance:20,minMatchCharLength:3,findAllMatches:!0}};function V5(e,t={}){const{debounceMs:r=300,minQueryLength:s=2,preset:n,...a}=t,i=F.useMemo(()=>n&&s2[n]?{...s2[n],...a}:a,[n,a]),[l,u]=F.useState(""),[c,d]=F.useState(""),[f,h]=F.useState(!1),[p,m]=F.useState(e),x=F.useMemo(()=>$5(p,i),[p,i]);F.useEffect(()=>{if(l.length===0){d(""),h(!1);return}if(l.length<s){d(""),h(!1);return}h(!0);const k=setTimeout(()=>{d(l),h(!1)},r);return()=>clearTimeout(k)},[l,r,s]);const y=F.useMemo(()=>!c||c.length<s?p.map(k=>({item:k})):x.search(c),[c,x,p,s]),g=y.length,v=g>0,w=F.useCallback(k=>{u(k)},[]),b=F.useCallback(()=>{u(""),d(""),h(!1)},[]),D=F.useCallback(k=>{m(k)},[]),A=F.useCallback(k=>{m(N=>[...N,...k])},[]),_=F.useCallback(k=>{m(N=>N.filter(C=>!k(C)))},[]),S=F.useMemo(()=>x.getStats(),[x]);return{results:y,query:l,setQuery:w,isSearching:f,totalResults:g,hasResults:v,clearSearch:b,setData:D,addItems:A,removeItems:_,stats:S}}var K_={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,s)=>{e.exports=s()})(Vw,function r(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},n,a=!s.document&&!!s.postMessage,i=s.IS_PAPA_WORKER||!1,l={},u=0,c={};function d(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var N=D(k);N.chunkSize=parseInt(N.chunkSize),k.step||k.chunk||(N.chunkSize=null),this._handle=new x(N),(this._handle.streamer=this)._config=N}).call(this,S),this.parseChunk=function(k,N){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let M=this._config.newline;M||(E=this._config.quoteChar||'"',M=this._handle.guessLineEndings(k,E)),k=[...k.split(M).slice(C)].join(M)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(E=this._config.beforeFirstChunk(k))!==void 0&&(k=E),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+k,E=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=E.meta.cursor,C=(this._finished||(this._partialLine=C.substring(k-this._baseIndex),this._baseIndex=k),E&&E.data&&(this._rowCount+=E.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)s.postMessage({results:E,workerId:c.WORKER_ID,finished:C});else if(_(this._config.chunk)&&!N){if(this._config.chunk(E,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=E=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(E.data),this._completeResults.errors=this._completeResults.errors.concat(E.errors),this._completeResults.meta=E.meta),this._completed||!C||!_(this._config.complete)||E&&E.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||E&&E.meta.paused||this._nextChunk(),E}this._halted=!0},this._sendError=function(k){_(this._config.error)?this._config.error(k):i&&this._config.error&&s.postMessage({workerId:c.WORKER_ID,error:k,finished:!1})}}function f(S){var k;(S=S||{}).chunkSize||(S.chunkSize=c.RemoteChunkSize),d.call(this,S),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),a||(k.onload=A(this._chunkLoaded,this),k.onerror=A(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var N,C=this._config.downloadRequestHeaders;for(N in C)k.setRequestHeader(N,C[N])}var E;this._config.chunkSize&&(E=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+E));try{k.send(this._config.downloadRequestBody)}catch(M){this._chunkError(M.message)}a&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(N=>(N=N.getResponseHeader("Content-Range"))!==null?parseInt(N.substring(N.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(N){N=k.statusText||N,this._sendError(new Error(N))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=c.LocalChunkSize),d.call(this,S);var k,N,C=typeof FileReader<"u";this.stream=function(E){this._input=E,N=E.slice||E.webkitSlice||E.mozSlice,C?((k=new FileReader).onload=A(this._chunkLoaded,this),k.onerror=A(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var E=this._input,M=(this._config.chunkSize&&(M=Math.min(this._start+this._config.chunkSize,this._input.size),E=N.call(E,this._start,M)),k.readAsText(E,this._config.encoding));C||this._chunkLoaded({target:{result:M}})},this._chunkLoaded=function(E){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(E.target.result)},this._chunkError=function(){this._sendError(k.error)}}function p(S){var k;d.call(this,S=S||{}),this.stream=function(N){return k=N,this._nextChunk()},this._nextChunk=function(){var N,C;if(!this._finished)return N=this._config.chunkSize,k=N?(C=k.substring(0,N),k.substring(N)):(C=k,""),this._finished=!k,this.parseChunk(C)}}function m(S){d.call(this,S=S||{});var k=[],N=!0,C=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(E){this._input=E,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):N=!0},this._streamData=A(function(E){try{k.push(typeof E=="string"?E:E.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(M){this._streamError(M)}},this),this._streamError=A(function(E){this._streamCleanUp(),this._sendError(E)},this),this._streamEnd=A(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=A(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(S){var k,N,C,E,M=Math.pow(2,53),Q=-M,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ee=this,te=0,R=0,se=!1,U=!1,T=[],j={data:[],errors:[],meta:{}};function L(ne){return S.skipEmptyLines==="greedy"?ne.join("").trim()==="":ne.length===1&&ne[0].length===0}function z(){if(j&&C&&(J("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),C=!1),S.skipEmptyLines&&(j.data=j.data.filter(function(O){return!L(O)})),I()){let O=function(we,Se){_(S.transformHeader)&&(we=S.transformHeader(we,Se)),T.push(we)};var q=O;if(j)if(Array.isArray(j.data[0])){for(var ne=0;I()&&ne<j.data.length;ne++)j.data[ne].forEach(O);j.data.splice(0,1)}else j.data.forEach(O)}function re(O,we){for(var Se=S.header?{}:[],be=0;be<O.length;be++){var ge=be,ve=O[be],ve=((Ne,Re)=>(H=>(S.dynamicTypingFunction&&S.dynamicTyping[H]===void 0&&(S.dynamicTyping[H]=S.dynamicTypingFunction(H)),(S.dynamicTyping[H]||S.dynamicTyping)===!0))(Ne)?Re==="true"||Re==="TRUE"||Re!=="false"&&Re!=="FALSE"&&((H=>{if(Y.test(H)&&(H=parseFloat(H),Q<H&&H<M))return 1})(Re)?parseFloat(Re):X.test(Re)?new Date(Re):Re===""?null:Re):Re)(ge=S.header?be>=T.length?"__parsed_extra":T[be]:ge,ve=S.transform?S.transform(ve,ge):ve);ge==="__parsed_extra"?(Se[ge]=Se[ge]||[],Se[ge].push(ve)):Se[ge]=ve}return S.header&&(be>T.length?J("FieldMismatch","TooManyFields","Too many fields: expected "+T.length+" fields but parsed "+be,R+we):be<T.length&&J("FieldMismatch","TooFewFields","Too few fields: expected "+T.length+" fields but parsed "+be,R+we)),Se}var ae;j&&(S.header||S.dynamicTyping||S.transform)&&(ae=1,!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(re),ae=j.data.length):j.data=re(j.data,0),S.header&&j.meta&&(j.meta.fields=T),R+=ae)}function I(){return S.header&&T.length===0}function J(ne,re,ae,q){ne={type:ne,code:re,message:ae},q!==void 0&&(ne.row=q),j.errors.push(ne)}_(S.step)&&(E=S.step,S.step=function(ne){j=ne,I()?z():(z(),j.data.length!==0&&(te+=ne.data.length,S.preview&&te>S.preview?N.abort():(j.data=j.data[0],E(j,ee))))}),this.parse=function(ne,re,ae){var q=S.quoteChar||'"',q=(S.newline||(S.newline=this.guessLineEndings(ne,q)),C=!1,S.delimiter?_(S.delimiter)&&(S.delimiter=S.delimiter(ne),j.meta.delimiter=S.delimiter):((q=((O,we,Se,be,ge)=>{var ve,Ne,Re,H;ge=ge||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var ie=0;ie<ge.length;ie++){for(var oe,ye=ge[ie],he=0,pe=0,ke=0,Me=(Re=void 0,new g({comments:be,delimiter:ye,newline:we,preview:10}).parse(O)),ze=0;ze<Me.data.length;ze++)Se&&L(Me.data[ze])?ke++:(oe=Me.data[ze].length,pe+=oe,Re===void 0?Re=oe:0<oe&&(he+=Math.abs(oe-Re),Re=oe));0<Me.data.length&&(pe/=Me.data.length-ke),(Ne===void 0||he<=Ne)&&(H===void 0||H<pe)&&1.99<pe&&(Ne=he,ve=ye,H=pe)}return{successful:!!(S.delimiter=ve),bestDelimiter:ve}})(ne,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=q.bestDelimiter:(C=!0,S.delimiter=c.DefaultDelimiter),j.meta.delimiter=S.delimiter),D(S));return S.preview&&S.header&&q.preview++,k=ne,N=new g(q),j=N.parse(k,re,ae),z(),se?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,N.abort(),k=_(S.chunk)?"":k.substring(N.getCharIndex())},this.resume=function(){ee.streamer._halted?(se=!1,ee.streamer.parseChunk(k,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,N.abort(),j.meta.aborted=!0,_(S.complete)&&S.complete(j),k=""},this.guessLineEndings=function(O,q){O=O.substring(0,1048576);var q=new RegExp(y(q)+"([^]*?)"+y(q),"gm"),ae=(O=O.replace(q,"")).split("\r"),q=O.split(`
`),O=1<q.length&&q[0].length<ae[0].length;if(ae.length===1||O)return`
`;for(var we=0,Se=0;Se<ae.length;Se++)ae[Se][0]===`
`&&we++;return we>=ae.length/2?`\r
`:"\r"}}function y(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(S){var k=(S=S||{}).delimiter,N=S.newline,C=S.comments,E=S.step,M=S.preview,Q=S.fastMode,Y=null,X=!1,ee=S.quoteChar==null?'"':S.quoteChar,te=ee;if(S.escapeChar!==void 0&&(te=S.escapeChar),(typeof k!="string"||-1<c.BAD_DELIMITERS.indexOf(k))&&(k=","),C===k)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=!1),N!==`
`&&N!=="\r"&&N!==`\r
`&&(N=`
`);var R=0,se=!1;this.parse=function(U,T,j){if(typeof U!="string")throw new Error("Input must be a string");var L=U.length,z=k.length,I=N.length,J=C.length,ne=_(E),re=[],ae=[],q=[],O=R=0;if(!U)return he();if(Q||Q!==!1&&U.indexOf(ee)===-1){for(var we=U.split(N),Se=0;Se<we.length;Se++){if(q=we[Se],R+=q.length,Se!==we.length-1)R+=N.length;else if(j)return he();if(!C||q.substring(0,J)!==C){if(ne){if(re=[],H(q.split(k)),pe(),se)return he()}else H(q.split(k));if(M&&M<=Se)return re=re.slice(0,M),he(!0)}}return he()}for(var be=U.indexOf(k,R),ge=U.indexOf(N,R),ve=new RegExp(y(te)+y(ee),"g"),Ne=U.indexOf(ee,R);;)if(U[R]===ee)for(Ne=R,R++;;){if((Ne=U.indexOf(ee,Ne+1))===-1)return j||ae.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:re.length,index:R}),oe();if(Ne===L-1)return oe(U.substring(R,Ne).replace(ve,ee));if(ee===te&&U[Ne+1]===te)Ne++;else if(ee===te||Ne===0||U[Ne-1]!==te){be!==-1&&be<Ne+1&&(be=U.indexOf(k,Ne+1));var Re=ie((ge=ge!==-1&&ge<Ne+1?U.indexOf(N,Ne+1):ge)===-1?be:Math.min(be,ge));if(U.substr(Ne+1+Re,z)===k){q.push(U.substring(R,Ne).replace(ve,ee)),U[R=Ne+1+Re+z]!==ee&&(Ne=U.indexOf(ee,R)),be=U.indexOf(k,R),ge=U.indexOf(N,R);break}if(Re=ie(ge),U.substring(Ne+1+Re,Ne+1+Re+I)===N){if(q.push(U.substring(R,Ne).replace(ve,ee)),ye(Ne+1+Re+I),be=U.indexOf(k,R),Ne=U.indexOf(ee,R),ne&&(pe(),se))return he();if(M&&re.length>=M)return he(!0);break}ae.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:re.length,index:R}),Ne++}}else if(C&&q.length===0&&U.substring(R,R+J)===C){if(ge===-1)return he();R=ge+I,ge=U.indexOf(N,R),be=U.indexOf(k,R)}else if(be!==-1&&(be<ge||ge===-1))q.push(U.substring(R,be)),R=be+z,be=U.indexOf(k,R);else{if(ge===-1)break;if(q.push(U.substring(R,ge)),ye(ge+I),ne&&(pe(),se))return he();if(M&&re.length>=M)return he(!0)}return oe();function H(ke){re.push(ke),O=R}function ie(ke){var Me=0;return Me=ke!==-1&&(ke=U.substring(Ne+1,ke))&&ke.trim()===""?ke.length:Me}function oe(ke){return j||(ke===void 0&&(ke=U.substring(R)),q.push(ke),R=L,H(q),ne&&pe()),he()}function ye(ke){R=ke,H(q),q=[],ge=U.indexOf(N,R)}function he(ke){if(S.header&&!T&&re.length&&!X){var Me=re[0],ze=Object.create(null),xt=new Set(Me);let Ve=!1;for(let Ge=0;Ge<Me.length;Ge++){let nt=Me[Ge];if(ze[nt=_(S.transformHeader)?S.transformHeader(nt,Ge):nt]){let at,lr=ze[nt];for(;at=nt+"_"+lr,lr++,xt.has(at););xt.add(at),Me[Ge]=at,ze[nt]++,Ve=!0,(Y=Y===null?{}:Y)[at]=nt}else ze[nt]=1,Me[Ge]=nt;xt.add(nt)}Ve&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:re,errors:ae,meta:{delimiter:k,linebreak:N,aborted:se,truncated:!!ke,cursor:O+(T||0),renamedHeaders:Y}}}function pe(){E(he()),re=[],ae=[]}},this.abort=function(){se=!0},this.getCharIndex=function(){return R}}function v(S){var k=S.data,N=l[k.workerId],C=!1;if(k.error)N.userError(k.error,k.file);else if(k.results&&k.results.data){var E={abort:function(){C=!0,w(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(_(N.userStep)){for(var M=0;M<k.results.data.length&&(N.userStep({data:k.results.data[M],errors:k.results.errors,meta:k.results.meta},E),!C);M++);delete k.results}else _(N.userChunk)&&(N.userChunk(k.results,E,k.file),delete k.results)}k.finished&&!C&&w(k.workerId,k.results)}function w(S,k){var N=l[S];_(N.userComplete)&&N.userComplete(k),N.terminate(),delete l[S]}function b(){throw new Error("Not implemented.")}function D(S){if(typeof S!="object"||S===null)return S;var k,N=Array.isArray(S)?[]:{};for(k in S)N[k]=D(S[k]);return N}function A(S,k){return function(){S.apply(k,arguments)}}function _(S){return typeof S=="function"}return c.parse=function(S,k){var N=(k=k||{}).dynamicTyping||!1;if(_(N)&&(k.dynamicTypingFunction=N,N={}),k.dynamicTyping=N,k.transform=!!_(k.transform)&&k.transform,!k.worker||!c.WORKERS_SUPPORTED)return N=null,c.NODE_STREAM_INPUT,typeof S=="string"?(S=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(S),N=new(k.download?f:p)(k)):S.readable===!0&&_(S.read)&&_(S.on)?N=new m(k):(s.File&&S instanceof File||S instanceof Object)&&(N=new h(k)),N.stream(S);(N=(()=>{var C;return!!c.WORKERS_SUPPORTED&&(C=(()=>{var E=s.URL||s.webkitURL||null,M=r.toString();return c.BLOB_URL||(c.BLOB_URL=E.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))})(),(C=new s.Worker(C)).onmessage=v,C.id=u++,l[C.id]=C)})()).userStep=k.step,N.userChunk=k.chunk,N.userComplete=k.complete,N.userError=k.error,k.step=_(k.step),k.chunk=_(k.chunk),k.complete=_(k.complete),k.error=_(k.error),delete k.worker,N.postMessage({input:S,config:k,workerId:N.id})},c.unparse=function(S,k){var N=!1,C=!0,E=",",M=`\r
`,Q='"',Y=Q+Q,X=!1,ee=null,te=!1,R=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||c.BAD_DELIMITERS.filter(function(T){return k.delimiter.indexOf(T)!==-1}).length||(E=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(N=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(X=k.skipEmptyLines),typeof k.newline=="string"&&(M=k.newline),typeof k.quoteChar=="string"&&(Q=k.quoteChar),typeof k.header=="boolean"&&(C=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");ee=k.columns}k.escapeChar!==void 0&&(Y=k.escapeChar+Q),k.escapeFormulae instanceof RegExp?te=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(te=/^[=+\-@\t\r].*$/)}})(),new RegExp(y(Q),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return se(null,S,X);if(typeof S[0]=="object")return se(ee||Object.keys(S[0]),S,X)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||ee),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),se(S.fields||[],S.data||[],X);throw new Error("Unable to serialize unrecognized input");function se(T,j,L){var z="",I=(typeof T=="string"&&(T=JSON.parse(T)),typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(T)&&0<T.length),J=!Array.isArray(j[0]);if(I&&C){for(var ne=0;ne<T.length;ne++)0<ne&&(z+=E),z+=U(T[ne],ne);0<j.length&&(z+=M)}for(var re=0;re<j.length;re++){var ae=(I?T:j[re]).length,q=!1,O=I?Object.keys(j[re]).length===0:j[re].length===0;if(L&&!I&&(q=L==="greedy"?j[re].join("").trim()==="":j[re].length===1&&j[re][0].length===0),L==="greedy"&&I){for(var we=[],Se=0;Se<ae;Se++){var be=J?T[Se]:Se;we.push(j[re][be])}q=we.join("").trim()===""}if(!q){for(var ge=0;ge<ae;ge++){0<ge&&!O&&(z+=E);var ve=I&&J?T[ge]:ge;z+=U(j[re][ve],ge)}re<j.length-1&&(!L||0<ae&&!O)&&(z+=M)}}return z}function U(T,j){var L,z;return T==null?"":T.constructor===Date?JSON.stringify(T).slice(1,25):(z=!1,te&&typeof T=="string"&&te.test(T)&&(T="'"+T,z=!0),L=T.toString().replace(R,Y),(z=z||N===!0||typeof N=="function"&&N(T,j)||Array.isArray(N)&&N[j]||((I,J)=>{for(var ne=0;ne<J.length;ne++)if(-1<I.indexOf(J[ne]))return!0;return!1})(L,c.BAD_DELIMITERS)||-1<L.indexOf(E)||L.charAt(0)===" "||L.charAt(L.length-1)===" ")?Q+L+Q:L)}},c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!s.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=g,c.ParserHandle=x,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,s.jQuery&&((n=s.jQuery).fn.parse=function(S){var k=S.config||{},N=[];return this.each(function(M){if(!(n(this).prop("tagName").toUpperCase()==="INPUT"&&n(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var Q=0;Q<this.files.length;Q++)N.push({file:this.files[Q],inputElem:this,instanceConfig:n.extend({},k)})}),C(),this;function C(){if(N.length===0)_(S.complete)&&S.complete();else{var M,Q,Y,X,ee=N[0];if(_(S.before)){var te=S.before(ee.file,ee.inputElem);if(typeof te=="object"){if(te.action==="abort")return M="AbortError",Q=ee.file,Y=ee.inputElem,X=te.reason,void(_(S.error)&&S.error({name:M},Q,Y,X));if(te.action==="skip")return void E();typeof te.config=="object"&&(ee.instanceConfig=n.extend(ee.instanceConfig,te.config))}else if(te==="skip")return void E()}var R=ee.instanceConfig.complete;ee.instanceConfig.complete=function(se){_(R)&&R(se,ee.file,ee.inputElem),E()},c.parse(ee.file,ee.instanceConfig)}}function E(){N.splice(0,1),C()}}),i&&(s.onmessage=function(S){S=S.data,c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string"?s.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0}):(s.File&&S.input instanceof File||S.input instanceof Object)&&(S=c.parse(S.input,S.config))&&s.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,c})})(K_);var H5=K_.exports;const W5=wf(H5);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var G_=1252,K5=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Mg={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Lg=function(e){K5.indexOf(e)!=-1&&(G_=Mg[0]=e)};function G5(){Lg(1252)}var Ys=function(e){Lg(e)};function q_(){Ys(1200),G5()}function n2(e){for(var t=[],r=0,s=e.length;r<s;++r)t[r]=e.charCodeAt(r);return t}function q5(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Y_(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var fc=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?q5(e.slice(2)):t==254&&r==255?Y_(e.slice(2)):t==65279?e.slice(1):e},Od=function(t){return String.fromCharCode(t)},a2=function(t){return String.fromCharCode(t)},ga,Da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i2(e){for(var t="",r=0,s=0,n=0,a=0,i=0,l=0,u=0,c=0;c<e.length;)r=e.charCodeAt(c++),a=r>>2,s=e.charCodeAt(c++),i=(r&3)<<4|s>>4,n=e.charCodeAt(c++),l=(s&15)<<2|n>>6,u=n&63,isNaN(s)?l=u=64:isNaN(n)&&(u=64),t+=Da.charAt(a)+Da.charAt(i)+Da.charAt(l)+Da.charAt(u);return t}function ps(e){var t="",r=0,s=0,n=0,a=0,i=0,l=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)a=Da.indexOf(e.charAt(c++)),i=Da.indexOf(e.charAt(c++)),r=a<<2|i>>4,t+=String.fromCharCode(r),l=Da.indexOf(e.charAt(c++)),s=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),u=Da.indexOf(e.charAt(c++)),n=(l&3)<<6|u,u!==64&&(t+=String.fromCharCode(n));return t}var ot=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),io=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ti(e){return ot?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function o2(e){return ot?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Gs=function(t){return ot?io(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function oo(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Bg(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Bg(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ya=ot?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:io(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var s=new Uint8Array(r),n=0;for(t=0,r=0;t<e.length;r+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),r)}return s}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Y5(e){for(var t=[],r=0,s=e.length+250,n=ti(e.length+255),a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i<128)n[r++]=i;else if(i<2048)n[r++]=192|i>>6&31,n[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++a)&1023;n[r++]=240|i>>8&7,n[r++]=128|i>>2&63,n[r++]=128|l>>6&15|(i&3)<<4,n[r++]=128|l&63}else n[r++]=224|i>>12&15,n[r++]=128|i>>6&63,n[r++]=128|i&63;r>s&&(t.push(n.slice(0,r)),r=0,n=ti(65535),s=65530)}return t.push(n.slice(0,r)),ya(t)}var Mr=/\u0000/g,hc=/[\u0001-\u0006]/g;function Ho(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Xs(e,t){var r=""+e;return r.length>=t?r:It("0",t-r.length)+r}function zg(e,t){var r=""+e;return r.length>=t?r:It(" ",t-r.length)+r}function af(e,t){var r=""+e;return r.length>=t?r:r+It(" ",t-r.length)}function X5(e,t){var r=""+Math.round(e);return r.length>=t?r:It("0",t-r.length)+r}function Q5(e,t){var r=""+e;return r.length>=t?r:It("0",t-r.length)+r}var l2=Math.pow(2,32);function po(e,t){if(e>l2||e<-l2)return X5(e,t);var r=Math.round(e);return Q5(r,t)}function of(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var c2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Xh=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Z5(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Je={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},u2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},J5={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function lf(e,t,r){for(var s=e<0?-1:1,n=e*s,a=0,i=1,l=0,u=1,c=0,d=0,f=Math.floor(n);c<t&&(f=Math.floor(n),l=f*i+a,d=f*c+u,!(n-f<5e-8));)n=1/(n-f),a=i,i=l,u=c,c=d;if(d>t&&(c>t?(d=u,l=a):(d=c,l=i)),!r)return[0,s*l,d];var h=Math.floor(s*l/d);return[h,s*l-h*d,d]}function Ei(e,t,r){if(e>2958465||e<0)return null;var s=e|0,n=Math.floor(86400*(e-s)),a=0,i=[],l={D:s,T:n,u:86400*(e-s)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++n==86400&&(l.T=n=0,++s,++l.D)),s===60)i=r?[1317,10,29]:[1900,2,29],a=3;else if(s===0)i=r?[1317,8,29]:[1900,1,0],a=6;else{s>60&&--s;var u=new Date(1900,0,1);u.setDate(u.getDate()+s-1),i=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),s<60&&(a=(a+6)%7),r&&(a=a6(u,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=n%60,n=Math.floor(n/60),l.M=n%60,n=Math.floor(n/60),l.H=n,l.q=a,l}var X_=new Date(1899,11,31,0,0,0),e6=X_.getTime(),t6=new Date(1900,2,1,0,0,0);function Q_(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=t6&&(r+=24*60*60*1e3),(r-(e6+(e.getTimezoneOffset()-X_.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Ug(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function r6(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function s6(e){var t=e<0?12:11,r=Ug(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function n6(e){var t=Ug(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function mu(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=s6(e):t===10?r=e.toFixed(10).substr(0,12):r=n6(e),Ug(r6(r.toUpperCase()))}function to(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):mu(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ds(14,Q_(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function a6(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function i6(e,t,r,s){var n="",a=0,i=0,l=r.y,u,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:u=l%100,c=2;break;default:u=l%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,c=t.length;break;case 3:return Xh[r.m-1][1];case 5:return Xh[r.m-1][0];default:return Xh[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,c=t.length;break;case 3:return c2[r.q][0];default:return c2[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Xs(r.S,t.length):(s>=2?i=s===3?1e3:100:i=s===1?10:1,a=Math.round(i*(r.S+r.u)),a>=60*i&&(a=0),t==="s"?a===0?"0":""+a/i:(n=Xs(a,2+s),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:u=l,c=1;break}var d=c>0?Xs(u,c):"";return d}function Pa(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,s=e.substr(0,r);r!=e.length;r+=t)s+=(s.length>0?",":"")+e.substr(r,t);return s}var Z_=/%/g;function o6(e,t,r){var s=t.replace(Z_,""),n=t.length-s.length;return Vn(e,s,r*Math.pow(10,2*n))+It("%",n)}function l6(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Vn(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function J_(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+J_(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%n;if(a<0&&(a+=n),r=(t/Math.pow(10,a)).toPrecision(s+1+(n+a)%n),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,c,d){return u+c+d.substr(0,(n+a)%n)+"."+d.substr(a)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var eE=/# (\?+)( ?)\/( ?)(\d+)/;function c6(e,t,r){var s=parseInt(e[4],10),n=Math.round(t*s),a=Math.floor(n/s),i=n-a*s,l=s;return r+(a===0?"":""+a)+" "+(i===0?It(" ",e[1].length+1+e[4].length):zg(i,e[1].length)+e[2]+"/"+e[3]+Xs(l,e[4].length))}function u6(e,t,r){return r+(t===0?"":""+t)+It(" ",e[1].length+2+e[4].length)}var tE=/^#*0*\.([0#]+)/,rE=/\).*[0#]/,sE=/\(###\) ###\\?-####/;function Dr(e){for(var t="",r,s=0;s!=e.length;++s)switch(r=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function d2(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function f2(e,t){var r=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(r*s)).length?0:Math.round(r*s)}function d6(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function f6(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ks(e,t,r){if(e.charCodeAt(0)===40&&!t.match(rE)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ks("n",s,r):"("+ks("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return l6(e,t,r);if(t.indexOf("%")!==-1)return o6(e,t,r);if(t.indexOf("E")!==-1)return J_(t,r);if(t.charCodeAt(0)===36)return"$"+ks(e,t.substr(t.charAt(1)==" "?2:1),r);var n,a,i,l,u=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+po(u,t.length);if(t.match(/^[#?]+$/))return n=po(r,0),n==="0"&&(n=""),n.length>t.length?n:Dr(t.substr(0,t.length-n.length))+n;if(a=t.match(eE))return c6(a,u,c);if(t.match(/^#+0+$/))return c+po(u,t.length-t.indexOf("0"));if(a=t.match(tE))return n=d2(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Dr(a[1])).replace(/\.$/,"."+Dr(a[1])).replace(/\.(\d*)$/,function(m,x){return"."+x+It("0",Dr(a[1]).length-x.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+d2(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+Pa(po(u,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ks(e,t,-r):Pa(""+(Math.floor(r)+d6(r,a[1].length)))+"."+Xs(f2(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return ks(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Ho(ks(e,t.replace(/[\\-]/g,""),r)),i=0,Ho(Ho(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<n.length?n.charAt(i++):m==="0"?"0":""}));if(t.match(sE))return n=ks(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),l=lf(u,Math.pow(10,i)-1,!1),n=""+c,d=Vn("n",a[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),n+=d+a[2]+"/"+a[3],d=af(l[2],i),d.length<a[4].length&&(d=Dr(a[4].substr(a[4].length-d.length))+d),n+=d,n;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),l=lf(u,Math.pow(10,i)-1,!0),c+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zg(l[1],i)+a[2]+"/"+a[3]+af(l[2],i):It(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return n=po(r,0),t.length<=n.length?n:Dr(t.substr(0,t.length-n.length))+n;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=n.indexOf(".");var f=t.indexOf(".")-i,h=t.length-n.length-f;return Dr(t.substr(0,f)+n+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return i=f2(r,a[1].length),r<0?"-"+ks(e,t,-r):Pa(f6(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Xs(0,3-m.length):"")+m})+"."+Xs(i,a[1].length);switch(t){case"###,##0.00":return ks(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Pa(po(u,0));return p!=="0"?c+p:"";case"###,###.00":return ks(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ks(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function h6(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Vn(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function m6(e,t,r){var s=t.replace(Z_,""),n=t.length-s.length;return Vn(e,s,r*Math.pow(10,2*n))+It("%",n)}function nE(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+nE(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%n;if(a<0&&(a+=n),r=(t/Math.pow(10,a)).toPrecision(s+1+(n+a)%n),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,c,d){return u+c+d.substr(0,(n+a)%n)+"."+d.substr(a)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function on(e,t,r){if(e.charCodeAt(0)===40&&!t.match(rE)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?on("n",s,r):"("+on("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return h6(e,t,r);if(t.indexOf("%")!==-1)return m6(e,t,r);if(t.indexOf("E")!==-1)return nE(t,r);if(t.charCodeAt(0)===36)return"$"+on(e,t.substr(t.charAt(1)==" "?2:1),r);var n,a,i,l,u=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Xs(u,t.length);if(t.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>t.length?n:Dr(t.substr(0,t.length-n.length))+n;if(a=t.match(eE))return u6(a,u,c);if(t.match(/^#+0+$/))return c+Xs(u,t.length-t.indexOf("0"));if(a=t.match(tE))return n=(""+r).replace(/^([^\.]+)$/,"$1."+Dr(a[1])).replace(/\.$/,"."+Dr(a[1])),n=n.replace(/\.(\d*)$/,function(m,x){return"."+x+It("0",Dr(a[1]).length-x.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+Pa(""+u);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+on(e,t,-r):Pa(""+r)+"."+It("0",a[1].length);if(a=t.match(/^#,#*,#0/))return on(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Ho(on(e,t.replace(/[\\-]/g,""),r)),i=0,Ho(Ho(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<n.length?n.charAt(i++):m==="0"?"0":""}));if(t.match(sE))return n=on(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),l=lf(u,Math.pow(10,i)-1,!1),n=""+c,d=Vn("n",a[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),n+=d+a[2]+"/"+a[3],d=af(l[2],i),d.length<a[4].length&&(d=Dr(a[4].substr(a[4].length-d.length))+d),n+=d,n;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),l=lf(u,Math.pow(10,i)-1,!0),c+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zg(l[1],i)+a[2]+"/"+a[3]+af(l[2],i):It(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return n=""+r,t.length<=n.length?n:Dr(t.substr(0,t.length-n.length))+n;if(a=t.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=n.indexOf(".");var f=t.indexOf(".")-i,h=t.length-n.length-f;return Dr(t.substr(0,f)+n+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+on(e,t,-r):Pa(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Xs(0,3-m.length):"")+m})+"."+Xs(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Pa(""+u);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return on(e,t.slice(0,t.lastIndexOf(".")),r)+Dr(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Vn(e,t,r){return(r|0)===r?on(e,t,r):ks(e,t,r)}function p6(e){for(var t=[],r=!1,s=0,n=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(n,s-n),n=s+1}if(t[t.length]=e.substr(n),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var aE=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ol(e){for(var t=0,r="",s="";t<e.length;)switch(r=e.charAt(t)){case"G":of(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=r;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(aE))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function x6(e,t,r,s){for(var n=[],a="",i=0,l="",u="t",c,d,f,h="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!of(e,i))throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"G",v:"General"},i+=7;break;case'"':for(a="";(f=e.charCodeAt(++i))!==34&&i<e.length;)a+=String.fromCharCode(f);n[n.length]={t:"t",v:a},++i;break;case"\\":var p=e.charAt(++i),m=p==="("||p===")"?p:"t";n[n.length]={t:m,v:p},++i;break;case"_":n[n.length]={t:"t",v:" "},i+=2;break;case"@":n[n.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(c==null&&(c=Ei(t,r,e.charAt(i+1)==="2"),c==null))return"";n[n.length]={t:"X",v:e.substr(i,2)},u=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Ei(t,r),c==null))return"";for(a=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)a+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),n[n.length]={t:l,v:a},u=l;break;case"A":case"a":case"":var x={t:l,v:l};if(c==null&&(c=Ei(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(c!=null&&(x.v=c.H>=12?"P":"A"),x.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(c!=null&&(x.v=c.H>=12?"PM":"AM"),x.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(c!=null&&(x.v=c.H>=12?"":""),x.t="T",i+=5,h="h"):(x.t="t",++i),c==null&&x.t==="T")return"";n[n.length]=x,u=l;break;case"[":for(a=l;e.charAt(i++)!=="]"&&i<e.length;)a+=e.charAt(i);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(aE)){if(c==null&&(c=Ei(t,r),c==null))return"";n[n.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ol(e)||(n[n.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=l;++i<e.length&&(l=e.charAt(i))==="0";)a+=l;n[n.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)a+=l;n[n.length]={t:"n",v:a};break;case"?":for(a=l;e.charAt(++i)===l;)a+=l;n[n.length]={t:l,v:a},u=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":n[n.length]={t:s===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)a+=e.charAt(i);n[n.length]={t:"D",v:a};break;case" ":n[n.length]={t:l,v:l},++i;break;case"$":n[n.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"t",v:l},++i;break}var y=0,g=0,v;for(i=n.length-1,u="t";i>=0;--i)switch(n[i].t){case"h":case"H":n[i].t=h,u="h",y<1&&(y=1);break;case"s":(v=n[i].v.match(/\.0+$/))&&(g=Math.max(g,v[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":u=n[i].t;break;case"m":u==="s"&&(n[i].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&n[i].v.match(/[Hh]/)&&(y=1),y<2&&n[i].v.match(/[Mm]/)&&(y=2),y<3&&n[i].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",b;for(i=0;i<n.length;++i)switch(n[i].t){case"t":case"T":case" ":case"D":break;case"X":n[i].v="",n[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[i].v=i6(n[i].t.charCodeAt(0),n[i].v,c,g),n[i].t="t";break;case"n":case"?":for(b=i+1;n[b]!=null&&((l=n[b].t)==="?"||l==="D"||(l===" "||l==="t")&&n[b+1]!=null&&(n[b+1].t==="?"||n[b+1].t==="t"&&n[b+1].v==="/")||n[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(n[b].v==="/"||n[b].v===" "&&n[b+1]!=null&&n[b+1].t=="?"));)n[i].v+=n[b].v,n[b]={v:"",t:";"},++b;w+=n[i].v,i=b-1;break;case"G":n[i].t="t",n[i].v=to(t,r);break}var D="",A,_;if(w.length>0){w.charCodeAt(0)==40?(A=t<0&&w.charCodeAt(0)===45?-t:t,_=Vn("n",w,A)):(A=t<0&&s>1?-t:t,_=Vn("n",w,A),A<0&&n[0]&&n[0].t=="t"&&(_=_.substr(1),n[0].v="-"+n[0].v)),b=_.length-1;var S=n.length;for(i=0;i<n.length;++i)if(n[i]!=null&&n[i].t!="t"&&n[i].v.indexOf(".")>-1){S=i;break}var k=n.length;if(S===n.length&&_.indexOf("E")===-1){for(i=n.length-1;i>=0;--i)n[i]==null||"n?".indexOf(n[i].t)===-1||(b>=n[i].v.length-1?(b-=n[i].v.length,n[i].v=_.substr(b+1,n[i].v.length)):b<0?n[i].v="":(n[i].v=_.substr(0,b+1),b=-1),n[i].t="t",k=i);b>=0&&k<n.length&&(n[k].v=_.substr(0,b+1)+n[k].v)}else if(S!==n.length&&_.indexOf("E")===-1){for(b=_.indexOf(".")-1,i=S;i>=0;--i)if(!(n[i]==null||"n?".indexOf(n[i].t)===-1)){for(d=n[i].v.indexOf(".")>-1&&i===S?n[i].v.indexOf(".")-1:n[i].v.length-1,D=n[i].v.substr(d+1);d>=0;--d)b>=0&&(n[i].v.charAt(d)==="0"||n[i].v.charAt(d)==="#")&&(D=_.charAt(b--)+D);n[i].v=D,n[i].t="t",k=i}for(b>=0&&k<n.length&&(n[k].v=_.substr(0,b+1)+n[k].v),b=_.indexOf(".")+1,i=S;i<n.length;++i)if(!(n[i]==null||"n?(".indexOf(n[i].t)===-1&&i!==S)){for(d=n[i].v.indexOf(".")>-1&&i===S?n[i].v.indexOf(".")+1:0,D=n[i].v.substr(0,d);d<n[i].v.length;++d)b<_.length&&(D+=_.charAt(b++));n[i].v=D,n[i].t="t",k=i}}}for(i=0;i<n.length;++i)n[i]!=null&&"n?".indexOf(n[i].t)>-1&&(A=s>1&&t<0&&i>0&&n[i-1].v==="-"?-t:t,n[i].v=Vn(n[i].t,n[i].v,A),n[i].t="t");var N="";for(i=0;i!==n.length;++i)n[i]!=null&&(N+=n[i].v);return N}var h2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function m2(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function g6(e,t){var r=p6(e),s=r.length,n=r[s-1].indexOf("@");if(s<4&&n>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(h2),l=r[1].match(h2);return m2(t,i)?[s,r[0]]:m2(t,l)?[s,r[1]]:[s,r[i!=null&&l!=null?2:1]]}return[s,a]}function Ds(e,t,r){r==null&&(r={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?s=r.dateNF:s=e;break;case"number":e==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Je)[e],s==null&&(s=r.table&&r.table[u2[e]]||Je[u2[e]]),s==null&&(s=J5[e]||"General");break}if(of(s,0))return to(t,r);t instanceof Date&&(t=Q_(t,r.date1904));var n=g6(s,t);if(of(n[1]))return to(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return x6(n[1],t,r,n[0])}function Ui(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Je[r]==null){t<0&&(t=r);continue}if(Je[r]==e){t=r;break}}t<0&&(t=391)}return Je[t]=e,t}function iE(){Je=Z5()}var y6={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},oE=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function v6(e){var t=typeof e=="number"?Je[e]:e;return t=t.replace(oE,"(\\d+)"),new RegExp("^"+t+"$")}function w6(e,t,r){var s=-1,n=-1,a=-1,i=-1,l=-1,u=-1;(t.match(oE)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=p;break;case"d":a=p;break;case"h":i=p;break;case"s":u=p;break;case"m":i>=0?l=p:n=p;break}}),u>=0&&l==-1&&n>=0&&(l=n,n=-1);var c=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return i==-1&&l==-1&&u==-1?c:s==-1&&n==-1&&a==-1?d:c+"T"+d}var k6=function(){var e={};e.version="1.2.0";function t(){for(var _=0,S=new Array(256),k=0;k!=256;++k)_=k,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,S[k]=_;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function s(_){var S=0,k=0,N=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)C[N]=_[N];for(N=0;N!=256;++N)for(k=_[N],S=256+N;S<4096;S+=256)k=C[S]=k>>>8^_[k&255];var E=[];for(N=1;N!=16;++N)E[N-1]=typeof Int32Array<"u"?C.subarray(N*256,N*256+256):C.slice(N*256,N*256+256);return E}var n=s(r),a=n[0],i=n[1],l=n[2],u=n[3],c=n[4],d=n[5],f=n[6],h=n[7],p=n[8],m=n[9],x=n[10],y=n[11],g=n[12],v=n[13],w=n[14];function b(_,S){for(var k=S^-1,N=0,C=_.length;N<C;)k=k>>>8^r[(k^_.charCodeAt(N++))&255];return~k}function D(_,S){for(var k=S^-1,N=_.length-15,C=0;C<N;)k=w[_[C++]^k&255]^v[_[C++]^k>>8&255]^g[_[C++]^k>>16&255]^y[_[C++]^k>>>24]^x[_[C++]]^m[_[C++]]^p[_[C++]]^h[_[C++]]^f[_[C++]]^d[_[C++]]^c[_[C++]]^u[_[C++]]^l[_[C++]]^i[_[C++]]^a[_[C++]]^r[_[C++]];for(N+=15;C<N;)k=k>>>8^r[(k^_[C++])&255];return~k}function A(_,S){for(var k=S^-1,N=0,C=_.length,E=0,M=0;N<C;)E=_.charCodeAt(N++),E<128?k=k>>>8^r[(k^E)&255]:E<2048?(k=k>>>8^r[(k^(192|E>>6&31))&255],k=k>>>8^r[(k^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,M=_.charCodeAt(N++)&1023,k=k>>>8^r[(k^(240|E>>8&7))&255],k=k>>>8^r[(k^(128|E>>2&63))&255],k=k>>>8^r[(k^(128|M>>6&15|(E&3)<<4))&255],k=k>>>8^r[(k^(128|M&63))&255]):(k=k>>>8^r[(k^(224|E>>12&15))&255],k=k>>>8^r[(k^(128|E>>6&63))&255],k=k>>>8^r[(k^(128|E&63))&255]);return~k}return e.table=r,e.bstr=b,e.buf=D,e.str=A,e}(),lt=function(){var t={};t.version="1.2.1";function r(P,W){for(var B=P.split("/"),V=W.split("/"),K=0,G=0,ce=Math.min(B.length,V.length);K<ce;++K){if(G=B[K].length-V[K].length)return G;if(B[K]!=V[K])return B[K]<V[K]?-1:1}return B.length-V.length}function s(P){if(P.charAt(P.length-1)=="/")return P.slice(0,-1).indexOf("/")===-1?P:s(P.slice(0,-1));var W=P.lastIndexOf("/");return W===-1?P:P.slice(0,W+1)}function n(P){if(P.charAt(P.length-1)=="/")return n(P.slice(0,-1));var W=P.lastIndexOf("/");return W===-1?P:P.slice(W+1)}function a(P,W){typeof W=="string"&&(W=new Date(W));var B=W.getHours();B=B<<6|W.getMinutes(),B=B<<5|W.getSeconds()>>>1,P.write_shift(2,B);var V=W.getFullYear()-1980;V=V<<4|W.getMonth()+1,V=V<<5|W.getDate(),P.write_shift(2,V)}function i(P){var W=P.read_shift(2)&65535,B=P.read_shift(2)&65535,V=new Date,K=B&31;B>>>=5;var G=B&15;B>>>=4,V.setMilliseconds(0),V.setFullYear(B+1980),V.setMonth(G-1),V.setDate(K);var ce=W&31;W>>>=5;var xe=W&63;return W>>>=6,V.setHours(W),V.setMinutes(xe),V.setSeconds(ce<<1),V}function l(P){dr(P,0);for(var W={},B=0;P.l<=P.length-4;){var V=P.read_shift(2),K=P.read_shift(2),G=P.l+K,ce={};switch(V){case 21589:B=P.read_shift(1),B&1&&(ce.mtime=P.read_shift(4)),K>5&&(B&2&&(ce.atime=P.read_shift(4)),B&4&&(ce.ctime=P.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}P.l=G,W[V]=ce}return W}var u;function c(){return u||(u={})}function d(P,W){if(P[0]==80&&P[1]==75)return h1(P,W);if((P[0]|32)==109&&(P[1]|32)==105)return qN(P,W);if(P.length<512)throw new Error("CFB file size "+P.length+" < 512");var B=3,V=512,K=0,G=0,ce=0,xe=0,le=0,ue=[],fe=P.slice(0,512);dr(fe,0);var _e=f(fe);switch(B=_e[0],B){case 3:V=512;break;case 4:V=4096;break;case 0:if(_e[1]==0)return h1(P,W);default:throw new Error("Major Version: Expected 3 or 4 saw "+B)}V!==512&&(fe=P.slice(0,V),dr(fe,28));var Ae=P.slice(0,V);h(fe,B);var Oe=fe.read_shift(4,"i");if(B===3&&Oe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Oe);fe.l+=4,ce=fe.read_shift(4,"i"),fe.l+=4,fe.chk("00100000","Mini Stream Cutoff Size: "),xe=fe.read_shift(4,"i"),K=fe.read_shift(4,"i"),le=fe.read_shift(4,"i"),G=fe.read_shift(4,"i");for(var Te=-1,De=0;De<109&&(Te=fe.read_shift(4,"i"),!(Te<0));++De)ue[De]=Te;var Ze=p(P,V);y(le,G,Ze,V,ue);var Ct=v(Ze,ce,ue,V);Ct[ce].name="!Directory",K>0&&xe!==M&&(Ct[xe].name="!MiniFAT"),Ct[ue[0]].name="!FAT",Ct.fat_addrs=ue,Ct.ssz=V;var Tt={},xr=[],zl=[],Ul=[];w(ce,Ct,Ze,xr,K,Tt,zl,xe),m(zl,Ul,xr),xr.shift();var $l={FileIndex:zl,FullPaths:Ul};return W&&W.raw&&($l.raw={header:Ae,sectors:Ze}),$l}function f(P){if(P[P.l]==80&&P[P.l+1]==75)return[0,0];P.chk(Q,"Header Signature: "),P.l+=16;var W=P.read_shift(2,"u");return[P.read_shift(2,"u"),W]}function h(P,W){var B=9;switch(P.l+=2,B=P.read_shift(2)){case 9:if(W!=3)throw new Error("Sector Shift: Expected 9 saw "+B);break;case 12:if(W!=4)throw new Error("Sector Shift: Expected 12 saw "+B);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+B)}P.chk("0600","Mini Sector Shift: "),P.chk("000000000000","Reserved: ")}function p(P,W){for(var B=Math.ceil(P.length/W)-1,V=[],K=1;K<B;++K)V[K-1]=P.slice(K*W,(K+1)*W);return V[B-1]=P.slice(B*W),V}function m(P,W,B){for(var V=0,K=0,G=0,ce=0,xe=0,le=B.length,ue=[],fe=[];V<le;++V)ue[V]=fe[V]=V,W[V]=B[V];for(;xe<fe.length;++xe)V=fe[xe],K=P[V].L,G=P[V].R,ce=P[V].C,ue[V]===V&&(K!==-1&&ue[K]!==K&&(ue[V]=ue[K]),G!==-1&&ue[G]!==G&&(ue[V]=ue[G])),ce!==-1&&(ue[ce]=V),K!==-1&&V!=ue[V]&&(ue[K]=ue[V],fe.lastIndexOf(K)<xe&&fe.push(K)),G!==-1&&V!=ue[V]&&(ue[G]=ue[V],fe.lastIndexOf(G)<xe&&fe.push(G));for(V=1;V<le;++V)ue[V]===V&&(G!==-1&&ue[G]!==G?ue[V]=ue[G]:K!==-1&&ue[K]!==K&&(ue[V]=ue[K]));for(V=1;V<le;++V)if(P[V].type!==0){if(xe=V,xe!=ue[xe])do xe=ue[xe],W[V]=W[xe]+"/"+W[V];while(xe!==0&&ue[xe]!==-1&&xe!=ue[xe]);ue[V]=-1}for(W[0]+="/",V=1;V<le;++V)P[V].type!==2&&(W[V]+="/")}function x(P,W,B){for(var V=P.start,K=P.size,G=[],ce=V;B&&K>0&&ce>=0;)G.push(W.slice(ce*E,ce*E+E)),K-=E,ce=xi(B,ce*4);return G.length===0?qt(0):ya(G).slice(0,P.size)}function y(P,W,B,V,K){var G=M;if(P===M){if(W!==0)throw new Error("DIFAT chain shorter than expected")}else if(P!==-1){var ce=B[P],xe=(V>>>2)-1;if(!ce)return;for(var le=0;le<xe&&(G=xi(ce,le*4))!==M;++le)K.push(G);y(xi(ce,V-4),W-1,B,V,K)}}function g(P,W,B,V,K){var G=[],ce=[];K||(K=[]);var xe=V-1,le=0,ue=0;for(le=W;le>=0;){K[le]=!0,G[G.length]=le,ce.push(P[le]);var fe=B[Math.floor(le*4/V)];if(ue=le*4&xe,V<4+ue)throw new Error("FAT boundary crossed: "+le+" 4 "+V);if(!P[fe])break;le=xi(P[fe],ue)}return{nodes:G,data:_2([ce])}}function v(P,W,B,V){var K=P.length,G=[],ce=[],xe=[],le=[],ue=V-1,fe=0,_e=0,Ae=0,Oe=0;for(fe=0;fe<K;++fe)if(xe=[],Ae=fe+W,Ae>=K&&(Ae-=K),!ce[Ae]){le=[];var Te=[];for(_e=Ae;_e>=0;){Te[_e]=!0,ce[_e]=!0,xe[xe.length]=_e,le.push(P[_e]);var De=B[Math.floor(_e*4/V)];if(Oe=_e*4&ue,V<4+Oe)throw new Error("FAT boundary crossed: "+_e+" 4 "+V);if(!P[De]||(_e=xi(P[De],Oe),Te[_e]))break}G[Ae]={nodes:xe,data:_2([le])}}return G}function w(P,W,B,V,K,G,ce,xe){for(var le=0,ue=V.length?2:0,fe=W[P].data,_e=0,Ae=0,Oe;_e<fe.length;_e+=128){var Te=fe.slice(_e,_e+128);dr(Te,64),Ae=Te.read_shift(2),Oe=Kg(Te,0,Ae-ue),V.push(Oe);var De={name:Oe,type:Te.read_shift(1),color:Te.read_shift(1),L:Te.read_shift(4,"i"),R:Te.read_shift(4,"i"),C:Te.read_shift(4,"i"),clsid:Te.read_shift(16),state:Te.read_shift(4,"i"),start:0,size:0},Ze=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);Ze!==0&&(De.ct=b(Te,Te.l-8));var Ct=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);Ct!==0&&(De.mt=b(Te,Te.l-8)),De.start=Te.read_shift(4,"i"),De.size=Te.read_shift(4,"i"),De.size<0&&De.start<0&&(De.size=De.type=0,De.start=M,De.name=""),De.type===5?(le=De.start,K>0&&le!==M&&(W[le].name="!StreamData")):De.size>=4096?(De.storage="fat",W[De.start]===void 0&&(W[De.start]=g(B,De.start,W.fat_addrs,W.ssz)),W[De.start].name=De.name,De.content=W[De.start].data.slice(0,De.size)):(De.storage="minifat",De.size<0?De.size=0:le!==M&&De.start!==M&&W[le]&&(De.content=x(De,W[le].data,(W[xe]||{}).data))),De.content&&dr(De.content,0),G[Oe]=De,ce.push(De)}}function b(P,W){return new Date((is(P,W+4)/1e7*Math.pow(2,32)+is(P,W)/1e7-11644473600)*1e3)}function D(P,W){return c(),d(u.readFileSync(P),W)}function A(P,W){var B=W&&W.type;switch(B||ot&&Buffer.isBuffer(P)&&(B="buffer"),B||"base64"){case"file":return D(P,W);case"base64":return d(Gs(ps(P)),W);case"binary":return d(Gs(P),W)}return d(P,W)}function _(P,W){var B=W||{},V=B.root||"Root Entry";if(P.FullPaths||(P.FullPaths=[]),P.FileIndex||(P.FileIndex=[]),P.FullPaths.length!==P.FileIndex.length)throw new Error("inconsistent CFB structure");P.FullPaths.length===0&&(P.FullPaths[0]=V+"/",P.FileIndex[0]={name:V,type:5}),B.CLSID&&(P.FileIndex[0].clsid=B.CLSID),S(P)}function S(P){var W="Sh33tJ5";if(!lt.find(P,"/"+W)){var B=qt(4);B[0]=55,B[1]=B[3]=50,B[2]=54,P.FileIndex.push({name:W,type:2,content:B,size:4,L:69,R:69,C:69}),P.FullPaths.push(P.FullPaths[0]+W),k(P)}}function k(P,W){_(P);for(var B=!1,V=!1,K=P.FullPaths.length-1;K>=0;--K){var G=P.FileIndex[K];switch(G.type){case 0:V?B=!0:(P.FileIndex.pop(),P.FullPaths.pop());break;case 1:case 2:case 5:V=!0,isNaN(G.R*G.L*G.C)&&(B=!0),G.R>-1&&G.L>-1&&G.R==G.L&&(B=!0);break;default:B=!0;break}}if(!(!B&&!W)){var ce=new Date(1987,1,19),xe=0,le=Object.create?Object.create(null):{},ue=[];for(K=0;K<P.FullPaths.length;++K)le[P.FullPaths[K]]=!0,P.FileIndex[K].type!==0&&ue.push([P.FullPaths[K],P.FileIndex[K]]);for(K=0;K<ue.length;++K){var fe=s(ue[K][0]);V=le[fe],V||(ue.push([fe,{name:n(fe).replace("/",""),type:1,clsid:X,ct:ce,mt:ce,content:null}]),le[fe]=!0)}for(ue.sort(function(Oe,Te){return r(Oe[0],Te[0])}),P.FullPaths=[],P.FileIndex=[],K=0;K<ue.length;++K)P.FullPaths[K]=ue[K][0],P.FileIndex[K]=ue[K][1];for(K=0;K<ue.length;++K){var _e=P.FileIndex[K],Ae=P.FullPaths[K];if(_e.name=n(Ae).replace("/",""),_e.L=_e.R=_e.C=-(_e.color=1),_e.size=_e.content?_e.content.length:0,_e.start=0,_e.clsid=_e.clsid||X,K===0)_e.C=ue.length>1?1:-1,_e.size=0,_e.type=5;else if(Ae.slice(-1)=="/"){for(xe=K+1;xe<ue.length&&s(P.FullPaths[xe])!=Ae;++xe);for(_e.C=xe>=ue.length?-1:xe,xe=K+1;xe<ue.length&&s(P.FullPaths[xe])!=s(Ae);++xe);_e.R=xe>=ue.length?-1:xe,_e.type=1}else s(P.FullPaths[K+1]||"")==s(Ae)&&(_e.R=K+1),_e.type=2}}}function N(P,W){var B=W||{};if(B.fileType=="mad")return YN(P,B);switch(k(P),B.fileType){case"zip":return $N(P,B)}var V=function(Oe){for(var Te=0,De=0,Ze=0;Ze<Oe.FileIndex.length;++Ze){var Ct=Oe.FileIndex[Ze];if(Ct.content){var Tt=Ct.content.length;Tt>0&&(Tt<4096?Te+=Tt+63>>6:De+=Tt+511>>9)}}for(var xr=Oe.FullPaths.length+3>>2,zl=Te+7>>3,Ul=Te+127>>7,$l=zl+De+xr+Ul,ui=$l+127>>7,lh=ui<=109?0:Math.ceil((ui-109)/127);$l+ui+lh+127>>7>ui;)lh=++ui<=109?0:Math.ceil((ui-109)/127);var Tn=[1,lh,ui,Ul,xr,De,Te,0];return Oe.FileIndex[0].size=Te<<6,Tn[7]=(Oe.FileIndex[0].start=Tn[0]+Tn[1]+Tn[2]+Tn[3]+Tn[4]+Tn[5])+(Tn[6]+7>>3),Tn}(P),K=qt(V[7]<<9),G=0,ce=0;{for(G=0;G<8;++G)K.write_shift(1,Y[G]);for(G=0;G<8;++G)K.write_shift(2,0);for(K.write_shift(2,62),K.write_shift(2,3),K.write_shift(2,65534),K.write_shift(2,9),K.write_shift(2,6),G=0;G<3;++G)K.write_shift(2,0);for(K.write_shift(4,0),K.write_shift(4,V[2]),K.write_shift(4,V[0]+V[1]+V[2]+V[3]-1),K.write_shift(4,0),K.write_shift(4,4096),K.write_shift(4,V[3]?V[0]+V[1]+V[2]-1:M),K.write_shift(4,V[3]),K.write_shift(-4,V[1]?V[0]-1:M),K.write_shift(4,V[1]),G=0;G<109;++G)K.write_shift(-4,G<V[2]?V[1]+G:-1)}if(V[1])for(ce=0;ce<V[1];++ce){for(;G<236+ce*127;++G)K.write_shift(-4,G<V[2]?V[1]+G:-1);K.write_shift(-4,ce===V[1]-1?M:ce+1)}var xe=function(Oe){for(ce+=Oe;G<ce-1;++G)K.write_shift(-4,G+1);Oe&&(++G,K.write_shift(-4,M))};for(ce=G=0,ce+=V[1];G<ce;++G)K.write_shift(-4,ee.DIFSECT);for(ce+=V[2];G<ce;++G)K.write_shift(-4,ee.FATSECT);xe(V[3]),xe(V[4]);for(var le=0,ue=0,fe=P.FileIndex[0];le<P.FileIndex.length;++le)fe=P.FileIndex[le],fe.content&&(ue=fe.content.length,!(ue<4096)&&(fe.start=ce,xe(ue+511>>9)));for(xe(V[6]+7>>3);K.l&511;)K.write_shift(-4,ee.ENDOFCHAIN);for(ce=G=0,le=0;le<P.FileIndex.length;++le)fe=P.FileIndex[le],fe.content&&(ue=fe.content.length,!(!ue||ue>=4096)&&(fe.start=ce,xe(ue+63>>6)));for(;K.l&511;)K.write_shift(-4,ee.ENDOFCHAIN);for(G=0;G<V[4]<<2;++G){var _e=P.FullPaths[G];if(!_e||_e.length===0){for(le=0;le<17;++le)K.write_shift(4,0);for(le=0;le<3;++le)K.write_shift(4,-1);for(le=0;le<12;++le)K.write_shift(4,0);continue}fe=P.FileIndex[G],G===0&&(fe.start=fe.size?fe.start-1:M);var Ae=G===0&&B.root||fe.name;if(ue=2*(Ae.length+1),K.write_shift(64,Ae,"utf16le"),K.write_shift(2,ue),K.write_shift(1,fe.type),K.write_shift(1,fe.color),K.write_shift(-4,fe.L),K.write_shift(-4,fe.R),K.write_shift(-4,fe.C),fe.clsid)K.write_shift(16,fe.clsid,"hex");else for(le=0;le<4;++le)K.write_shift(4,0);K.write_shift(4,fe.state||0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,fe.start),K.write_shift(4,fe.size),K.write_shift(4,0)}for(G=1;G<P.FileIndex.length;++G)if(fe=P.FileIndex[G],fe.size>=4096)if(K.l=fe.start+1<<9,ot&&Buffer.isBuffer(fe.content))fe.content.copy(K,K.l,0,fe.size),K.l+=fe.size+511&-512;else{for(le=0;le<fe.size;++le)K.write_shift(1,fe.content[le]);for(;le&511;++le)K.write_shift(1,0)}for(G=1;G<P.FileIndex.length;++G)if(fe=P.FileIndex[G],fe.size>0&&fe.size<4096)if(ot&&Buffer.isBuffer(fe.content))fe.content.copy(K,K.l,0,fe.size),K.l+=fe.size+63&-64;else{for(le=0;le<fe.size;++le)K.write_shift(1,fe.content[le]);for(;le&63;++le)K.write_shift(1,0)}if(ot)K.l=K.length;else for(;K.l<K.length;)K.write_shift(1,0);return K}function C(P,W){var B=P.FullPaths.map(function(le){return le.toUpperCase()}),V=B.map(function(le){var ue=le.split("/");return ue[ue.length-(le.slice(-1)=="/"?2:1)]}),K=!1;W.charCodeAt(0)===47?(K=!0,W=B[0].slice(0,-1)+W):K=W.indexOf("/")!==-1;var G=W.toUpperCase(),ce=K===!0?B.indexOf(G):V.indexOf(G);if(ce!==-1)return P.FileIndex[ce];var xe=!G.match(hc);for(G=G.replace(Mr,""),xe&&(G=G.replace(hc,"!")),ce=0;ce<B.length;++ce)if((xe?B[ce].replace(hc,"!"):B[ce]).replace(Mr,"")==G||(xe?V[ce].replace(hc,"!"):V[ce]).replace(Mr,"")==G)return P.FileIndex[ce];return null}var E=64,M=-2,Q="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:Q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(P,W,B){c();var V=N(P,B);u.writeFileSync(W,V)}function R(P){for(var W=new Array(P.length),B=0;B<P.length;++B)W[B]=String.fromCharCode(P[B]);return W.join("")}function se(P,W){var B=N(P,W);switch(W&&W.type||"buffer"){case"file":return c(),u.writeFileSync(W.filename,B),B;case"binary":return typeof B=="string"?B:R(B);case"base64":return i2(typeof B=="string"?B:R(B));case"buffer":if(ot)return Buffer.isBuffer(B)?B:io(B);case"array":return typeof B=="string"?Gs(B):B}return B}var U;function T(P){try{var W=P.InflateRaw,B=new W;if(B._processChunk(new Uint8Array([3,0]),B._finishFlushFlag),B.bytesRead)U=P;else throw new Error("zlib does not expose bytesRead")}catch(V){console.error("cannot use native zlib: "+(V.message||V))}}function j(P,W){if(!U)return Bl(P,W);var B=U.InflateRaw,V=new B,K=V._processChunk(P.slice(P.l),V._finishFlushFlag);return P.l+=V.bytesRead,K}function L(P){return U?U.deflateRawSync(P):Ve(P)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],J=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ne(P){var W=(P<<1|P<<11)&139536|(P<<5|P<<15)&558144;return(W>>16|W>>8|W)&255}for(var re=typeof Uint8Array<"u",ae=re?new Uint8Array(256):[],q=0;q<256;++q)ae[q]=ne(q);function O(P,W){var B=ae[P&255];return W<=8?B>>>8-W:(B=B<<8|ae[P>>8&255],W<=16?B>>>16-W:(B=B<<8|ae[P>>16&255],B>>>24-W))}function we(P,W){var B=W&7,V=W>>>3;return(P[V]|(B<=6?0:P[V+1]<<8))>>>B&3}function Se(P,W){var B=W&7,V=W>>>3;return(P[V]|(B<=5?0:P[V+1]<<8))>>>B&7}function be(P,W){var B=W&7,V=W>>>3;return(P[V]|(B<=4?0:P[V+1]<<8))>>>B&15}function ge(P,W){var B=W&7,V=W>>>3;return(P[V]|(B<=3?0:P[V+1]<<8))>>>B&31}function ve(P,W){var B=W&7,V=W>>>3;return(P[V]|(B<=1?0:P[V+1]<<8))>>>B&127}function Ne(P,W,B){var V=W&7,K=W>>>3,G=(1<<B)-1,ce=P[K]>>>V;return B<8-V||(ce|=P[K+1]<<8-V,B<16-V)||(ce|=P[K+2]<<16-V,B<24-V)||(ce|=P[K+3]<<24-V),ce&G}function Re(P,W,B){var V=W&7,K=W>>>3;return V<=5?P[K]|=(B&7)<<V:(P[K]|=B<<V&255,P[K+1]=(B&7)>>8-V),W+3}function H(P,W,B){var V=W&7,K=W>>>3;return B=(B&1)<<V,P[K]|=B,W+1}function ie(P,W,B){var V=W&7,K=W>>>3;return B<<=V,P[K]|=B&255,B>>>=8,P[K+1]=B,W+8}function oe(P,W,B){var V=W&7,K=W>>>3;return B<<=V,P[K]|=B&255,B>>>=8,P[K+1]=B&255,P[K+2]=B>>>8,W+16}function ye(P,W){var B=P.length,V=2*B>W?2*B:W+5,K=0;if(B>=W)return P;if(ot){var G=o2(V);if(P.copy)P.copy(G);else for(;K<P.length;++K)G[K]=P[K];return G}else if(re){var ce=new Uint8Array(V);if(ce.set)ce.set(P);else for(;K<B;++K)ce[K]=P[K];return ce}return P.length=V,P}function he(P){for(var W=new Array(P),B=0;B<P;++B)W[B]=0;return W}function pe(P,W,B){var V=1,K=0,G=0,ce=0,xe=0,le=P.length,ue=re?new Uint16Array(32):he(32);for(G=0;G<32;++G)ue[G]=0;for(G=le;G<B;++G)P[G]=0;le=P.length;var fe=re?new Uint16Array(le):he(le);for(G=0;G<le;++G)ue[K=P[G]]++,V<K&&(V=K),fe[G]=0;for(ue[0]=0,G=1;G<=V;++G)ue[G+16]=xe=xe+ue[G-1]<<1;for(G=0;G<le;++G)xe=P[G],xe!=0&&(fe[G]=ue[xe+16]++);var _e=0;for(G=0;G<le;++G)if(_e=P[G],_e!=0)for(xe=O(fe[G],V)>>V-_e,ce=(1<<V+4-_e)-1;ce>=0;--ce)W[xe|ce<<_e]=_e&15|G<<4;return V}var ke=re?new Uint16Array(512):he(512),Me=re?new Uint16Array(32):he(32);if(!re){for(var ze=0;ze<512;++ze)ke[ze]=0;for(ze=0;ze<32;++ze)Me[ze]=0}(function(){for(var P=[],W=0;W<32;W++)P.push(5);pe(P,Me,32);var B=[];for(W=0;W<=143;W++)B.push(8);for(;W<=255;W++)B.push(9);for(;W<=279;W++)B.push(7);for(;W<=287;W++)B.push(8);pe(B,ke,288)})();var xt=function(){for(var W=re?new Uint8Array(32768):[],B=0,V=0;B<J.length-1;++B)for(;V<J[B+1];++V)W[V]=B;for(;V<32768;++V)W[V]=29;var K=re?new Uint8Array(259):[];for(B=0,V=0;B<I.length-1;++B)for(;V<I[B+1];++V)K[V]=B;function G(xe,le){for(var ue=0;ue<xe.length;){var fe=Math.min(65535,xe.length-ue),_e=ue+fe==xe.length;for(le.write_shift(1,+_e),le.write_shift(2,fe),le.write_shift(2,~fe&65535);fe-- >0;)le[le.l++]=xe[ue++]}return le.l}function ce(xe,le){for(var ue=0,fe=0,_e=re?new Uint16Array(32768):[];fe<xe.length;){var Ae=Math.min(65535,xe.length-fe);if(Ae<10){for(ue=Re(le,ue,+(fe+Ae==xe.length)),ue&7&&(ue+=8-(ue&7)),le.l=ue/8|0,le.write_shift(2,Ae),le.write_shift(2,~Ae&65535);Ae-- >0;)le[le.l++]=xe[fe++];ue=le.l*8;continue}ue=Re(le,ue,+(fe+Ae==xe.length)+2);for(var Oe=0;Ae-- >0;){var Te=xe[fe];Oe=(Oe<<5^Te)&32767;var De=-1,Ze=0;if((De=_e[Oe])&&(De|=fe&-32768,De>fe&&(De-=32768),De<fe))for(;xe[De+Ze]==xe[fe+Ze]&&Ze<250;)++Ze;if(Ze>2){Te=K[Ze],Te<=22?ue=ie(le,ue,ae[Te+1]>>1)-1:(ie(le,ue,3),ue+=5,ie(le,ue,ae[Te-23]>>5),ue+=3);var Ct=Te<8?0:Te-4>>2;Ct>0&&(oe(le,ue,Ze-I[Te]),ue+=Ct),Te=W[fe-De],ue=ie(le,ue,ae[Te]>>3),ue-=3;var Tt=Te<4?0:Te-2>>1;Tt>0&&(oe(le,ue,fe-De-J[Te]),ue+=Tt);for(var xr=0;xr<Ze;++xr)_e[Oe]=fe&32767,Oe=(Oe<<5^xe[fe])&32767,++fe;Ae-=Ze-1}else Te<=143?Te=Te+48:ue=H(le,ue,1),ue=ie(le,ue,ae[Te]),_e[Oe]=fe&32767,++fe}ue=ie(le,ue,0)-1}return le.l=(ue+7)/8|0,le.l}return function(le,ue){return le.length<8?G(le,ue):ce(le,ue)}}();function Ve(P){var W=qt(50+Math.floor(P.length*1.1)),B=xt(P,W);return W.slice(0,B)}var Ge=re?new Uint16Array(32768):he(32768),nt=re?new Uint16Array(32768):he(32768),at=re?new Uint16Array(128):he(128),lr=1,ed=1;function td(P,W){var B=ge(P,W)+257;W+=5;var V=ge(P,W)+1;W+=5;var K=be(P,W)+4;W+=4;for(var G=0,ce=re?new Uint8Array(19):he(19),xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,ue=re?new Uint8Array(8):he(8),fe=re?new Uint8Array(8):he(8),_e=ce.length,Ae=0;Ae<K;++Ae)ce[z[Ae]]=G=Se(P,W),le<G&&(le=G),ue[G]++,W+=3;var Oe=0;for(ue[0]=0,Ae=1;Ae<=le;++Ae)fe[Ae]=Oe=Oe+ue[Ae-1]<<1;for(Ae=0;Ae<_e;++Ae)(Oe=ce[Ae])!=0&&(xe[Ae]=fe[Oe]++);var Te=0;for(Ae=0;Ae<_e;++Ae)if(Te=ce[Ae],Te!=0){Oe=ae[xe[Ae]]>>8-Te;for(var De=(1<<7-Te)-1;De>=0;--De)at[Oe|De<<Te]=Te&7|Ae<<3}var Ze=[];for(le=1;Ze.length<B+V;)switch(Oe=at[ve(P,W)],W+=Oe&7,Oe>>>=3){case 16:for(G=3+we(P,W),W+=2,Oe=Ze[Ze.length-1];G-- >0;)Ze.push(Oe);break;case 17:for(G=3+Se(P,W),W+=3;G-- >0;)Ze.push(0);break;case 18:for(G=11+ve(P,W),W+=7;G-- >0;)Ze.push(0);break;default:Ze.push(Oe),le<Oe&&(le=Oe);break}var Ct=Ze.slice(0,B),Tt=Ze.slice(B);for(Ae=B;Ae<286;++Ae)Ct[Ae]=0;for(Ae=V;Ae<30;++Ae)Tt[Ae]=0;return lr=pe(Ct,Ge,286),ed=pe(Tt,nt,30),W}function ih(P,W){if(P[0]==3&&!(P[1]&3))return[ti(W),2];for(var B=0,V=0,K=o2(W||1<<18),G=0,ce=K.length>>>0,xe=0,le=0;!(V&1);){if(V=Se(P,B),B+=3,V>>>1)V>>1==1?(xe=9,le=5):(B=td(P,B),xe=lr,le=ed);else{B&7&&(B+=8-(B&7));var ue=P[B>>>3]|P[(B>>>3)+1]<<8;if(B+=32,ue>0)for(!W&&ce<G+ue&&(K=ye(K,G+ue),ce=K.length);ue-- >0;)K[G++]=P[B>>>3],B+=8;continue}for(;;){!W&&ce<G+32767&&(K=ye(K,G+32767),ce=K.length);var fe=Ne(P,B,xe),_e=V>>>1==1?ke[fe]:Ge[fe];if(B+=_e&15,_e>>>=4,!(_e>>>8&255))K[G++]=_e;else{if(_e==256)break;_e-=257;var Ae=_e<8?0:_e-4>>2;Ae>5&&(Ae=0);var Oe=G+I[_e];Ae>0&&(Oe+=Ne(P,B,Ae),B+=Ae),fe=Ne(P,B,le),_e=V>>>1==1?Me[fe]:nt[fe],B+=_e&15,_e>>>=4;var Te=_e<4?0:_e-2>>1,De=J[_e];for(Te>0&&(De+=Ne(P,B,Te),B+=Te),!W&&ce<Oe&&(K=ye(K,Oe+100),ce=K.length);G<Oe;)K[G]=K[G-De],++G}}}return W?[K,B+7>>>3]:[K.slice(0,G),B+7>>>3]}function Bl(P,W){var B=P.slice(P.l||0),V=ih(B,W);return P.l+=V[1],V[0]}function f1(P,W){if(P)typeof console<"u"&&console.error(W);else throw new Error(W)}function h1(P,W){var B=P;dr(B,0);var V=[],K=[],G={FileIndex:V,FullPaths:K};_(G,{root:W.root});for(var ce=B.length-4;(B[ce]!=80||B[ce+1]!=75||B[ce+2]!=5||B[ce+3]!=6)&&ce>=0;)--ce;B.l=ce+4,B.l+=4;var xe=B.read_shift(2);B.l+=6;var le=B.read_shift(4);for(B.l=le,ce=0;ce<xe;++ce){B.l+=20;var ue=B.read_shift(4),fe=B.read_shift(4),_e=B.read_shift(2),Ae=B.read_shift(2),Oe=B.read_shift(2);B.l+=8;var Te=B.read_shift(4),De=l(B.slice(B.l+_e,B.l+_e+Ae));B.l+=_e+Ae+Oe;var Ze=B.l;B.l=Te+4,UN(B,ue,fe,G,De),B.l=Ze}return G}function UN(P,W,B,V,K){P.l+=2;var G=P.read_shift(2),ce=P.read_shift(2),xe=i(P);if(G&8257)throw new Error("Unsupported ZIP encryption");for(var le=P.read_shift(4),ue=P.read_shift(4),fe=P.read_shift(4),_e=P.read_shift(2),Ae=P.read_shift(2),Oe="",Te=0;Te<_e;++Te)Oe+=String.fromCharCode(P[P.l++]);if(Ae){var De=l(P.slice(P.l,P.l+Ae));(De[21589]||{}).mt&&(xe=De[21589].mt),((K||{})[21589]||{}).mt&&(xe=K[21589].mt)}P.l+=Ae;var Ze=P.slice(P.l,P.l+ue);switch(ce){case 8:Ze=j(P,fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Ct=!1;G&8&&(le=P.read_shift(4),le==134695760&&(le=P.read_shift(4),Ct=!0),ue=P.read_shift(4),fe=P.read_shift(4)),ue!=W&&f1(Ct,"Bad compressed size: "+W+" != "+ue),fe!=B&&f1(Ct,"Bad uncompressed size: "+B+" != "+fe),oh(V,Oe,Ze,{unsafe:!0,mt:xe})}function $N(P,W){var B=W||{},V=[],K=[],G=qt(1),ce=B.compression?8:0,xe=0,le=0,ue=0,fe=0,_e=0,Ae=P.FullPaths[0],Oe=Ae,Te=P.FileIndex[0],De=[],Ze=0;for(le=1;le<P.FullPaths.length;++le)if(Oe=P.FullPaths[le].slice(Ae.length),Te=P.FileIndex[le],!(!Te.size||!Te.content||Oe=="Sh33tJ5")){var Ct=fe,Tt=qt(Oe.length);for(ue=0;ue<Oe.length;++ue)Tt.write_shift(1,Oe.charCodeAt(ue)&127);Tt=Tt.slice(0,Tt.l),De[_e]=k6.buf(Te.content,0);var xr=Te.content;ce==8&&(xr=L(xr)),G=qt(30),G.write_shift(4,67324752),G.write_shift(2,20),G.write_shift(2,xe),G.write_shift(2,ce),Te.mt?a(G,Te.mt):G.write_shift(4,0),G.write_shift(-4,De[_e]),G.write_shift(4,xr.length),G.write_shift(4,Te.content.length),G.write_shift(2,Tt.length),G.write_shift(2,0),fe+=G.length,V.push(G),fe+=Tt.length,V.push(Tt),fe+=xr.length,V.push(xr),G=qt(46),G.write_shift(4,33639248),G.write_shift(2,0),G.write_shift(2,20),G.write_shift(2,xe),G.write_shift(2,ce),G.write_shift(4,0),G.write_shift(-4,De[_e]),G.write_shift(4,xr.length),G.write_shift(4,Te.content.length),G.write_shift(2,Tt.length),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(4,0),G.write_shift(4,Ct),Ze+=G.l,K.push(G),Ze+=Tt.length,K.push(Tt),++_e}return G=qt(22),G.write_shift(4,101010256),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,_e),G.write_shift(2,_e),G.write_shift(4,Ze),G.write_shift(4,fe),G.write_shift(2,0),ya([ya(V),ya(K),G])}var rd={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function VN(P,W){if(P.ctype)return P.ctype;var B=P.name||"",V=B.match(/\.([^\.]+)$/);return V&&rd[V[1]]||W&&(V=(B=W).match(/[\.\\]([^\.\\])+$/),V&&rd[V[1]])?rd[V[1]]:"application/octet-stream"}function HN(P){for(var W=i2(P),B=[],V=0;V<W.length;V+=76)B.push(W.slice(V,V+76));return B.join(`\r
`)+`\r
`}function WN(P){var W=P.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var fe=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(fe.length==1?"0"+fe:fe)});W=W.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),W.charAt(0)==`
`&&(W="=0D"+W.slice(1)),W=W.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var B=[],V=W.split(`\r
`),K=0;K<V.length;++K){var G=V[K];if(G.length==0){B.push("");continue}for(var ce=0;ce<G.length;){var xe=76,le=G.slice(ce,ce+xe);le.charAt(xe-1)=="="?xe--:le.charAt(xe-2)=="="?xe-=2:le.charAt(xe-3)=="="&&(xe-=3),le=G.slice(ce,ce+xe),ce+=xe,ce<G.length&&(le+="="),B.push(le)}}return B.join(`\r
`)}function KN(P){for(var W=[],B=0;B<P.length;++B){for(var V=P[B];B<=P.length&&V.charAt(V.length-1)=="=";)V=V.slice(0,V.length-1)+P[++B];W.push(V)}for(var K=0;K<W.length;++K)W[K]=W[K].replace(/[=][0-9A-Fa-f]{2}/g,function(G){return String.fromCharCode(parseInt(G.slice(1),16))});return Gs(W.join(`\r
`))}function GN(P,W,B){for(var V="",K="",G="",ce,xe=0;xe<10;++xe){var le=W[xe];if(!le||le.match(/^\s*$/))break;var ue=le.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":V=ue[2].trim();break;case"content-type":G=ue[2].trim();break;case"content-transfer-encoding":K=ue[2].trim();break}}switch(++xe,K.toLowerCase()){case"base64":ce=Gs(ps(W.slice(xe).join("")));break;case"quoted-printable":ce=KN(W.slice(xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+K)}var fe=oh(P,V.slice(B.length),ce,{unsafe:!0});G&&(fe.ctype=G)}function qN(P,W){if(R(P.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var B=W&&W.root||"",V=(ot&&Buffer.isBuffer(P)?P.toString("binary"):R(P)).split(`\r
`),K=0,G="";for(K=0;K<V.length;++K)if(G=V[K],!!/^Content-Location:/i.test(G)&&(G=G.slice(G.indexOf("file")),B||(B=G.slice(0,G.lastIndexOf("/")+1)),G.slice(0,B.length)!=B))for(;B.length>0&&(B=B.slice(0,B.length-1),B=B.slice(0,B.lastIndexOf("/")+1),G.slice(0,B.length)!=B););var ce=(V[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var xe="--"+(ce[1]||""),le=[],ue=[],fe={FileIndex:le,FullPaths:ue};_(fe);var _e,Ae=0;for(K=0;K<V.length;++K){var Oe=V[K];Oe!==xe&&Oe!==xe+"--"||(Ae++&&GN(fe,V.slice(_e,K),B),_e=K)}return fe}function YN(P,W){var B=W||{},V=B.boundary||"SheetJS";V="------="+V;for(var K=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+V.slice(2)+'"',"","",""],G=P.FullPaths[0],ce=G,xe=P.FileIndex[0],le=1;le<P.FullPaths.length;++le)if(ce=P.FullPaths[le].slice(G.length),xe=P.FileIndex[le],!(!xe.size||!xe.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ze){return"_x"+Ze.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ze){return"_u"+Ze.charCodeAt(0).toString(16)+"_"});for(var ue=xe.content,fe=ot&&Buffer.isBuffer(ue)?ue.toString("binary"):R(ue),_e=0,Ae=Math.min(1024,fe.length),Oe=0,Te=0;Te<=Ae;++Te)(Oe=fe.charCodeAt(Te))>=32&&Oe<128&&++_e;var De=_e>=Ae*4/5;K.push(V),K.push("Content-Location: "+(B.root||"file:///C:/SheetJS/")+ce),K.push("Content-Transfer-Encoding: "+(De?"quoted-printable":"base64")),K.push("Content-Type: "+VN(xe,ce)),K.push(""),K.push(De?WN(fe):HN(fe))}return K.push(V+`--\r
`),K.join(`\r
`)}function XN(P){var W={};return _(W,P),W}function oh(P,W,B,V){var K=V&&V.unsafe;K||_(P);var G=!K&&lt.find(P,W);if(!G){var ce=P.FullPaths[0];W.slice(0,ce.length)==ce?ce=W:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+W).replace("//","/")),G={name:n(W),type:2},P.FileIndex.push(G),P.FullPaths.push(ce),K||lt.utils.cfb_gc(P)}return G.content=B,G.size=B?B.length:0,V&&(V.CLSID&&(G.clsid=V.CLSID),V.mt&&(G.mt=V.mt),V.ct&&(G.ct=V.ct)),G}function QN(P,W){_(P);var B=lt.find(P,W);if(B){for(var V=0;V<P.FileIndex.length;++V)if(P.FileIndex[V]==B)return P.FileIndex.splice(V,1),P.FullPaths.splice(V,1),!0}return!1}function ZN(P,W,B){_(P);var V=lt.find(P,W);if(V){for(var K=0;K<P.FileIndex.length;++K)if(P.FileIndex[K]==V)return P.FileIndex[K].name=n(B),P.FullPaths[K]=B,!0}return!1}function JN(P){k(P,!0)}return t.find=C,t.read=A,t.parse=d,t.write=se,t.writeFile=te,t.utils={cfb_new:XN,cfb_add:oh,cfb_del:QN,cfb_mov:ZN,cfb_gc:JN,ReadShift:Fc,CheckField:jE,prep_blob:dr,bconcat:ya,use_zlib:T,_deflateRaw:Ve,_inflateRaw:Bl,consts:ee},t}();function S6(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(s){if(!s.message||!s.message.match(/onstruct/))throw s}throw new Error("Cannot access file "+e)}function En(e){for(var t=Object.keys(e),r=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&r.push(t[s]);return r}function $g(e){for(var t=[],r=En(e),s=0;s!==r.length;++s)t[e[r[s]]]=r[s];return t}var cf=new Date(1899,11,30,0,0,0);function Br(e,t){var r=e.getTime();t&&(r-=1462*24*60*60*1e3);var s=cf.getTime()+(e.getTimezoneOffset()-cf.getTimezoneOffset())*6e4;return(r-s)/(24*60*60*1e3)}var lE=new Date,b6=cf.getTime()+(lE.getTimezoneOffset()-cf.getTimezoneOffset())*6e4,p2=lE.getTimezoneOffset();function eh(e){var t=new Date;return t.setTime(e*24*60*60*1e3+b6),t.getTimezoneOffset()!==p2&&t.setTime(t.getTime()+(t.getTimezoneOffset()-p2)*6e4),t}function _6(e){var t=0,r=0,s=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=n.length;++a)if(n[a]){switch(r=1,a>3&&(s=!0),n[a].slice(n[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[a].slice(n[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(s)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(n[a],10)}return t}var x2=new Date("2017-02-19T19:06:09.000Z"),cE=isNaN(x2.getFullYear())?new Date("2/19/17"):x2,E6=cE.getFullYear()==2017;function or(e,t){var r=new Date(e);if(E6)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(cE.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return e.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ro(e,t){if(ot&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return pc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return pc(Y_(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return pc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return pc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var s=[],n=0;n!=e.length;++n)s.push(String.fromCharCode(e[n]));return s.join("")}function hr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=hr(e[r]));return t}function It(e,t){for(var r="";r.length<t;)r+=e;return r}function en(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(n,a){return r=-r,a}),!isNaN(t=Number(s)))?t/r:t}var N6=["january","february","march","april","may","june","july","august","september","october","november","december"];function El(e){var t=new Date(e),r=new Date(NaN),s=t.getYear(),n=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&N6.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return s<0||s>8099?r:(n>0||a>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var C6=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,s,n){if(e||typeof s=="string")return r.split(s);for(var a=r.split(s),i=[a[0]],l=1;l<a.length;++l)i.push(n),i.push(a[l]);return i}}();function uE(e){return e?e.content&&e.type?ro(e.content,!0):e.data?fc(e.data):e.asNodeBuffer&&ot?fc(e.asNodeBuffer().toString("binary")):e.asBinary?fc(e.asBinary()):e._data&&e._data.getContent?fc(ro(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function dE(e){if(!e)return null;if(e.data)return n2(e.data);if(e.asNodeBuffer&&ot)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?n2(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function T6(e){return e&&e.name.slice(-4)===".bin"?dE(e):uE(e)}function bs(e,t){for(var r=e.FullPaths||En(e.files),s=t.toLowerCase().replace(/[\/]/g,"\\"),n=s.replace(/\\/g,"/"),a=0;a<r.length;++a){var i=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(s==i||n==i)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function Vg(e,t){var r=bs(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Vt(e,t,r){if(!r)return T6(Vg(e,t));if(!t)return null;try{return Vt(e,t)}catch{return null}}function cs(e,t,r){if(!r)return uE(Vg(e,t));if(!t)return null;try{return cs(e,t)}catch{return null}}function fE(e,t,r){if(!r)return dE(Vg(e,t));if(!t)return null;try{return fE(e,t)}catch{return null}}function g2(e){for(var t=e.FullPaths||En(e.files),r=[],s=0;s<t.length;++s)t[s].slice(-1)!="/"&&r.push(t[s].replace(/^Root Entry[\/]/,""));return r.sort()}function A6(e,t,r){if(e.FullPaths){if(typeof r=="string"){var s;return ot?s=io(r):s=Y5(r),lt.utils.cfb_add(e,t,s)}lt.utils.cfb_add(e,t,r)}else e.file(t,r)}function hE(e,t){switch(t.type){case"base64":return lt.read(e,{type:"base64"});case"binary":return lt.read(e,{type:"binary"});case"buffer":case"array":return lt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function mc(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var s=e.split("/");s.length!==0;){var n=s.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var mE=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,j6=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,y2=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,F6=/<[^>]*>/g,Tr=mE.match(y2)?y2:F6,R6=/<\w*:/,D6=/<(\/?)\w+:/;function He(e,t,r){for(var s={},n=0,a=0;n!==e.length&&!((a=e.charCodeAt(n))===32||a===10||a===13);++n);if(t||(s[0]=e.slice(0,n)),n===e.length)return s;var i=e.match(j6),l=0,u="",c=0,d="",f="",h=1;if(i)for(c=0;c!=i.length;++c){for(f=i[c],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(d=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(h=(n=f.charCodeAt(a+1))==34||n==39?1:0,u=f.slice(a+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),s[d]=u,r||(s[d.toLowerCase()]=u);else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(s[p]&&d.slice(l-3,l)=="ext")continue;s[p]=u,r||(s[p.toLowerCase()]=u)}}return s}function Nn(e){return e.replace(D6,"<$1")}var pE={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},P6=$g(pE),ft=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(s){var n=s+"",a=n.indexOf("<![CDATA[");if(a==-1)return n.replace(e,function(l,u){return pE[l]||String.fromCharCode(parseInt(u,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,u){return String.fromCharCode(parseInt(u,16))});var i=n.indexOf("]]>");return r(n.slice(0,a))+n.slice(a+9,i)+r(n.slice(i+3))}}(),O6=/[&<>'"]/g,I6=/[\u0000-\u001f]/g;function Hg(e){var t=e+"";return t.replace(O6,function(r){return P6[r]}).replace(/\n/g,"<br/>").replace(I6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var v2=function(){var e=/&#(\d+);/g;function t(r,s){return String.fromCharCode(parseInt(s,10))}return function(s){return s.replace(e,t)}}();function _t(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qh(e){for(var t="",r=0,s=0,n=0,a=0,i=0,l=0;r<e.length;){if(s=e.charCodeAt(r++),s<128){t+=String.fromCharCode(s);continue}if(n=e.charCodeAt(r++),s>191&&s<224){i=(s&31)<<6,i|=n&63,t+=String.fromCharCode(i);continue}if(a=e.charCodeAt(r++),s<240){t+=String.fromCharCode((s&15)<<12|(n&63)<<6|a&63);continue}i=e.charCodeAt(r++),l=((s&7)<<18|(n&63)<<12|(a&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function w2(e){var t=ti(2*e.length),r,s,n=1,a=0,i=0,l;for(s=0;s<e.length;s+=n)n=1,(l=e.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(s+1)&63),n=2):l<240?(r=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),n=3):(n=4,r=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[a++]=i&255,t[a++]=i>>>8,i=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function k2(e){return io(e,"binary").toString("utf8")}var Id="foo bar baz",kt=ot&&(k2(Id)==Qh(Id)&&k2||w2(Id)==Qh(Id)&&w2)||Qh,pc=ot?function(e){return io(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,s=0,n=0;r<e.length;)switch(s=e.charCodeAt(r++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,n=e.charCodeAt(r++)-56320+(s<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},pu=function(){var e={};return function(r,s){var n=r+"|"+(s||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",s||"")}}(),xE=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)s=s.replace(e[n][0],e[n][1]);return s}}(),M6=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),L6=/<\/?(?:vt:)?variant>/g,B6=/<(?:vt:)([^>]*)>([\s\S]*)</;function S2(e,t){var r=He(e),s=e.match(M6(r.baseType))||[],n=[];if(s.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+s.length+" != "+r.size);return n}return s.forEach(function(a){var i=a.replace(L6,"").match(B6);i&&n.push({v:kt(i[2]),t:i[1]})}),n}var z6=/(^\s|\s$|\n)/;function U6(e){return En(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function $6(e,t,r){return"<"+e+(r!=null?U6(r):"")+(t!=null?(t.match(z6)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Wg(e){if(ot&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return kt(oo(Bg(e)));throw new Error("Bad input format: expected Buffer or string")}var xu=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,V6={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},H6=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function W6(e,t){for(var r=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,a=5;a>=0;--a)n=n*256+e[t+a];return s==2047?n==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,n+=Math.pow(2,52)),r*Math.pow(2,s-52)*n)}function K6(e,t,r){var s=(t<0||1/t==-1/0?1:0)<<7,n=0,a=0,i=s?-t:t;isFinite(i)?i==0?n=a=0:(n=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-n),n<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?n=-1022:(a-=Math.pow(2,52),n+=1023)):(n=2047,a=isNaN(t)?26985:0);for(var l=0;l<=5;++l,a/=256)e[r+l]=a&255;e[r+6]=(n&15)<<4|a&15,e[r+7]=n>>4|s}var b2=function(e){for(var t=[],r=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var n=0,a=e[0][s].length;n<a;n+=r)t.push.apply(t,e[0][s].slice(n,n+r));return t},_2=ot?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:io(t)})):b2(e)}:b2,E2=function(e,t,r){for(var s=[],n=t;n<r;n+=2)s.push(String.fromCharCode(Bn(e,n)));return s.join("").replace(Mr,"")},Kg=ot?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Mr,""):E2(e,t,r)}:E2,N2=function(e,t,r){for(var s=[],n=t;n<t+r;++n)s.push(("0"+e[n].toString(16)).slice(-2));return s.join("")},gE=ot?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):N2(e,t,r)}:N2,C2=function(e,t,r){for(var s=[],n=t;n<r;n++)s.push(String.fromCharCode(ko(e,n)));return s.join("")},qu=ot?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf8",r,s):C2(t,r,s)}:C2,yE=function(e,t){var r=is(e,t);return r>0?qu(e,t+4,t+4+r-1):""},vE=yE,wE=function(e,t){var r=is(e,t);return r>0?qu(e,t+4,t+4+r-1):""},kE=wE,SE=function(e,t){var r=2*is(e,t);return r>0?qu(e,t+4,t+4+r-1):""},bE=SE,_E=function(t,r){var s=is(t,r);return s>0?Kg(t,r+4,r+4+s):""},EE=_E,NE=function(e,t){var r=is(e,t);return r>0?qu(e,t+4,t+4+r):""},CE=NE,TE=function(e,t){return W6(e,t)},uf=TE,AE=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ot&&(vE=function(t,r){if(!Buffer.isBuffer(t))return yE(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},kE=function(t,r){if(!Buffer.isBuffer(t))return wE(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},bE=function(t,r){if(!Buffer.isBuffer(t))return SE(t,r);var s=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s-1)},EE=function(t,r){if(!Buffer.isBuffer(t))return _E(t,r);var s=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s)},CE=function(t,r){if(!Buffer.isBuffer(t))return NE(t,r);var s=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+s)},uf=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):TE(t,r)},AE=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ko=function(e,t){return e[t]},Bn=function(e,t){return e[t+1]*256+e[t]},G6=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},is=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},xi=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},q6=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Fc(e,t){var r="",s,n,a=[],i,l,u,c;switch(t){case"dbcs":if(c=this.l,ot&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Bn(this,c)),c+=2;e*=2;break;case"utf8":r=qu(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Kg(this,this.l,this.l+e);break;case"wstr":return Fc.call(this,e,"dbcs");case"lpstr-ansi":r=vE(this,this.l),e=4+is(this,this.l);break;case"lpstr-cp":r=kE(this,this.l),e=4+is(this,this.l);break;case"lpwstr":r=bE(this,this.l),e=4+2*is(this,this.l);break;case"lpp4":e=4+is(this,this.l),r=EE(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+is(this,this.l),r=CE(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=ko(this,this.l+e++))!==0;)a.push(Od(i));r=a.join("");break;case"_wstr":for(e=0,r="";(i=Bn(this,this.l+e))!==0;)a.push(Od(i)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",c=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(c)!==-1)return i=ko(this,c),this.l=c+1,l=Fc.call(this,e-u,i?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Od(Bn(this,c))),c+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(c)!==-1)return i=ko(this,c),this.l=c+1,l=Fc.call(this,e-u,i?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Od(ko(this,c))),c+=1}r=a.join("");break;default:switch(e){case 1:return s=ko(this,this.l),this.l++,s;case 2:return s=(t==="i"?G6:Bn)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(s=(e>0?xi:q6)(this,this.l),this.l+=4,s):(n=is(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=uf(this,this.l):n=uf([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:r=gE(this,this.l,e);break}}return this.l+=e,r}var Y6=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},X6=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Q6=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Z6(e,t,r){var s=0,n=0;if(r==="dbcs"){for(n=0;n!=t.length;++n)Q6(this,t.charCodeAt(n),this.l+2*n);s=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;s=t.length}else if(r==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var i=t.charCodeAt(n);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,Y6(this,t,this.l);break;case 8:if(s=8,r==="f"){K6(this,t,this.l);break}case 16:break;case-4:s=4,X6(this,t,this.l);break}return this.l+=s,this}function jE(e,t){var r=gE(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function dr(e,t){e.l=t,e.read_shift=Fc,e.chk=jE,e.write_shift=Z6}function Cr(e,t){e.l+=t}function qt(e){var t=ti(e);return dr(t,0),t}function na(e,t,r){if(e){var s,n,a;dr(e,e.l||0);for(var i=e.length,l=0,u=0;e.l<i;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var c=xf[l]||xf[65535];for(s=e.read_shift(1),a=s&127,n=1;n<4&&s&128;++n)a+=((s=e.read_shift(1))&127)<<7*n;u=e.l+a;var d=c.f&&c.f(e,a,r);if(e.l=u,t(d,c,l))return}}}function $p(){var e=[],t=ot?256:2048,r=function(c){var d=qt(c);return dr(d,0),d},s=r(t),n=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},a=function(c){return s&&c<s.length-s.l?s:(n(),s=r(Math.max(c+1,t)))},i=function(){return n(),ya(e)},l=function(c){n(),s=c,s.l==null&&(s.l=s.length),a(t)};return{next:a,push:l,end:i,_bufs:e}}function Rc(e,t,r){var s=hr(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function T2(e,t,r){var s=hr(e);return s.s=Rc(s.s,t.s,r),s.e=Rc(s.e,t.s,r),s}function Dc(e,t){if(e.cRel&&e.c<0)for(e=hr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=hr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ye(e);return!e.cRel&&e.cRel!=null&&(r=tO(r)),!e.rRel&&e.rRel!=null&&(r=J6(r)),r}function Zh(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Zt(e.s.c)+":"+(e.e.cRel?"":"$")+Zt(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+mr(e.s.r)+":"+(e.e.rRel?"":"$")+mr(e.e.r):Dc(e.s,t.biff)+":"+Dc(e.e,t.biff)}function Gg(e){return parseInt(eO(e),10)-1}function mr(e){return""+(e+1)}function J6(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function eO(e){return e.replace(/\$(\d+)$/,"$1")}function qg(e){for(var t=rO(e),r=0,s=0;s!==t.length;++s)r=26*r+t.charCodeAt(s)-64;return r-1}function Zt(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function tO(e){return e.replace(/^([A-Z])/,"$$$1")}function rO(e){return e.replace(/^\$([A-Z])/,"$1")}function sO(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Or(e){for(var t=0,r=0,s=0;s<e.length;++s){var n=e.charCodeAt(s);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:t-1}}function Ye(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Il(e){var t=e.indexOf(":");return t==-1?{s:Or(e),e:Or(e)}:{s:Or(e.slice(0,t)),e:Or(e.slice(t+1))}}function ct(e,t){return typeof t>"u"||typeof t=="number"?ct(e.s,e.e):(typeof e!="string"&&(e=Ye(e)),typeof t!="string"&&(t=Ye(t)),e==t?e:e+":"+t)}function Mt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,n=0,a=e.length;for(r=0;s<a&&!((n=e.charCodeAt(s)-64)<1||n>26);++s)r=26*r+n;for(t.s.c=--r,r=0;s<a&&!((n=e.charCodeAt(s)-48)<0||n>9);++s)r=10*r+n;if(t.s.r=--r,s===a||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,r=0;s!=a&&!((n=e.charCodeAt(s)-64)<1||n>26);++s)r=26*r+n;for(t.e.c=--r,r=0;s!=a&&!((n=e.charCodeAt(s)-48)<0||n>9);++s)r=10*r+n;return t.e.r=--r,t}function A2(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ds(e.z,r?Br(t):t)}catch{}try{return e.w=Ds((e.XF||{}).numFmtId||(r?14:0),r?Br(t):t)}catch{return""+t}}function Jn(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?uo[e.v]||e.v:t==null?A2(e,e.v):A2(e,t))}function li(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",s={};return s[r]=e,{SheetNames:[r],Sheets:s}}function FE(e,t,r){var s=r||{},n=e?Array.isArray(e):s.dense,a=e||(n?[]:{}),i=0,l=0;if(a&&s.origin!=null){if(typeof s.origin=="number")i=s.origin;else{var u=typeof s.origin=="string"?Or(s.origin):s.origin;i=u.r,l=u.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=Mt(a["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),i==-1&&(c.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=i+f,x=l+h;if(c.s.r>m&&(c.s.r=m),c.s.c>x&&(c.s.c=x),c.e.r<m&&(c.e.r=m),c.e.c<x&&(c.e.c=x),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(s.nullError)p.t="e",p.v=0;else if(s.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=s.dateNF||Je[14],s.cellDates?(p.t="d",p.w=Ds(p.z,Br(p.v))):(p.t="n",p.v=Br(p.v),p.w=Ds(p.z,p.v))):p.t="s";if(n)a[m]||(a[m]=[]),a[m][x]&&a[m][x].z&&(p.z=a[m][x].z),a[m][x]=p;else{var y=Ye({c:x,r:m});a[y]&&a[y].z&&(p.z=a[y].z),a[y]=p}}}return c.s.c<1e7&&(a["!ref"]=ct(c)),a}function Ml(e,t){return FE(null,e,t)}function nO(e){return e.read_shift(4,"i")}function Er(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function aO(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Yg(e,t){var r=e.l,s=e.read_shift(1),n=Er(e),a=[],i={t:n,h:n};if(s&1){for(var l=e.read_shift(4),u=0;u!=l;++u)a.push(aO(e));i.r=a}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var iO=Yg;function Os(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function lo(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var oO=Er;function Xg(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var lO=Er,Vp=Xg;function Qg(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,s=t[0]&2;e.l+=4;var n=s===0?uf([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):xi(t,0)>>2;return r?n/100:n}function RE(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var co=RE;function br(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function cO(e){var t={},r=e.read_shift(1),s=r>>>1,n=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=n;var c=$i[n];c&&(t.rgb=yu(c));break;case 2:t.rgb=yu([i,l,u]);break;case 3:t.theme=n;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function uO(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function DE(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},s=e.read_shift(4);switch(s){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(s>400)throw new Error("Unsupported Clipboard: "+s.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function dO(e){return DE(e,1)}function fO(e){return DE(e,2)}var Zg=2,Kr=3,Md=11,j2=12,df=19,Ld=64,hO=65,mO=71,pO=4108,xO=4126,sr=80,PE=81,gO=[sr,PE],yO={1:{n:"CodePage",t:Zg},2:{n:"Category",t:sr},3:{n:"PresentationFormat",t:sr},4:{n:"ByteCount",t:Kr},5:{n:"LineCount",t:Kr},6:{n:"ParagraphCount",t:Kr},7:{n:"SlideCount",t:Kr},8:{n:"NoteCount",t:Kr},9:{n:"HiddenCount",t:Kr},10:{n:"MultimediaClipCount",t:Kr},11:{n:"ScaleCrop",t:Md},12:{n:"HeadingPairs",t:pO},13:{n:"TitlesOfParts",t:xO},14:{n:"Manager",t:sr},15:{n:"Company",t:sr},16:{n:"LinksUpToDate",t:Md},17:{n:"CharacterCount",t:Kr},19:{n:"SharedDoc",t:Md},22:{n:"HyperlinksChanged",t:Md},23:{n:"AppVersion",t:Kr,p:"version"},24:{n:"DigSig",t:hO},26:{n:"ContentType",t:sr},27:{n:"ContentStatus",t:sr},28:{n:"Language",t:sr},29:{n:"Version",t:sr},255:{},2147483648:{n:"Locale",t:df},2147483651:{n:"Behavior",t:df},1919054434:{}},vO={1:{n:"CodePage",t:Zg},2:{n:"Title",t:sr},3:{n:"Subject",t:sr},4:{n:"Author",t:sr},5:{n:"Keywords",t:sr},6:{n:"Comments",t:sr},7:{n:"Template",t:sr},8:{n:"LastAuthor",t:sr},9:{n:"RevNumber",t:sr},10:{n:"EditTime",t:Ld},11:{n:"LastPrinted",t:Ld},12:{n:"CreatedDate",t:Ld},13:{n:"ModifiedDate",t:Ld},14:{n:"PageCount",t:Kr},15:{n:"WordCount",t:Kr},16:{n:"CharCount",t:Kr},17:{n:"Thumbnail",t:mO},18:{n:"Application",t:sr},19:{n:"DocSecurity",t:Kr},255:{},2147483648:{n:"Locale",t:df},2147483651:{n:"Behavior",t:df},1919054434:{}},F2={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},wO=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function kO(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var SO=kO([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),$i=hr(SO),uo={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},OE={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},R2={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function bO(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _O(e){var t=bO();if(!e||!e.match)return t;var r={};if((e.match(Tr)||[]).forEach(function(s){var n=He(s);switch(n[0].replace(R6,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":t[R2[n.ContentType]]!==void 0&&t[R2[n.ContentType]].push(n.PartName);break}}),t.xmlns!==V6.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Po={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Hp(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Pc(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var s={};return(e.match(Tr)||[]).forEach(function(n){var a=He(n);if(a[0]==="<Relationship"){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var l=a.TargetMode==="External"?a.Target:mc(a.Target,t);r[l]=i,s[a.Id]=i}}),r["!id"]=s,r}var EO="application/vnd.oasis.opendocument.spreadsheet";function NO(e,t){for(var r=Wg(e),s,n;s=xu.exec(r);)switch(s[3]){case"manifest":break;case"file-entry":if(n=He(s[0],!1),n.path=="/"&&n.type!==EO)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw s}}var Oc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],CO=function(){for(var e=new Array(Oc.length),t=0;t<Oc.length;++t){var r=Oc[t],s="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+s+"[^>]*>([\\s\\S]*?)</"+s+">")}return e}();function IE(e){var t={};e=kt(e);for(var r=0;r<Oc.length;++r){var s=Oc[r],n=e.match(CO[r]);n!=null&&n.length>0&&(t[s[1]]=ft(n[1])),s[2]==="date"&&t[s[1]]&&(t[s[1]]=or(t[s[1]]))}return t}var TO=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function ME(e,t,r,s){var n=[];if(typeof e=="string")n=S2(e,s);else for(var a=0;a<e.length;++a)n=n.concat(e[a].map(function(d){return{v:d}}));var i=typeof t=="string"?S2(t,s).map(function(d){return d.v}):t,l=0,u=0;if(i.length>0)for(var c=0;c!==n.length;c+=2){switch(u=+n[c+1].v,n[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=i.slice(l,l+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=i.slice(l,l+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=i.slice(l,l+u);break}l+=u}}function AO(e,t,r){var s={};return t||(t={}),e=kt(e),TO.forEach(function(n){var a=(e.match(pu(n[0]))||[])[1];switch(n[2]){case"string":a&&(t[n[1]]=ft(a));break;case"bool":t[n[1]]=a==="true";break;case"raw":var i=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));i&&i.length>0&&(s[n[1]]=i[1]);break}}),s.HeadingPairs&&s.TitlesOfParts&&ME(s.HeadingPairs,s.TitlesOfParts,t,r),t}var jO=/<[^>]+>[^<]*/g;function FO(e,t){var r={},s="",n=e.match(jO);if(n)for(var a=0;a!=n.length;++a){var i=n[a],l=He(i);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":s=ft(l.name);break;case"</property>":s=null;break;default:if(i.indexOf("<vt:")===0){var u=i.split(">"),c=u[0].slice(4),d=u[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[s]=ft(d);break;case"bool":r[s]=_t(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[s]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[s]=parseFloat(d);break;case"filetime":case"date":r[s]=or(d);break;case"cy":case"error":r[s]=ft(d);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,c,u)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var RO={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Jh;function DO(e,t,r){Jh||(Jh=$g(RO)),t=Jh[t]||t,e[t]=r}function Jg(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function LE(e,t,r){var s=e.l,n=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-s&3;)++e.l;return n}function BE(e,t,r){var s=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(s.length+1&3)&3),s}function zE(e,t,r){return t===31?BE(e):LE(e,t,r)}function Wp(e,t,r){return zE(e,t,r===!1?0:4)}function PO(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return zE(e,t,0)}function OO(e){for(var t=e.read_shift(4),r=[],s=0;s!=t;++s){var n=e.l;r[s]=e.read_shift(0,"lpwstr").replace(Mr,""),e.l-n&2&&(e.l+=2)}return r}function IO(e){for(var t=e.read_shift(4),r=[],s=0;s!=t;++s)r[s]=e.read_shift(0,"lpstr-cp").replace(Mr,"");return r}function MO(e){var t=e.l,r=ff(e,PE);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var s=ff(e,Kr);return[r,s]}function LO(e){for(var t=e.read_shift(4),r=[],s=0;s<t/2;++s)r.push(MO(e));return r}function D2(e,t){for(var r=e.read_shift(4),s={},n=0;n!=r;++n){var a=e.read_shift(4),i=e.read_shift(4);s[a]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Mr,"").replace(hc,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>2+1<<2),s}function UE(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function BO(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ff(e,t,r){var s=e.read_shift(2),n,a=r||{};if(e.l+=2,t!==j2&&s!==t&&gO.indexOf(t)===-1&&!((t&65534)==4126&&(s&65534)==4126))throw new Error("Expected type "+t+" saw "+s);switch(t===j2?s:t){case 2:return n=e.read_shift(2,"i"),a.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return LE(e,s,4).replace(Mr,"");case 31:return BE(e);case 64:return Jg(e);case 65:return UE(e);case 71:return BO(e);case 80:return Wp(e,s,!a.raw).replace(Mr,"");case 81:return PO(e,s).replace(Mr,"");case 4108:return LO(e);case 4126:case 4127:return s==4127?OO(e):IO(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}}function P2(e,t){var r=e.l,s=e.read_shift(4),n=e.read_shift(4),a=[],i=0,l=0,u=-1,c={};for(i=0;i!=n;++i){var d=e.read_shift(4),f=e.read_shift(4);a[i]=[d,f+r]}a.sort(function(v,w){return v[1]-w[1]});var h={};for(i=0;i!=n;++i){if(e.l!==a[i][1]){var p=!0;if(i>0&&t)switch(t[a[i-1][0]].t){case 2:e.l+2===a[i][1]&&(e.l+=2,p=!1);break;case 80:e.l<=a[i][1]&&(e.l=a[i][1],p=!1);break;case 4108:e.l<=a[i][1]&&(e.l=a[i][1],p=!1);break}if((!t||i==0)&&e.l<=a[i][1]&&(p=!1,e.l=a[i][1]),p)throw new Error("Read Error: Expected address "+a[i][1]+" at "+e.l+" :"+i)}if(t){var m=t[a[i][0]];if(h[m.n]=ff(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ys(l=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(a[i][0]===1){if(l=h.CodePage=ff(e,Zg),Ys(l),u!==-1){var x=e.l;e.l=a[u][1],c=D2(e,l),e.l=x}}else if(a[i][0]===0){if(l===0){u=i,e.l=a[i+1][1];continue}c=D2(e,l)}else{var y=c[a[i][0]],g;switch(e[e.l]){case 65:e.l+=4,g=UE(e);break;case 30:e.l+=4,g=Wp(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,g=Wp(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=Lt(e,4);break;case 64:e.l+=4,g=or(Jg(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[y]=g}}return e.l=r+s,h}function O2(e,t,r){var s=e.content;if(!s)return{};dr(s,0);var n,a,i,l,u=0;s.chk("feff","Byte Order: "),s.read_shift(2);var c=s.read_shift(4),d=s.read_shift(16);if(d!==lt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(n=s.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(a=s.read_shift(16),l=s.read_shift(4),n===1&&l!==s.l)throw new Error("Length mismatch: "+l+" !== "+s.l);n===2&&(i=s.read_shift(16),u=s.read_shift(4));var f=P2(s,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=a,n===1)return h;if(u-s.l==2&&(s.l+=2),s.l!==u)throw new Error("Length mismatch 2: "+s.l+" !== "+u);var m;try{m=P2(s,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[a,i],h}function ia(e,t){return e.read_shift(t),null}function zO(e,t,r){for(var s=[],n=e.l+t;e.l<n;)s.push(r(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return s}function Lt(e,t){return e.read_shift(t)===1}function Ht(e){return e.read_shift(2,"u")}function $E(e,t){return zO(e,t,Ht)}function UO(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Yu(e,t,r){var s=e.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var i=s?e.read_shift(s,n):"";return i}function $O(e){var t=e.read_shift(2),r=e.read_shift(1),s=r&4,n=r&8,a=1+(r&1),i=0,l,u={};n&&(i=e.read_shift(2)),s&&(l=e.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,c);return n&&(e.l+=4*i),s&&(e.l+=l),u.t=d,n||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function so(e,t,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function Xu(e,t,r){var s=e.read_shift(r&&r.biff==2?1:2);return s===0?(e.l++,""):so(e,s,r)}function fo(e,t,r){if(r.biff>5)return Xu(e,t,r);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function VO(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function HO(e){var t=e.read_shift(4),r=e.l,s=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(s=!0),e.l=r);var n=e.read_shift((s?t-24:t)>>1,"utf16le").replace(Mr,"");return s&&(e.l+=24),n}function WO(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var s=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return r+s.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(a>>1,"utf16le").replace(Mr,"");return r+i}function KO(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return HO(e);case"0303000000000000c000000000000046":return WO(e);default:throw new Error("Unsupported Moniker "+r)}}function Bd(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Mr,""):"";return r}function GO(e,t){var r=e.l+t,s=e.read_shift(4);if(s!==2)throw new Error("Unrecognized streamVersion: "+s);var n=e.read_shift(2);e.l+=2;var a,i,l,u,c="",d,f;n&16&&(a=Bd(e,r-e.l)),n&128&&(i=Bd(e,r-e.l)),(n&257)===257&&(l=Bd(e,r-e.l)),(n&257)===1&&(u=KO(e,r-e.l)),n&8&&(c=Bd(e,r-e.l)),n&32&&(d=e.read_shift(16)),n&64&&(f=Jg(e)),e.l=r;var h=i||l||u||"";h&&c&&(h+="#"+c),h||(h="#"+c),n&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),a&&(p.Tooltip=a),p}function VE(e){var t=e.read_shift(1),r=e.read_shift(1),s=e.read_shift(1),n=e.read_shift(1);return[t,r,s,n]}function HE(e,t){var r=VE(e);return r[3]=0,r}function Cn(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2);return{r:t,c:r,ixfe:s}}function qO(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function YO(e,t,r){return t===0?"":fo(e,t,r)}function XO(e,t,r){var s=r.biff>8?4:2,n=e.read_shift(s),a=e.read_shift(s,"i"),i=e.read_shift(s,"i");return[n,a,i]}function WE(e){var t=e.read_shift(2),r=Qg(e);return[t,r]}function QO(e,t,r){e.l+=4,t-=4;var s=e.l+t,n=Yu(e,t,r),a=e.read_shift(2);if(s-=e.l,a!==s)throw new Error("Malformed AddinUdf: padding = "+s+" != "+a);return e.l+=a,n}function th(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),n=e.read_shift(2);return{s:{c:s,r:t},e:{c:n,r}}}function KE(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(1),n=e.read_shift(1);return{s:{c:s,r:t},e:{c:n,r}}}var ZO=KE;function GE(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2);return e.l+=12,[r,t,s]}function JO(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function eI(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function vr(e){e.l+=2,e.l+=e.read_shift(2)}var tI={0:vr,4:vr,5:vr,6:vr,7:eI,8:vr,9:vr,10:vr,11:vr,12:vr,13:JO,14:vr,15:vr,16:vr,17:vr,18:vr,19:vr,20:vr,21:GE};function rI(e,t){for(var r=e.l+t,s=[];e.l<r;){var n=e.read_shift(2);e.l-=2;try{s.push(tI[n](e,r-e.l))}catch{return e.l=r,s}}return e.l!=r&&(e.l=r),s}function zd(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function sI(e,t){return t===0||e.read_shift(2),1200}function nI(e,t,r){if(r.enc)return e.l+=t,"";var s=e.l,n=fo(e,0,r);return e.read_shift(t+s-e.l),n}function aI(e,t,r){var s=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:s&16,fBelow:s&64,fRight:s&128}}function iI(e,t,r){var s=e.read_shift(4),n=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var i=Yu(e,0,r);return i.length===0&&(i="Sheet1"),{pos:s,hs:n,dt:a,name:i}}function oI(e,t){for(var r=e.l+t,s=e.read_shift(4),n=e.read_shift(4),a=[],i=0;i!=n&&e.l<r;++i)a.push($O(e));return a.Count=s,a.Unique=n,a}function lI(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function cI(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var s=e.read_shift(1);return e.l+=3,s&7&&(t.level=s&7),s&32&&(t.hidden=!0),s&64&&(t.hpt=r/20),t}function uI(e){var t=qO(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function dI(e){return e.read_shift(2),e.read_shift(4)}function I2(e,t,r){var s=0;r&&r.biff==2||(s=e.read_shift(2));var n=e.read_shift(2);r&&r.biff==2&&(s=1-(n>>15),n&=32767);var a={Unsynced:s&1,DyZero:(s&2)>>1,ExAsc:(s&4)>>2,ExDsc:(s&8)>>3};return[a,n]}function fI(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[s,n],Flags:a,CurTab:i,FirstTab:l,Selected:u,TabRatio:c}}function hI(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var s=e.read_shift(2);return{RTL:s&64}}function mI(){}function pI(e,t,r){var s={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return s.name=Yu(e,0,r),s}function xI(e){var t=Cn(e);return t.isst=e.read_shift(4),t}function gI(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var s=e.l+t,n=Cn(e);r.biff==2&&e.l++;var a=Xu(e,s-e.l,r);return n.val=a,n}function yI(e,t,r){var s=e.read_shift(2),n=fo(e,0,r);return[s,n]}var vI=fo;function M2(e,t,r){var s=e.l+t,n=r.biff==8||!r.biff?4:2,a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(2),u=e.read_shift(2);return e.l=s,{s:{r:a,c:l},e:{r:i,c:u}}}function wI(e){var t=e.read_shift(2),r=e.read_shift(2),s=WE(e);return{r:t,c:r,ixfe:s[0],rknum:s[1]}}function kI(e,t){for(var r=e.l+t-2,s=e.read_shift(2),n=e.read_shift(2),a=[];e.l<r;)a.push(WE(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(a.length!=i-n+1)throw new Error("MulRK length mismatch");return{r:s,c:n,C:i,rkrec:a}}function SI(e,t){for(var r=e.l+t-2,s=e.read_shift(2),n=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(a.length!=i-n+1)throw new Error("MulBlank length mismatch");return{r:s,c:n,C:i,ixfe:a}}function bI(e,t,r,s){var n={},a=e.read_shift(4),i=e.read_shift(4),l=e.read_shift(4),u=e.read_shift(2);return n.patternType=wO[l>>26],s.cellStyles&&(n.alc=a&7,n.fWrap=a>>3&1,n.alcV=a>>4&7,n.fJustLast=a>>7&1,n.trot=a>>8&255,n.cIndent=a>>16&15,n.fShrinkToFit=a>>20&1,n.iReadOrder=a>>22&2,n.fAtrNum=a>>26&1,n.fAtrFnt=a>>27&1,n.fAtrAlc=a>>28&1,n.fAtrBdr=a>>29&1,n.fAtrPat=a>>30&1,n.fAtrProt=a>>31&1,n.dgLeft=i&15,n.dgRight=i>>4&15,n.dgTop=i>>8&15,n.dgBottom=i>>12&15,n.icvLeft=i>>16&127,n.icvRight=i>>23&127,n.grbitDiag=i>>30&3,n.icvTop=l&127,n.icvBottom=l>>7&127,n.icvDiag=l>>14&127,n.dgDiag=l>>21&15,n.icvFore=u&127,n.icvBack=u>>7&127,n.fsxButton=u>>14&1),n}function _I(e,t,r){var s={};return s.ifnt=e.read_shift(2),s.numFmtId=e.read_shift(2),s.flags=e.read_shift(2),s.fStyle=s.flags>>2&1,t-=6,s.data=bI(e,t,s.fStyle,r),s}function EI(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function L2(e,t,r){var s=Cn(e);(r.biff==2||t==9)&&++e.l;var n=UO(e);return s.val=n,s.t=n===!0||n===!1?"b":"e",s}function NI(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var s=Cn(e),n=br(e);return s.val=n,s}var B2=YO;function CI(e,t,r){var s=e.l+t,n=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,n];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var i=so(e,a),l=[];s>e.l;)l.push(Xu(e));return[a,n,i,l]}function z2(e,t,r){var s=e.read_shift(2),n,a={fBuiltIn:s&1,fWantAdvise:s>>>1&1,fWantPict:s>>>2&1,fOle:s>>>3&1,fOleLink:s>>>4&1,cf:s>>>5&1023,fIcon:s>>>15&1};return r.sbcch===14849&&(n=QO(e,t-2,r)),a.body=n||e.read_shift(t-2),typeof n=="string"&&(a.Name=n),a}var TI=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function U2(e,t,r){var s=e.l+t,n=e.read_shift(2),a=e.read_shift(1),i=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=so(e,i,r);n&32&&(c=TI[c.charCodeAt(0)]);var d=s-e.l;r&&r.biff==2&&--d;var f=s==e.l||l===0||!(d>0)?[]:c7(e,d,r,l);return{chKey:a,Name:c,itab:u,rgce:f}}function qE(e,t,r){if(r.biff<8)return AI(e,t,r);for(var s=[],n=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)s.push(XO(e,r.biff>8?12:6,r));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return s}function AI(e,t,r){e[e.l+1]==3&&e[e.l]++;var s=Yu(e,t,r);return s.charCodeAt(0)==3?s.slice(1):s}function jI(e,t,r){if(r.biff<8){e.l+=t;return}var s=e.read_shift(2),n=e.read_shift(2),a=so(e,s,r),i=so(e,n,r);return[a,i]}function FI(e,t,r){var s=KE(e);e.l++;var n=e.read_shift(1);return t-=8,[u7(e,t,r),n,s]}function $2(e,t,r){var s=ZO(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[s,o7(e,t,r)]}function RI(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,s=e.read_shift(4);return[t,r,s]}function DI(e,t,r){if(!(r.biff<8)){var s=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=fo(e,0,r);return r.biff<8&&e.read_shift(1),[{r:s,c:n},l,i,a]}}function PI(e,t,r){return DI(e,t,r)}function OI(e,t){for(var r=[],s=e.read_shift(2);s--;)r.push(th(e));return r}function II(e,t,r){if(r&&r.biff<8)return LI(e,t,r);var s=GE(e),n=rI(e,t-22,s[1]);return{cmo:s,ft:n}}var MI={8:function(e,t){var r=e.l+t;e.l+=10;var s=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=r,{fmt:s}}};function LI(e,t,r){e.l+=4;var s=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((MI[s]||Cr)(e,t,r)),{cmo:[n,s,a],ft:i}}function BI(e,t,r){var s=e.l,n="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:i=VO(e,6,r);var l=e.read_shift(2);e.read_shift(2),Ht(e,2);var u=e.read_shift(2);e.l+=u;for(var c=1;c<e.lens.length-1;++c){if(e.l-s!=e.lens[c])throw new Error("TxO: bad continue record");var d=e[e.l],f=so(e,e.lens[c+1]-e.lens[c]-1);if(n+=f,n.length>=(d?l:2*l))break}if(n.length!==l&&n.length!==l*2)throw new Error("cchText: "+l+" != "+n.length);return e.l=s+t,{t:n}}catch{return e.l=s+t,{t:n}}}function zI(e,t){var r=th(e);e.l+=16;var s=GO(e,t-24);return[r,s]}function UI(e,t){e.read_shift(2);var r=th(e),s=e.read_shift((t-10)/2,"dbcs-cont");return s=s.replace(Mr,""),[r,s]}function $I(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=F2[r]||r,r=e.read_shift(2),t[1]=F2[r]||r,t}function VI(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(HE(e));return r}function HI(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(HE(e));return r}function WI(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function YE(e,t,r){if(!r.cellStyles)return Cr(e,t);var s=r&&r.biff>=12?4:2,n=e.read_shift(s),a=e.read_shift(s),i=e.read_shift(s),l=e.read_shift(s),u=e.read_shift(2);s==2&&(e.l+=2);var c={s:n,e:a,w:i,ixfe:l,flags:u};return(r.biff>=5||!r.biff)&&(c.level=u>>8&7),c}function KI(e,t){var r={};return t<32||(e.l+=16,r.header=br(e),r.footer=br(e),e.l+=2),r}function GI(e,t,r){var s={area:!1};if(r.biff!=5)return e.l+=t,s;var n=e.read_shift(1);return e.l+=3,n&16&&(s.area=!0),s}var qI=Cn,YI=$E,XI=Xu;function QI(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),n={fmt:t,env:r,len:s,data:e.slice(e.l,e.l+s)};return e.l+=s,n}function ZI(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var s=Cn(e);++e.l;var n=fo(e,t-7,r);return s.t="str",s.val=n,s}function JI(e){var t=Cn(e);++e.l;var r=br(e);return t.t="n",t.val=r,t}function eM(e){var t=Cn(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function tM(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function rM(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function sM(e,t,r){var s=e.l+t,n=Cn(e),a=e.read_shift(2),i=so(e,a,r);return e.l=s,n.t="str",n.val=i,n}var nM=[2,3,48,49,131,139,140,245],V2=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=$g({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,u){var c=[],d=ti(1);switch(u.type){case"base64":d=Gs(ps(l));break;case"binary":d=Gs(l);break;case"buffer":case"array":d=l;break}dr(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,y=521;f==2&&(x=d.read_shift(2)),d.l+=3,f!=2&&(x=d.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(y=d.read_shift(2));var g=d.read_shift(2),v=u.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(v=e[d[d.l]]),d.l+=1,d.l+=2),m&&(d.l+=36);for(var w=[],b={},D=Math.min(d.length,f==2?521:y-10-(p?264:0)),A=m?32:11;d.l<D&&d[d.l]!=13;)switch(b={},b.name=ga.utils.decode(v,d.slice(d.l,d.l+A)).replace(/[\u0000\r\n].*$/g,""),d.l+=A,b.type=String.fromCharCode(d.read_shift(1)),f!=2&&!m&&(b.offset=d.read_shift(4)),b.len=d.read_shift(1),f==2&&(b.offset=d.read_shift(2)),b.dec=d.read_shift(1),b.name.length&&w.push(b),f!=2&&(d.l+=m?13:14),b.type){case"B":(!p||b.len!=8)&&u.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var _=0,S=0;for(c[0]=[],S=0;S!=w.length;++S)c[0][S]=w[S].name;for(;x-- >0;){if(d[d.l]===42){d.l+=g;continue}for(++d.l,c[++_]=[],S=0,S=0;S!=w.length;++S){var k=d.slice(d.l,d.l+w[S].len);d.l+=w[S].len,dr(k,0);var N=ga.utils.decode(v,k);switch(w[S].type){case"C":N.trim().length&&(c[_][S]=N.replace(/\s+$/,""));break;case"D":N.length===8?c[_][S]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):c[_][S]=N;break;case"F":c[_][S]=parseFloat(N.trim());break;case"+":case"I":c[_][S]=m?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":c[_][S]=!0;break;case"N":case"F":c[_][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[_][S]="##MEMO##"+(m?parseInt(N.trim(),10):k.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(c[_][S]=+N||0);break;case"@":c[_][S]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":c[_][S]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":c[_][S]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[_][S]=-k.read_shift(-8,"f");break;case"B":if(p&&w[S].len==8){c[_][S]=k.read_shift(8,"f");break}case"G":case"P":k.l+=w[S].len;break;case"0":if(w[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[S].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return u&&u.sheetRows&&(c=c.slice(0,u.sheetRows)),u.DBF=w,c}function s(l,u){var c=u||{};c.dateNF||(c.dateNF="yyyymmdd");var d=Ml(r(l,c),c);return d["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,d}function n(l,u){try{return li(s(l,u),u)}catch(c){if(u&&u.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,u){var c=u||{};if(+c.codepage>=0&&Ys(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=$p(),f=Zp(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=l["!cols"]||[],x=0,y=0,g=0,v=1;for(x=0;x<h.length;++x){if(((m[x]||{}).DBF||{}).name){h[x]=m[x].DBF.name,++g;continue}if(h[x]!=null){if(++g,typeof h[x]=="number"&&(h[x]=h[x].toString(10)),typeof h[x]!="string")throw new Error("DBF Invalid column name "+h[x]+" |"+typeof h[x]+"|");if(h.indexOf(h[x])!==x){for(y=0;y<1024;++y)if(h.indexOf(h[x]+"_"+y)==-1){h[x]+="_"+y;break}}}}var w=Mt(l["!ref"]),b=[],D=[],A=[];for(x=0;x<=w.e.c-w.s.c;++x){var _="",S="",k=0,N=[];for(y=0;y<p.length;++y)p[y][x]!=null&&N.push(p[y][x]);if(N.length==0||h[x]==null){b[x]="?";continue}for(y=0;y<N.length;++y){switch(typeof N[y]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=N[y]instanceof Date?"D":"C";break;default:S="C"}k=Math.max(k,String(N[y]).length),_=_&&_!=S?"C":S}k>250&&(k=250),S=((m[x]||{}).DBF||{}).type,S=="C"&&m[x].DBF.len>k&&(k=m[x].DBF.len),_=="B"&&S=="N"&&(_="N",A[x]=m[x].DBF.dec,k=m[x].DBF.len),D[x]=_=="C"||S=="N"?k:a[_]||0,v+=D[x],b[x]=_}var C=d.next(32);for(C.write_shift(4,318902576),C.write_shift(4,p.length),C.write_shift(2,296+32*g),C.write_shift(2,v),x=0;x<4;++x)C.write_shift(4,0);for(C.write_shift(4,0|(+t[G_]||3)<<8),x=0,y=0;x<h.length;++x)if(h[x]!=null){var E=d.next(32),M=(h[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,M,"sbcs"),E.write_shift(1,b[x]=="?"?"C":b[x],"sbcs"),E.write_shift(4,y),E.write_shift(1,D[x]||a[b[x]]||0),E.write_shift(1,A[x]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),y+=D[x]||a[b[x]]||0}var Q=d.next(264);for(Q.write_shift(4,13),x=0;x<65;++x)Q.write_shift(4,0);for(x=0;x<p.length;++x){var Y=d.next(v);for(Y.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(b[y]){case"L":Y.write_shift(1,p[x][y]==null?63:p[x][y]?84:70);break;case"B":Y.write_shift(8,p[x][y]||0,"f");break;case"N":var X="0";for(typeof p[x][y]=="number"&&(X=p[x][y].toFixed(A[y]||0)),g=0;g<D[y]-X.length;++g)Y.write_shift(1,32);Y.write_shift(1,X,"sbcs");break;case"D":p[x][y]?(Y.write_shift(4,("0000"+p[x][y].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(p[x][y].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+p[x][y].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(p[x][y]!=null?p[x][y]:"").slice(0,D[y]);for(Y.write_shift(1,ee,"sbcs"),g=0;g<D[y]-ee.length;++g)Y.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:n,to_sheet:s,from_sheet:i}}(),aM=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+En(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?a2(m):m},s=function(h,p,m){var x=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return x==59?h:a2(x)};e["|"]=254;function n(h,p){switch(p.type){case"base64":return a(ps(h),p);case"binary":return a(h,p);case"buffer":return a(ot&&Buffer.isBuffer(h)?h.toString("binary"):oo(h),p);case"array":return a(ro(h),p)}throw new Error("Unrecognized type "+p.type)}function a(h,p){var m=h.split(/[\n\r]+/),x=-1,y=-1,g=0,v=0,w=[],b=[],D=null,A={},_=[],S=[],k=[],N=0,C;for(+p.codepage>=0&&Ys(+p.codepage);g!==m.length;++g){N=0;var E=m[g].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,r),M=E.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),Q=M[0],Y;if(E.length>0)switch(Q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&b.push(E.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,ee=!1,te=!1,R=!1,se=-1,U=-1;for(v=1;v<M.length;++v)switch(M[v].charAt(0)){case"A":break;case"X":y=parseInt(M[v].slice(1))-1,ee=!0;break;case"Y":for(x=parseInt(M[v].slice(1))-1,ee||(y=0),C=w.length;C<=x;++C)w[C]=[];break;case"K":Y=M[v].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(en(Y))?isNaN(El(Y).getDate())||(Y=or(Y)):(Y=en(Y),D!==null&&Ol(D)&&(Y=eh(Y))),X=!0;break;case"E":R=!0;var T=Wo(M[v].slice(1),{r:x,c:y});w[x][y]=[w[x][y],T];break;case"S":te=!0,w[x][y]=[w[x][y],"S5S"];break;case"G":break;case"R":se=parseInt(M[v].slice(1))-1;break;case"C":U=parseInt(M[v].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}if(X&&(w[x][y]&&w[x][y].length==2?w[x][y][0]=Y:w[x][y]=Y,D=null),te){if(R)throw new Error("SYLK shared formula cannot have own formula");var j=se>-1&&w[se][U];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");w[x][y][1]=aN(j[1],{r:x-se,c:y-U})}break;case"F":var L=0;for(v=1;v<M.length;++v)switch(M[v].charAt(0)){case"X":y=parseInt(M[v].slice(1))-1,++L;break;case"Y":for(x=parseInt(M[v].slice(1))-1,C=w.length;C<=x;++C)w[C]=[];break;case"M":N=parseInt(M[v].slice(1))/20;break;case"F":break;case"G":break;case"P":D=b[parseInt(M[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=M[v].slice(1).split(" "),C=parseInt(k[0],10);C<=parseInt(k[1],10);++C)N=parseInt(k[2],10),S[C-1]=N===0?{hidden:!0}:{wch:N},Nl(S[C-1]);break;case"C":y=parseInt(M[v].slice(1))-1,S[y]||(S[y]={});break;case"R":x=parseInt(M[v].slice(1))-1,_[x]||(_[x]={}),N>0?(_[x].hpt=N,_[x].hpx=vu(N)):N===0&&(_[x].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}L<1&&(D=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}}return _.length>0&&(A["!rows"]=_),S.length>0&&(A["!cols"]=S),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,A]}function i(h,p){var m=n(h,p),x=m[0],y=m[1],g=Ml(x,p);return En(y).forEach(function(v){g[v]=y[v]}),g}function l(h,p){return li(i(h,p),p)}function u(h,p,m,x){var y="C;Y"+(m+1)+";X"+(x+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+W8(h.f,{r:m,c:x}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,p){p.forEach(function(m,x){var y="F;W"+(x+1)+" "+(x+1)+" ";m.hidden?y+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=mf(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=pf(m.wpx)),typeof m.wch=="number"&&(y+=Math.round(m.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function d(h,p){p.forEach(function(m,x){var y="F;";m.hidden?y+="M0;":m.hpt?y+="M"+20*m.hpt+";":m.hpx&&(y+="M"+20*rN(m.hpx)+";"),y.length>2&&h.push(y+"R"+(x+1))})}function f(h,p){var m=["ID;PWXL;N;E"],x=[],y=Mt(h["!ref"]),g,v=Array.isArray(h),w=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&c(m,h["!cols"]),h["!rows"]&&d(m,h["!rows"]),m.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var b=y.s.r;b<=y.e.r;++b)for(var D=y.s.c;D<=y.e.c;++D){var A=Ye({r:b,c:D});g=v?(h[b]||[])[D]:h[A],!(!g||g.v==null&&(!g.f||g.F))&&x.push(u(g,h,b,D))}return m.join(w)+w+x.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),iM=function(){function e(a,i){switch(i.type){case"base64":return t(ps(a),i);case"binary":return t(a,i);case"buffer":return t(ot&&Buffer.isBuffer(a)?a.toString("binary"):oo(a),i);case"array":return t(ro(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){for(var l=a.split(`
`),u=-1,c=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++u]=[],c=0;continue}if(!(u<0)){var h=l[d].trim().split(","),p=h[0],m=h[1];++d;for(var x=l[d]||"";(x.match(/["]/g)||[]).length&1&&d<l.length-1;)x+=`
`+l[++d];switch(x=x.trim(),+p){case-1:if(x==="BOT"){f[++u]=[],c=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[u][c]=!0:x==="FALSE"?f[u][c]=!1:isNaN(en(m))?isNaN(El(m).getDate())?f[u][c]=m:f[u][c]=or(m):f[u][c]=en(m),++c;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[u][c++]=x!==""?x:null;break}if(x==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(a,i){return Ml(e(a,i),i)}function s(a,i){return li(r(a,i),i)}var n=function(){var a=function(u,c,d,f,h){u.push(c),u.push(d+","+f),u.push('"'+h.replace(/"/g,'""')+'"')},i=function(u,c,d,f){u.push(c+","+d),u.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(u){var c=[],d=Mt(u["!ref"]),f,h=Array.isArray(u);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,d.e.r-d.s.r+1,""),a(c,"TUPLES",0,d.e.c-d.s.c+1,""),a(c,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){i(c,-1,0,"BOT");for(var m=d.s.c;m<=d.e.c;++m){var x=Ye({r:p,c:m});if(f=h?(u[p]||[])[m]:u[x],!f){i(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?i(c,1,0,"="+f.f):i(c,1,0,""):i(c,0,y,"V");break;case"b":i(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ds(f.z||Je[14],Br(or(f.v)))),i(c,0,f.w,"V");break;default:i(c,1,0,"")}}}i(c,-1,0,"EOD");var g=`\r
`,v=c.join(g);return v}}();return{to_workbook:s,to_sheet:r,from_sheet:n}}(),oM=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,x=-1,y=0,g=[];y!==p.length;++y){var v=p[y].trim().split(":");if(v[0]==="cell"){var w=Or(v[1]);if(g.length<=w.r)for(m=g.length;m<=w.r;++m)g[m]||(g[m]=[]);switch(m=w.r,x=w.c,v[2]){case"t":g[m][x]=e(v[3]);break;case"v":g[m][x]=+v[3];break;case"vtf":var b=v[v.length-1];case"vtc":switch(v[3]){case"nl":g[m][x]=!!+v[4];break;default:g[m][x]=+v[4];break}v[2]=="vtf"&&(g[m][x]=[g[m][x],b])}}}return h&&h.sheetRows&&(g=g.slice(0,h.sheetRows)),g}function s(f,h){return Ml(r(f,h),h)}function n(f,h){return li(s(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,x="",y=Il(f["!ref"]),g=Array.isArray(f),v=y.s.r;v<=y.e.r;++v)for(var w=y.s.c;w<=y.e.c;++w)if(x=Ye({r:v,c:w}),m=g?(f[v]||[])[w]:f[x],!(!m||m.v==null||m.t==="z")){switch(p=["cell",x,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var b=Br(or(m.v));p[2]="vtc",p[3]="nd",p[4]=""+b,p[5]=m.w||Ds(m.z||Je[14],b);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[a,i,l,i,c(f),u].join(`
`)}return{to_workbook:n,to_sheet:s,from_sheet:d}}(),gu=function(){function e(d,f,h,p,m){m.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(en(d))?isNaN(El(d).getDate())?f[h][p]=d:f[h][p]=or(d):f[h][p]=en(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var m=d.split(/[\r\n]/),x=m.length-1;x>=0&&m[x].length===0;)--x;for(var y=10,g=0,v=0;v<=x;++v)g=m[v].indexOf(" "),g==-1?g=m[v].length:g++,y=Math.max(y,g);for(v=0;v<=x;++v){p[v]=[];var w=0;for(e(m[v].slice(0,y).trim(),p,v,w,h),w=1;w<=(m[v].length-y)/10+1;++w)e(m[v].slice(y+(w-1)*10,y+w*10).trim(),p,v,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function n(d){for(var f={},h=!1,p=0,m=0;p<d.length;++p)(m=d.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=s;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(x,y){return x[0]-y[0]||s[x[1]]-s[y[1]]}),r[m.pop()[1]]||44}function a(d,f){var h=f||{},p="",m=h.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=n(d.slice(0,1024)):h&&h.FS?p=h.FS:p=n(d.slice(0,1024));var y=0,g=0,v=0,w=0,b=0,D=p.charCodeAt(0),A=!1,_=0,S=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=h.dateNF!=null?v6(h.dateNF):null;function N(){var C=d.slice(w,b),E={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)E.t="z";else if(h.raw)E.t="s",E.v=C;else if(C.trim().length===0)E.t="s",E.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(E.t="s",E.v=C.slice(2,-1).replace(/""/g,'"')):G8(C)?(E.t="n",E.f=C.slice(1)):(E.t="s",E.v=C);else if(C=="TRUE")E.t="b",E.v=!0;else if(C=="FALSE")E.t="b",E.v=!1;else if(!isNaN(v=en(C)))E.t="n",h.cellText!==!1&&(E.w=C),E.v=v;else if(!isNaN(El(C).getDate())||k&&C.match(k)){E.z=h.dateNF||Je[14];var M=0;k&&C.match(k)&&(C=w6(C,h.dateNF,C.match(k)||[]),M=1),h.cellDates?(E.t="d",E.v=or(C,M)):(E.t="n",E.v=Br(or(C,M))),h.cellText!==!1&&(E.w=Ds(E.z,E.v instanceof Date?Br(E.v):E.v)),h.cellNF||delete E.z}else E.t="s",E.v=C;if(E.t=="z"||(h.dense?(m[y]||(m[y]=[]),m[y][g]=E):m[Ye({c:g,r:y})]=E),w=b+1,S=d.charCodeAt(w),x.e.c<g&&(x.e.c=g),x.e.r<y&&(x.e.r=y),_==D)++g;else if(g=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;b<d.length;++b)switch(_=d.charCodeAt(b)){case 34:S===34&&(A=!A);break;case D:case 10:case 13:if(!A&&N())break e;break}return b-w>0&&N(),m["!ref"]=ct(x),m}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,f):Ml(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:o1(d,f);switch(f.type){case"base64":h=ps(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof ga<"u"?h=ga.utils.decode(f.codepage,d):h=ot&&Buffer.isBuffer(d)?d.toString("binary"):oo(d);break;case"array":h=ro(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=kt(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=kt(h):f.type=="binary"&&typeof ga<"u"&&f.codepage&&(h=ga.utils.decode(f.codepage,ga.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?oM.to_sheet(f.type=="string"?h:kt(h),f):i(h,f)}function u(d,f){return li(l(d,f),f)}function c(d){for(var f=[],h=Mt(d["!ref"]),p,m=Array.isArray(d),x=h.s.r;x<=h.e.r;++x){for(var y=[],g=h.s.c;g<=h.e.c;++g){var v=Ye({r:x,c:g});if(p=m?(d[x]||[])[g]:d[v],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(Jn(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(g===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:c}}();function lM(e,t){var r=t||{},s=!!r.WTF;r.WTF=!0;try{var n=aM.to_workbook(e,r);return r.WTF=s,n}catch(a){if(r.WTF=s,!a.message.match(/SYLK bad record ID/)&&s)throw a;return gu.to_workbook(e,t)}}var Ic=function(){function e(T,j,L){if(T){dr(T,T.l||0);for(var z=L.Enum||se;T.l<T.length;){var I=T.read_shift(2),J=z[I]||z[65535],ne=T.read_shift(2),re=T.l+ne,ae=J.f&&J.f(T,ne,L);if(T.l=re,j(ae,J,I))return}}}function t(T,j){switch(j.type){case"base64":return r(Gs(ps(T)),j);case"binary":return r(Gs(T),j);case"buffer":case"array":return r(T,j)}throw"Unsupported type "+j.type}function r(T,j){if(!T)return T;var L=j||{},z=L.dense?[]:{},I="Sheet1",J="",ne=0,re={},ae=[],q=[],O={s:{r:0,c:0},e:{r:0,c:0}},we=L.sheetRows||0;if(T[2]==0&&(T[3]==8||T[3]==9)&&T.length>=16&&T[14]==5&&T[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(T[2]==2)L.Enum=se,e(T,function(ve,Ne,Re){switch(Re){case 0:L.vers=ve,ve>=4096&&(L.qpro=!0);break;case 6:O=ve;break;case 204:ve&&(J=ve);break;case 222:J=ve;break;case 15:case 51:L.qpro||(ve[1].v=ve[1].v.slice(1));case 13:case 14:case 16:Re==14&&(ve[2]&112)==112&&(ve[2]&15)>1&&(ve[2]&15)<15&&(ve[1].z=L.dateNF||Je[14],L.cellDates&&(ve[1].t="d",ve[1].v=eh(ve[1].v))),L.qpro&&ve[3]>ne&&(z["!ref"]=ct(O),re[I]=z,ae.push(I),z=L.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},ne=ve[3],I=J||"Sheet"+(ne+1),J="");var H=L.dense?(z[ve[0].r]||[])[ve[0].c]:z[Ye(ve[0])];if(H){H.t=ve[1].t,H.v=ve[1].v,ve[1].z!=null&&(H.z=ve[1].z),ve[1].f!=null&&(H.f=ve[1].f);break}L.dense?(z[ve[0].r]||(z[ve[0].r]=[]),z[ve[0].r][ve[0].c]=ve[1]):z[Ye(ve[0])]=ve[1];break}},L);else if(T[2]==26||T[2]==14)L.Enum=U,T[2]==14&&(L.qpro=!0,T.l=0),e(T,function(ve,Ne,Re){switch(Re){case 204:I=ve;break;case 22:ve[1].v=ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ve[3]>ne&&(z["!ref"]=ct(O),re[I]=z,ae.push(I),z=L.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},ne=ve[3],I="Sheet"+(ne+1)),we>0&&ve[0].r>=we)break;L.dense?(z[ve[0].r]||(z[ve[0].r]=[]),z[ve[0].r][ve[0].c]=ve[1]):z[Ye(ve[0])]=ve[1],O.e.c<ve[0].c&&(O.e.c=ve[0].c),O.e.r<ve[0].r&&(O.e.r=ve[0].r);break;case 27:ve[14e3]&&(q[ve[14e3][0]]=ve[14e3][1]);break;case 1537:q[ve[0]]=ve[1],ve[0]==ne&&(I=ve[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+T[2]);if(z["!ref"]=ct(O),re[J||I]=z,ae.push(J||I),!q.length)return{SheetNames:ae,Sheets:re};for(var Se={},be=[],ge=0;ge<q.length;++ge)re[ae[ge]]?(be.push(q[ge]||ae[ge]),Se[q[ge]]=re[q[ge]]||re[ae[ge]]):(be.push(q[ge]),Se[q[ge]]={"!ref":"A1"});return{SheetNames:be,Sheets:Se}}function s(T,j){var L=j||{};if(+L.codepage>=0&&Ys(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var z=$p(),I=Mt(T["!ref"]),J=Array.isArray(T),ne=[];Ls(z,0,a(1030)),Ls(z,6,u(I));for(var re=Math.min(I.e.r,8191),ae=I.s.r;ae<=re;++ae)for(var q=mr(ae),O=I.s.c;O<=I.e.c;++O){ae===I.s.r&&(ne[O]=Zt(O));var we=ne[O]+q,Se=J?(T[ae]||[])[O]:T[we];if(!(!Se||Se.t=="z"))if(Se.t=="n")(Se.v|0)==Se.v&&Se.v>=-32768&&Se.v<=32767?Ls(z,13,p(ae,O,Se.v)):Ls(z,14,x(ae,O,Se.v));else{var be=Jn(Se);Ls(z,15,f(ae,O,be.slice(0,239)))}}return Ls(z,1),z.end()}function n(T,j){var L=j||{};if(+L.codepage>=0&&Ys(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var z=$p();Ls(z,0,i(T));for(var I=0,J=0;I<T.SheetNames.length;++I)(T.Sheets[T.SheetNames[I]]||{})["!ref"]&&Ls(z,27,R(T.SheetNames[I],J++));var ne=0;for(I=0;I<T.SheetNames.length;++I){var re=T.Sheets[T.SheetNames[I]];if(!(!re||!re["!ref"])){for(var ae=Mt(re["!ref"]),q=Array.isArray(re),O=[],we=Math.min(ae.e.r,8191),Se=ae.s.r;Se<=we;++Se)for(var be=mr(Se),ge=ae.s.c;ge<=ae.e.c;++ge){Se===ae.s.r&&(O[ge]=Zt(ge));var ve=O[ge]+be,Ne=q?(re[Se]||[])[ge]:re[ve];if(!(!Ne||Ne.t=="z"))if(Ne.t=="n")Ls(z,23,N(Se,ge,ne,Ne.v));else{var Re=Jn(Ne);Ls(z,22,_(Se,ge,ne,Re.slice(0,239)))}}++ne}}return Ls(z,1),z.end()}function a(T){var j=qt(2);return j.write_shift(2,T),j}function i(T){var j=qt(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var L=0,z=0,I=0,J=0;J<T.SheetNames.length;++J){var ne=T.SheetNames[J],re=T.Sheets[ne];if(!(!re||!re["!ref"])){++I;var ae=Il(re["!ref"]);L<ae.e.r&&(L=ae.e.r),z<ae.e.c&&(z=ae.e.c)}}return L>8191&&(L=8191),j.write_shift(2,L),j.write_shift(1,I),j.write_shift(1,z),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function l(T,j,L){var z={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&L.qpro?(z.s.c=T.read_shift(1),T.l++,z.s.r=T.read_shift(2),z.e.c=T.read_shift(1),T.l++,z.e.r=T.read_shift(2),z):(z.s.c=T.read_shift(2),z.s.r=T.read_shift(2),j==12&&L.qpro&&(T.l+=2),z.e.c=T.read_shift(2),z.e.r=T.read_shift(2),j==12&&L.qpro&&(T.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function u(T){var j=qt(8);return j.write_shift(2,T.s.c),j.write_shift(2,T.s.r),j.write_shift(2,T.e.c),j.write_shift(2,T.e.r),j}function c(T,j,L){var z=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(z[0].c=T.read_shift(1),z[3]=T.read_shift(1),z[0].r=T.read_shift(2),T.l+=2):(z[2]=T.read_shift(1),z[0].c=T.read_shift(2),z[0].r=T.read_shift(2)),z}function d(T,j,L){var z=T.l+j,I=c(T,j,L);if(I[1].t="s",L.vers==20768){T.l++;var J=T.read_shift(1);return I[1].v=T.read_shift(J,"utf8"),I}return L.qpro&&T.l++,I[1].v=T.read_shift(z-T.l,"cstr"),I}function f(T,j,L){var z=qt(7+L.length);z.write_shift(1,255),z.write_shift(2,j),z.write_shift(2,T),z.write_shift(1,39);for(var I=0;I<z.length;++I){var J=L.charCodeAt(I);z.write_shift(1,J>=128?95:J)}return z.write_shift(1,0),z}function h(T,j,L){var z=c(T,j,L);return z[1].v=T.read_shift(2,"i"),z}function p(T,j,L){var z=qt(7);return z.write_shift(1,255),z.write_shift(2,j),z.write_shift(2,T),z.write_shift(2,L,"i"),z}function m(T,j,L){var z=c(T,j,L);return z[1].v=T.read_shift(8,"f"),z}function x(T,j,L){var z=qt(13);return z.write_shift(1,255),z.write_shift(2,j),z.write_shift(2,T),z.write_shift(8,L,"f"),z}function y(T,j,L){var z=T.l+j,I=c(T,j,L);if(I[1].v=T.read_shift(8,"f"),L.qpro)T.l=z;else{var J=T.read_shift(2);b(T.slice(T.l,T.l+J),I),T.l+=J}return I}function g(T,j,L){var z=j&32768;return j&=-32769,j=(z?T:0)+(j>=8192?j-16384:j),(z?"":"$")+(L?Zt(j):mr(j))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(T,j){dr(T,0);for(var L=[],z=0,I="",J="",ne="",re="";T.l<T.length;){var ae=T[T.l++];switch(ae){case 0:L.push(T.read_shift(8,"f"));break;case 1:J=g(j[0].c,T.read_shift(2),!0),I=g(j[0].r,T.read_shift(2),!1),L.push(J+I);break;case 2:{var q=g(j[0].c,T.read_shift(2),!0),O=g(j[0].r,T.read_shift(2),!1);J=g(j[0].c,T.read_shift(2),!0),I=g(j[0].r,T.read_shift(2),!1),L.push(q+O+":"+J+I)}break;case 3:if(T.l<T.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(T.read_shift(2));break;case 6:{for(var we="";ae=T[T.l++];)we+=String.fromCharCode(ae);L.push('"'+we.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:re=L.pop(),ne=L.pop(),L.push(["AND","OR"][ae-20]+"("+ne+","+re+")");break;default:if(ae<32&&w[ae])re=L.pop(),ne=L.pop(),L.push(ne+w[ae]+re);else if(v[ae]){if(z=v[ae][1],z==69&&(z=T[T.l++]),z>L.length){console.error("WK1 bad formula parse 0x"+ae.toString(16)+":|"+L.join("|")+"|");return}var Se=L.slice(-z);L.length-=z,L.push(v[ae][0]+"("+Se.join(",")+")")}else return ae<=7?console.error("WK1 invalid opcode "+ae.toString(16)):ae<=24?console.error("WK1 unsupported op "+ae.toString(16)):ae<=30?console.error("WK1 invalid opcode "+ae.toString(16)):ae<=115?console.error("WK1 unsupported function opcode "+ae.toString(16)):console.error("WK1 unrecognized opcode "+ae.toString(16))}}L.length==1?j[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function D(T){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=T.read_shift(2),j[3]=T[T.l++],j[0].c=T[T.l++],j}function A(T,j){var L=D(T);return L[1].t="s",L[1].v=T.read_shift(j-4,"cstr"),L}function _(T,j,L,z){var I=qt(6+z.length);I.write_shift(2,T),I.write_shift(1,L),I.write_shift(1,j),I.write_shift(1,39);for(var J=0;J<z.length;++J){var ne=z.charCodeAt(J);I.write_shift(1,ne>=128?95:ne)}return I.write_shift(1,0),I}function S(T,j){var L=D(T);L[1].v=T.read_shift(2);var z=L[1].v>>1;if(L[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return L[1].v=z,L}function k(T,j){var L=D(T),z=T.read_shift(4),I=T.read_shift(4),J=T.read_shift(2);if(J==65535)return z===0&&I===3221225472?(L[1].t="e",L[1].v=15):z===0&&I===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var ne=J&32768;return J=(J&32767)-16446,L[1].v=(1-ne*2)*(I*Math.pow(2,J+32)+z*Math.pow(2,J)),L}function N(T,j,L,z){var I=qt(14);if(I.write_shift(2,T),I.write_shift(1,L),I.write_shift(1,j),z==0)return I.write_shift(4,0),I.write_shift(4,0),I.write_shift(2,65535),I;var J=0,ne=0,re=0,ae=0;return z<0&&(J=1,z=-z),ne=Math.log2(z)|0,z/=Math.pow(2,ne-31),ae=z>>>0,ae&2147483648||(z/=2,++ne,ae=z>>>0),z-=ae,ae|=2147483648,ae>>>=0,z*=Math.pow(2,32),re=z>>>0,I.write_shift(4,re),I.write_shift(4,ae),ne+=16383+(J?32768:0),I.write_shift(2,ne),I}function C(T,j){var L=k(T);return T.l+=j-14,L}function E(T,j){var L=D(T),z=T.read_shift(4);return L[1].v=z>>6,L}function M(T,j){var L=D(T),z=T.read_shift(8,"f");return L[1].v=z,L}function Q(T,j){var L=M(T);return T.l+=j-10,L}function Y(T,j){return T[T.l+j-1]==0?T.read_shift(j,"cstr"):""}function X(T,j){var L=T[T.l++];L>j-1&&(L=j-1);for(var z="";z.length<L;)z+=String.fromCharCode(T[T.l++]);return z}function ee(T,j,L){if(!(!L.qpro||j<21)){var z=T.read_shift(1);T.l+=17,T.l+=1,T.l+=2;var I=T.read_shift(j-21,"cstr");return[z,I]}}function te(T,j){for(var L={},z=T.l+j;T.l<z;){var I=T.read_shift(2);if(I==14e3){for(L[I]=[0,""],L[I][0]=T.read_shift(2);T[T.l];)L[I][1]+=String.fromCharCode(T[T.l]),T.l++;T.l++}}return L}function R(T,j){var L=qt(5+T.length);L.write_shift(2,14e3),L.write_shift(2,j);for(var z=0;z<T.length;++z){var I=T.charCodeAt(z);L[L.l++]=I>127?95:I}return L[L.l++]=0,L}var se={0:{n:"BOF",f:Ht},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},U={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:A},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:E},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:Q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:n,to_workbook:t}}();function cM(e){var t={},r=e.match(Tr),s=0,n=!1;if(r)for(;s!=r.length;++s){var a=He(r[s]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=Mg[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(a[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+a[0])}}return t}var uM=function(){var e=pu("t"),t=pu("rPr");function r(a){var i=a.match(e);if(!i)return{t:"s",v:""};var l={t:"s",v:ft(i[1])},u=a.match(t);return u&&(l.s=cM(u[1])),l}var s=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(i){return i.replace(s,"").split(n).map(r).filter(function(l){return l.v})}}(),dM=function(){var t=/(\r\n|\n)/g;function r(n,a,i){var l=[];n.u&&l.push("text-decoration: underline;"),n.uval&&l.push("text-underline-style:"+n.uval+";"),n.sz&&l.push("font-size:"+n.sz+"pt;"),n.outline&&l.push("text-effect: outline;"),n.shadow&&l.push("text-shadow: auto;"),a.push('<span style="'+l.join("")+'">'),n.b&&(a.push("<b>"),i.push("</b>")),n.i&&(a.push("<i>"),i.push("</i>")),n.strike&&(a.push("<s>"),i.push("</s>"));var u=n.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(a.push("<"+u+">"),i.push("</"+u+">")),i.push("</span>"),n}function s(n){var a=[[],n.v,[]];return n.v?(n.s&&r(n.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(s).join("")}}(),fM=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,hM=/<(?:\w+:)?r>/,mM=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function e1(e,t){var r=t?t.cellHTML:!0,s={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(s.t=ft(kt(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),s.r=kt(e),r&&(s.h=Hg(s.t))):e.match(hM)&&(s.r=kt(e),s.t=ft(kt((e.replace(mM,"").match(fM)||[]).join("").replace(Tr,""))),r&&(s.h=dM(uM(s.r)))),s):{t:""}}var pM=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,xM=/<(?:\w+:)?(?:si|sstItem)>/g,gM=/<\/(?:\w+:)?(?:si|sstItem)>/;function yM(e,t){var r=[],s="";if(!e)return r;var n=e.match(pM);if(n){s=n[2].replace(xM,"").split(gM);for(var a=0;a!=s.length;++a){var i=e1(s[a].trim(),t);i!=null&&(r[r.length]=i)}n=He(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}function vM(e){return[e.read_shift(4),e.read_shift(4)]}function wM(e,t){var r=[],s=!1;return na(e,function(a,i,l){switch(l){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:s=!0;break;case 36:s=!1;break;default:if(i.T,!s||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function XE(e){for(var t=[],r=e.split(""),s=0;s<r.length;++s)t[s]=r[s].charCodeAt(0);return t}function Hn(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function kM(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Hn(e,4),t.U=Hn(e,4),t.W=Hn(e,4),t}function SM(e){for(var t=e.read_shift(4),r=e.l+t-4,s={},n=e.read_shift(4),a=[];n-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(s.name=e.read_shift(0,"lpp4"),s.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return s}function bM(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(SM(e));return t}function _M(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function EM(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Hn(e,4),t.U=Hn(e,4),t.W=Hn(e,4),t}function NM(e){var t=EM(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function QE(e,t){var r=e.l+t,s={};s.Flags=e.read_shift(4)&63,e.l+=4,s.AlgID=e.read_shift(4);var n=!1;switch(s.AlgID){case 26126:case 26127:case 26128:n=s.Flags==36;break;case 26625:n=s.Flags==4;break;case 0:n=s.Flags==16||s.Flags==4||s.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+s.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return s.AlgIDHash=e.read_shift(4),s.KeySize=e.read_shift(4),s.ProviderType=e.read_shift(4),e.l+=8,s.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,s}function ZE(e,t){var r={},s=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,s),e.l=s,r}function CM(e){var t=Hn(e);switch(t.Minor){case 2:return[t.Minor,TM(e)];case 3:return[t.Minor,AM()];case 4:return[t.Minor,jM(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function TM(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),s=QE(e,r),n=ZE(e,e.length-e.l);return{t:"Std",h:s,v:n}}function AM(){throw new Error("File is password-protected: ECMA-376 Extensible")}function jM(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),s={};return r.replace(Tr,function(a){var i=He(a);switch(Nn(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){s[l]=i[l]});break;case"<dataIntegrity":s.encryptedHmacKey=i.encryptedHmacKey,s.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":s.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":s.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":s.encs.push(i);break;default:throw i[0]}}),s}function FM(e,t){var r={},s=r.EncryptionVersionInfo=Hn(e,4);if(t-=4,s.Minor!=2)throw new Error("unrecognized minor version code: "+s.Minor);if(s.Major>4||s.Major<2)throw new Error("unrecognized major version code: "+s.Major);r.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,r.EncryptionHeader=QE(e,n),t-=n,r.EncryptionVerifier=ZE(e,t),r}function RM(e){var t={},r=t.EncryptionVersionInfo=Hn(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function DM(e){var t=0,r,s=XE(e),n=s.length+1,a,i,l,u,c;for(r=ti(n),r[0]=s.length,a=1;a!=n;++a)r[a]=s[a-1];for(a=n-1;a>=0;--a)i=r[a],l=t&16384?1:0,u=t<<1&32767,c=l|u,t=c^i;return t^52811}var JE=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],s=function(i){return(i/2|i*128)&255},n=function(i,l){return s(i^l)},a=function(i){for(var l=t[i.length-1],u=104,c=i.length-1;c>=0;--c)for(var d=i[c],f=0;f!=7;++f)d&64&&(l^=r[u]),d*=2,--u;return l};return function(i){for(var l=XE(i),u=a(l),c=l.length,d=ti(16),f=0;f!=16;++f)d[f]=0;var h,p,m;for((c&1)===1&&(h=u>>8,d[c]=n(e[0],h),--c,h=u&255,p=l[l.length-1],d[c]=n(p,h));c>0;)--c,h=u>>8,d[c]=n(l[c],h),--c,h=u&255,d[c]=n(l[c],h);for(c=15,m=15-l.length;m>0;)h=u>>8,d[c]=n(e[m],h),--c,--m,h=u&255,d[c]=n(l[c],h),--c,--m;return d}}(),PM=function(e,t,r,s,n){n||(n=t),s||(s=JE(e));var a,i;for(a=0;a!=t.length;++a)i=t[a],i^=s[r],i=(i>>5|i<<3)&255,n[a]=i,++r;return[n,r,s]},OM=function(e){var t=0,r=JE(e);return function(s){var n=PM("",s,t,r);return t=n[1],n[0]}};function IM(e,t,r,s){var n={key:Ht(e),verificationBytes:Ht(e)};return r.password&&(n.verifier=DM(r.password)),s.valid=n.verificationBytes===n.verifier,s.valid&&(s.insitu=OM(r.password)),n}function MM(e,t,r){var s=r||{};return s.Info=e.read_shift(2),e.l-=2,s.Info===1?s.Data=RM(e):s.Data=FM(e,t),s}function LM(e,t,r){var s={Type:r.biff>=8?e.read_shift(2):0};return s.Type?MM(e,t-2,s):IM(e,r.biff>=8?t:t-2,r,s),s}var BM=function(){function e(n,a){switch(a.type){case"base64":return t(ps(n),a);case"binary":return t(n,a);case"buffer":return t(ot&&Buffer.isBuffer(n)?n.toString("binary"):oo(n),a);case"array":return t(ro(n),a)}throw new Error("Unrecognized type "+a.type)}function t(n,a){var i=a||{},l=i.dense?[]:{},u=n.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,m,x=-1;m=h.exec(d);){switch(m[0]){case"\\cell":var y=d.slice(p,h.lastIndex-m[0].length);if(y[0]==" "&&(y=y.slice(1)),++x,y.length){var g={v:y,t:"s"};Array.isArray(l)?l[f][x]=g:l[Ye({r:f,c:x})]=g}break}p=h.lastIndex}x>c.e.c&&(c.e.c=x)}),l["!ref"]=ct(c),l}function r(n,a){return li(e(n,a),a)}function s(n){for(var a=["{\\rtf1\\ansi"],i=Mt(n["!ref"]),l,u=Array.isArray(n),c=i.s.r;c<=i.e.r;++c){a.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Ye({r:c,c:d});l=u?(n[c]||[])[d]:n[f],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(Jn(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:s}}();function zM(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function yu(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function UM(e){var t=e[0]/255,r=e[1]/255,s=e[2]/255,n=Math.max(t,r,s),a=Math.min(t,r,s),i=n-a;if(i===0)return[0,0,t];var l=0,u=0,c=n+a;switch(u=i/(c>1?2-c:c),n){case t:l=((r-s)/i+6)%6;break;case r:l=(s-t)/i+2;break;case s:l=(t-r)/i+4;break}return[l/6,u,c/2]}function $M(e){var t=e[0],r=e[1],s=e[2],n=r*2*(s<.5?s:1-s),a=s-n/2,i=[a,a,a],l=6*t,u;if(r!==0)switch(l|0){case 0:case 6:u=n*l,i[0]+=n,i[1]+=u;break;case 1:u=n*(2-l),i[0]+=u,i[1]+=n;break;case 2:u=n*(l-2),i[1]+=n,i[2]+=u;break;case 3:u=n*(4-l),i[1]+=u,i[2]+=n;break;case 4:u=n*(l-4),i[2]+=n,i[0]+=u;break;case 5:u=n*(6-l),i[2]+=u,i[0]+=n;break}for(var c=0;c!=3;++c)i[c]=Math.round(i[c]*255);return i}function hf(e,t){if(t===0)return e;var r=UM(zM(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),yu($M(r))}var eN=6,VM=15,HM=1,Pr=eN;function mf(e){return Math.floor((e+Math.round(128/Pr)/256)*Pr)}function pf(e){return Math.floor((e-5)/Pr*100+.5)/100}function Kp(e){return Math.round((e*Pr+5)/Pr*256)/256}function em(e){return Kp(pf(mf(e)))}function t1(e){var t=Math.abs(e-em(e)),r=Pr;if(t>.005)for(Pr=HM;Pr<VM;++Pr)Math.abs(e-em(e))<=t&&(t=Math.abs(e-em(e)),r=Pr);Pr=r}function Nl(e){e.width?(e.wpx=mf(e.width),e.wch=pf(e.wpx),e.MDW=Pr):e.wpx?(e.wch=pf(e.wpx),e.width=Kp(e.wch),e.MDW=Pr):typeof e.wch=="number"&&(e.width=Kp(e.wch),e.wpx=mf(e.width),e.MDW=Pr),e.customWidth&&delete e.customWidth}var WM=96,tN=WM;function rN(e){return e*96/tN}function vu(e){return e*tN/96}var KM={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function GM(e,t,r,s){t.Borders=[];var n={},a=!1;(e[0].match(Tr)||[]).forEach(function(i){var l=He(i);switch(Nn(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},l.diagonalUp&&(n.diagonalUp=_t(l.diagonalUp)),l.diagonalDown&&(n.diagonalDown=_t(l.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s&&s.WTF&&!a)throw new Error("unrecognized "+l[0]+" in borders")}})}function qM(e,t,r,s){t.Fills=[];var n={},a=!1;(e[0].match(Tr)||[]).forEach(function(i){var l=He(i);switch(Nn(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":l.patternType&&(n.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),l.indexed&&(n.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(n.bgColor.theme=parseInt(l.theme,10)),l.tint&&(n.bgColor.tint=parseFloat(l.tint)),l.rgb&&(n.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),l.theme&&(n.fgColor.theme=parseInt(l.theme,10)),l.tint&&(n.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(n.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s&&s.WTF&&!a)throw new Error("unrecognized "+l[0]+" in fills")}})}function YM(e,t,r,s){t.Fonts=[];var n={},a=!1;(e[0].match(Tr)||[]).forEach(function(i){var l=He(i);switch(Nn(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":l.val&&(n.name=kt(l.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=l.val?_t(l.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=l.val?_t(l.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(l.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=l.val?_t(l.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=l.val?_t(l.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=l.val?_t(l.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=l.val?_t(l.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=l.val?_t(l.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":l.val&&(n.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(n.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(n.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(n.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=Mg[parseInt(l.val,10)];break;case"<color":if(n.color||(n.color={}),l.auto&&(n.color.auto=_t(l.auto)),l.rgb)n.color.rgb=l.rgb.slice(-6);else if(l.indexed){n.color.index=parseInt(l.indexed,10);var u=$i[n.color.index];n.color.index==81&&(u=$i[1]),u||(u=$i[1]),n.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else l.theme&&(n.color.theme=parseInt(l.theme,10),l.tint&&(n.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=hf(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s&&s.WTF&&!a)throw new Error("unrecognized "+l[0]+" in fonts")}})}function XM(e,t,r){t.NumberFmt=[];for(var s=En(Je),n=0;n<s.length;++n)t.NumberFmt[s[n]]=Je[s[n]];var a=e[0].match(Tr);if(a)for(n=0;n<a.length;++n){var i=He(a[n]);switch(Nn(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=ft(kt(i.formatCode)),u=parseInt(i.numFmtId,10);if(t.NumberFmt[u]=l,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=l}Ui(l,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var Ud=["numFmtId","fillId","fontId","borderId","xfId"],$d=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function QM(e,t,r){t.CellXf=[];var s,n=!1;(e[0].match(Tr)||[]).forEach(function(a){var i=He(a),l=0;switch(Nn(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(s=i,delete s[0],l=0;l<Ud.length;++l)s[Ud[l]]&&(s[Ud[l]]=parseInt(s[Ud[l]],10));for(l=0;l<$d.length;++l)s[$d[l]]&&(s[$d[l]]=_t(s[$d[l]]));if(t.NumberFmt&&s.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[s.numFmtId]==t.NumberFmt[l]){s.numFmtId=l;break}}t.CellXf.push(s);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};i.vertical&&(u.vertical=i.vertical),i.horizontal&&(u.horizontal=i.horizontal),i.textRotation!=null&&(u.textRotation=i.textRotation),i.indent&&(u.indent=i.indent),i.wrapText&&(u.wrapText=_t(i.wrapText)),s.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var ZM=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,s=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,u,c){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&XM(f,d,c),(f=l.match(n))&&YM(f,d,u,c),(f=l.match(s))&&qM(f,d,u,c),(f=l.match(a))&&GM(f,d,u,c),(f=l.match(r))&&QM(f,d,c),d}}();function JM(e,t){var r=e.read_shift(2),s=Er(e);return[r,s]}function e8(e,t,r){var s={};s.sz=e.read_shift(2)/20;var n=uO(e);n.fItalic&&(s.italic=1),n.fCondense&&(s.condense=1),n.fExtend&&(s.extend=1),n.fShadow&&(s.shadow=1),n.fOutline&&(s.outline=1),n.fStrikeout&&(s.strike=1);var a=e.read_shift(2);switch(a===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(s.underline=i);var l=e.read_shift(1);l>0&&(s.family=l);var u=e.read_shift(1);switch(u>0&&(s.charset=u),e.l++,s.color=cO(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=Er(e),s}var t8=Cr;function r8(e,t){var r=e.l+t,s=e.read_shift(2),n=e.read_shift(2);return e.l=r,{ixfe:s,numFmtId:n}}var s8=Cr;function n8(e,t,r){var s={};s.NumberFmt=[];for(var n in Je)s.NumberFmt[n]=Je[n];s.CellXf=[],s.Fonts=[];var a=[],i=!1;return na(e,function(u,c,d){switch(d){case 44:s.NumberFmt[u[0]]=u[1],Ui(u[1],u[0]);break;case 43:s.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=hf(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&s.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:a.push(d),i=!0;break;case 38:a.pop(),i=!1;break;default:if(c.T>0)a.push(d);else if(c.T<0)a.pop();else if(!i||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),s}var a8=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function i8(e,t,r){t.themeElements.clrScheme=[];var s={};(e[0].match(Tr)||[]).forEach(function(n){var a=He(n);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":s.rgb=a.val;break;case"<a:sysClr":s.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[a8.indexOf(a[0])]=s,s={}):s.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function o8(){}function l8(){}var c8=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,u8=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,d8=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function f8(e,t,r){t.themeElements={};var s;[["clrScheme",c8,i8],["fontScheme",u8,o8],["fmtScheme",d8,l8]].forEach(function(n){if(!(s=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](s,t,r)})}var h8=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function sN(e,t){(!e||e.length===0)&&(e=m8());var r,s={};if(!(r=e.match(h8)))throw new Error("themeElements not found in theme");return f8(r[0],s,t),s.raw=e,s}function m8(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[mE];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function p8(e,t,r){var s=e.l+t,n=e.read_shift(4);if(n!==124226){if(!r.cellStyles){e.l=s;return}var a=e.slice(e.l);e.l=s;var i;try{i=hE(a,{type:"array"})}catch{return}var l=cs(i,"theme/theme/theme1.xml",!0);if(l)return sN(l,r)}}function x8(e){return e.read_shift(4)}function g8(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=y8(e,4);break;case 2:t.xclrValue=VE(e);break;case 3:t.xclrValue=x8(e);break;case 4:e.l+=4;break}return e.l+=8,t}function y8(e,t){return Cr(e,t)}function v8(e,t){return Cr(e,t)}function w8(e){var t=e.read_shift(2),r=e.read_shift(2)-4,s=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:s[1]=g8(e);break;case 6:s[1]=v8(e,r);break;case 14:case 15:s[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return s}function k8(e,t){var r=e.l+t;e.l+=2;var s=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),a=[];n-- >0;)a.push(w8(e,r-e.l));return{ixfe:s,ext:a}}function S8(e,t){t.forEach(function(r){switch(r[0]){}})}function b8(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Er(e)}}function _8(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function E8(e){return e.l+=4,e.read_shift(4)!=0}function N8(e,t,r){var s={Types:[],Cell:[],Value:[]},n=r||{},a=[],i=!1,l=2;return na(e,function(u,c,d){switch(d){case 335:s.Types.push({name:u.name});break;case 51:u.forEach(function(f){l==1?s.Cell.push({type:s.Types[f[0]-1].name,index:f[1]}):l==0&&s.Value.push({type:s.Types[f[0]-1].name,index:f[1]})});break;case 337:l=u?1:0;break;case 338:l=2;break;case 35:a.push(d),i=!0;break;case 36:a.pop(),i=!1;break;default:if(!c.T){if(!i||n.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),s}function C8(e,t,r){var s={Types:[],Cell:[],Value:[]};if(!e)return s;var n=!1,a=2,i;return e.replace(Tr,function(l){var u=He(l);switch(Nn(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":s.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<s.Types.length;++c)s.Types[c].name==u.name&&(i=s.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?s.Cell.push({type:s.Types[u.t-1].name,index:+u.v}):a==0&&s.Value.push({type:s.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+u.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return l}),s}function T8(e){var t=[];if(!e)return t;var r=1;return(e.match(Tr)||[]).forEach(function(s){var n=He(s);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n);break}}),t}function A8(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ye(r);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}function j8(e,t,r){var s=[];return na(e,function(a,i,l){switch(l){case 63:s.push(a);break;default:if(!i.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),s}function F8(e,t,r,s){if(!e)return e;var n=s||{},a=!1;na(e,function(l,u,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!u.T){if(!a||n.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},n)}function R8(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function H2(e,t,r,s){var n=Array.isArray(e),a;t.forEach(function(i){var l=Or(i.ref);if(n?(e[l.r]||(e[l.r]=[]),a=e[l.r][l.c]):a=e[i.ref],!a){a={t:"z"},n?e[l.r][l.c]=a:e[i.ref]=a;var u=Mt(e["!ref"]||"BDWGO1000001:A1");u.s.r>l.r&&(u.s.r=l.r),u.e.r<l.r&&(u.e.r=l.r),u.s.c>l.c&&(u.s.c=l.c),u.e.c<l.c&&(u.e.c=l.c);var c=ct(u);c!==e["!ref"]&&(e["!ref"]=c)}a.c||(a.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=a.c.length-1;f>=0;--f){if(!r&&a.c[f].T)return;r&&!a.c[f].T&&a.c.splice(f,1)}if(r&&s){for(f=0;f<s.length;++f)if(d.a==s[f].id){d.a=s[f].name||d.a;break}}a.c.push(d)})}function D8(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],s=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?comment[^>]*>/);if(l){var u=He(l[0]),c={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},d=Or(u.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&e1(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),s.push(c)}}}}),s}function P8(e,t){var r=[],s=!1,n={},a=0;return e.replace(Tr,function(l,u){var c=He(l);switch(Nn(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":a=u+l.length;break;case"</text>":n.t=e.slice(a,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":s=!0;break;case"</mentions>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return l}),r}function O8(e,t){var r=[],s=!1;return e.replace(Tr,function(a){var i=He(a);switch(Nn(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return a}),r}function I8(e){var t={};t.iauthor=e.read_shift(4);var r=co(e);return t.rfx=r.s,t.ref=Ye(r.s),e.l+=16,t}var M8=Er;function L8(e,t){var r=[],s=[],n={},a=!1;return na(e,function(l,u,c){switch(c){case 632:s.push(l);break;case 635:n=l;break;case 637:n.t=l.t,n.h=l.h,n.r=l.r;break;case 636:if(n.author=s[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var B8="application/vnd.ms-office.vbaProject";function z8(e){var t=lt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,s){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");lt.utils.cfb_add(t,n,e.FileIndex[s].content)}}),lt.write(t)}function U8(){return{"!type":"dialog"}}function $8(){return{"!type":"dialog"}}function V8(){return{"!type":"macro"}}function H8(){return{"!type":"macro"}}var Wo=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(s,n,a,i){var l=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return l?d+=t.c:--d,u?c+=t.r:--c,n+(l?"":"$")+Zt(d)+(u?"":"$")+mr(c)}return function(n,a){return t=a,n.replace(e,r)}}(),nN=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,W8=function(){return function(t,r){return t.replace(nN,function(s,n,a,i,l,u){var c=qg(i)-(a?0:r.c),d=Gg(u)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=c==0?"":a?c+1:"["+c+"]";return n+"R"+f+"C"+h})}}();function aN(e,t){return e.replace(nN,function(r,s,n,a,i,l){return s+(n=="$"?n+a:Zt(qg(a)+t.c))+(i=="$"?i+l:mr(Gg(l)+t.r))})}function K8(e,t,r){var s=Il(t),n=s.s,a=Or(r),i={r:a.r-n.r,c:a.c-n.c};return aN(e,i)}function G8(e){return e.length!=1}function W2(e){return e.replace(/_xlfn\./g,"")}function Ut(e){e.l+=1}function ri(e,t){var r=e.read_shift(t==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function iN(e,t,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return oN(e);r.biff==12&&(s=4)}var n=e.read_shift(s),a=e.read_shift(s),i=ri(e,2),l=ri(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function oN(e){var t=ri(e,2),r=ri(e,2),s=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function q8(e,t,r){if(r.biff<8)return oN(e);var s=e.read_shift(r.biff==12?4:2),n=e.read_shift(r.biff==12?4:2),a=ri(e,2),i=ri(e,2);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:n,c:i[0],cRel:i[1],rRel:i[2]}}}function lN(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Y8(e);var s=e.read_shift(r&&r.biff==12?4:2),n=ri(e,2);return{r:s,c:n[0],cRel:n[1],rRel:n[2]}}function Y8(e){var t=ri(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function X8(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Q8(e,t,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return Z8(e);var n=e.read_shift(s>=12?4:2),a=e.read_shift(2),i=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;n>524287;)n-=1048576;if(i==1)for(;a>8191;)a=a-16384;return{r:n,c:a,cRel:i,rRel:l}}function Z8(e){var t=e.read_shift(2),r=e.read_shift(1),s=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),n==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:n,rRel:s}}function J8(e,t,r){var s=(e[e.l++]&96)>>5,n=iN(e,r.biff>=2&&r.biff<=5?6:8,r);return[s,n]}function eL(e,t,r){var s=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var i=iN(e,a,r);return[s,n,i]}function tL(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function rL(e,t,r){var s=(e[e.l++]&96)>>5,n=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[s,n]}function sL(e,t,r){var s=(e[e.l++]&96)>>5,n=q8(e,t-1,r);return[s,n]}function nL(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[s]}function K2(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function aL(e,t,r){e.l+=2;for(var s=e.read_shift(r&&r.biff==2?1:2),n=[],a=0;a<=s;++a)n.push(e.read_shift(r&&r.biff==2?1:2));return n}function iL(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function oL(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function lL(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function cL(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[s]}function cN(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function uL(e){return e.read_shift(2),cN(e)}function dL(e){return e.read_shift(2),cN(e)}function fL(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var n=lN(e,0,r);return[s,n]}function hL(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var n=Q8(e,0,r);return[s,n]}function mL(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=lN(e,0,r);return[s,n,a]}function pL(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(r&&r.biff<=3?1:2);return[x7[n],fN[n],s]}function xL(e,t,r){var s=e[e.l++],n=e.read_shift(1),a=r&&r.biff<=3?[s==88?-1:0,e.read_shift(1)]:gL(e);return[n,(a[0]===0?fN:p7)[a[1]]]}function gL(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function yL(e,t,r){e.l+=r&&r.biff==2?3:4}function vL(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),n=e.read_shift(r&&r.biff==2?1:2);return[s,n]}function wL(e){return e.l++,uo[e.read_shift(1)]}function kL(e){return e.l++,e.read_shift(2)}function SL(e){return e.l++,e.read_shift(1)!==0}function bL(e){return e.l++,br(e)}function _L(e,t,r){return e.l++,Yu(e,t-1,r)}function EL(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Lt(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=uo[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=br(e);break;case 2:r[1]=fo(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function NL(e,t,r){for(var s=e.read_shift(r.biff==12?4:2),n=[],a=0;a!=s;++a)n.push((r.biff==12?co:th)(e));return n}function CL(e,t,r){var s=0,n=0;r.biff==12?(s=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),s=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--n==0&&(n=256));for(var a=0,i=[];a!=s&&(i[a]=[]);++a)for(var l=0;l!=n;++l)i[a][l]=EL(e,r.biff);return i}function TL(e,t,r){var s=e.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,a=e.read_shift(n);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,a]}function AL(e,t,r){if(r.biff==5)return jL(e);var s=e.read_shift(1)>>>5&3,n=e.read_shift(2),a=e.read_shift(4);return[s,n,a]}function jL(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,r,s]}function FL(e,t,r){var s=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var n=e.read_shift(r&&r.biff==2?1:2);return[s,n]}function RL(e,t,r){var s=e.read_shift(1)>>>5&3,n=e.read_shift(r&&r.biff==2?1:2);return[s,n]}function DL(e,t,r){var s=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[s]}function PL(e,t,r){var s=(e[e.l++]&96)>>5,n=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[s,n]}var OL=Cr,IL=Cr,ML=Cr;function Qu(e,t,r){return e.l+=2,[X8(e)]}function r1(e){return e.l+=6,[]}var LL=Qu,BL=r1,zL=r1,UL=Qu;function uN(e){return e.l+=2,[Ht(e),e.read_shift(2)&1]}var $L=Qu,VL=uN,HL=r1,WL=Qu,KL=Qu,GL=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function qL(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),n=e.read_shift(2),a=e.read_shift(2),i=GL[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:s,c:n,C:a}}function YL(e){return e.l+=2,[e.read_shift(4)]}function XL(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function QL(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ZL(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function JL(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function e7(e){return e.l+=4,[0,0]}var G2={1:{n:"PtgExp",f:vL},2:{n:"PtgTbl",f:ML},3:{n:"PtgAdd",f:Ut},4:{n:"PtgSub",f:Ut},5:{n:"PtgMul",f:Ut},6:{n:"PtgDiv",f:Ut},7:{n:"PtgPower",f:Ut},8:{n:"PtgConcat",f:Ut},9:{n:"PtgLt",f:Ut},10:{n:"PtgLe",f:Ut},11:{n:"PtgEq",f:Ut},12:{n:"PtgGe",f:Ut},13:{n:"PtgGt",f:Ut},14:{n:"PtgNe",f:Ut},15:{n:"PtgIsect",f:Ut},16:{n:"PtgUnion",f:Ut},17:{n:"PtgRange",f:Ut},18:{n:"PtgUplus",f:Ut},19:{n:"PtgUminus",f:Ut},20:{n:"PtgPercent",f:Ut},21:{n:"PtgParen",f:Ut},22:{n:"PtgMissArg",f:Ut},23:{n:"PtgStr",f:_L},26:{n:"PtgSheet",f:XL},27:{n:"PtgEndSheet",f:QL},28:{n:"PtgErr",f:wL},29:{n:"PtgBool",f:SL},30:{n:"PtgInt",f:kL},31:{n:"PtgNum",f:bL},32:{n:"PtgArray",f:nL},33:{n:"PtgFunc",f:pL},34:{n:"PtgFuncVar",f:xL},35:{n:"PtgName",f:TL},36:{n:"PtgRef",f:fL},37:{n:"PtgArea",f:J8},38:{n:"PtgMemArea",f:FL},39:{n:"PtgMemErr",f:OL},40:{n:"PtgMemNoMem",f:IL},41:{n:"PtgMemFunc",f:RL},42:{n:"PtgRefErr",f:DL},43:{n:"PtgAreaErr",f:tL},44:{n:"PtgRefN",f:hL},45:{n:"PtgAreaN",f:sL},46:{n:"PtgMemAreaN",f:ZL},47:{n:"PtgMemNoMemN",f:JL},57:{n:"PtgNameX",f:AL},58:{n:"PtgRef3d",f:mL},59:{n:"PtgArea3d",f:eL},60:{n:"PtgRefErr3d",f:PL},61:{n:"PtgAreaErr3d",f:rL},255:{}},t7={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},r7={1:{n:"PtgElfLel",f:uN},2:{n:"PtgElfRw",f:WL},3:{n:"PtgElfCol",f:LL},6:{n:"PtgElfRwV",f:KL},7:{n:"PtgElfColV",f:UL},10:{n:"PtgElfRadical",f:$L},11:{n:"PtgElfRadicalS",f:HL},13:{n:"PtgElfColS",f:BL},15:{n:"PtgElfColSV",f:zL},16:{n:"PtgElfRadicalLel",f:VL},25:{n:"PtgList",f:qL},29:{n:"PtgSxName",f:YL},255:{}},s7={0:{n:"PtgAttrNoop",f:e7},1:{n:"PtgAttrSemi",f:cL},2:{n:"PtgAttrIf",f:oL},4:{n:"PtgAttrChoose",f:aL},8:{n:"PtgAttrGoto",f:iL},16:{n:"PtgAttrSum",f:yL},32:{n:"PtgAttrBaxcel",f:K2},33:{n:"PtgAttrBaxcel",f:K2},64:{n:"PtgAttrSpace",f:uL},65:{n:"PtgAttrSpaceSemi",f:dL},128:{n:"PtgAttrIfError",f:lL},255:{}};function Zu(e,t,r,s){if(s.biff<8)return Cr(e,t);for(var n=e.l+t,a=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=CL(e,0,s),a.push(r[i][1]);break;case"PtgMemArea":r[i][2]=NL(e,r[i][1],s),a.push(r[i][2]);break;case"PtgExp":s&&s.biff==12&&(r[i][1][1]=e.read_shift(4),a.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=n-e.l,t!==0&&a.push(Cr(e,t)),a}function Ju(e,t,r){for(var s=e.l+t,n,a,i=[];s!=e.l;)t=s-e.l,a=e[e.l],n=G2[a]||G2[t7[a]],(a===24||a===25)&&(n=(a===24?r7:s7)[e[e.l+1]]),!n||!n.f?Cr(e,t):i.push([n.n,n.f(e,t,r)]);return i}function n7(e){for(var t=[],r=0;r<e.length;++r){for(var s=e[r],n=[],a=0;a<s.length;++a){var i=s[a];if(i)switch(i[0]){case 2:n.push('"'+i[1].replace(/"/g,'""')+'"');break;default:n.push(i[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var a7={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function i7(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function dN(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var n="";if(r.biff>8)switch(e[s[0]][0]){case 357:return n=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?n:n+":"+e.SheetNames[s[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return n=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?n:n+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[s[0]][0][3]?(n=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?n:n+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function q2(e,t,r){var s=dN(e,t,r);return s=="#REF"?s:i7(s,r)}function wr(e,t,r,s,n){var a=n&&n.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},l=[],u,c,d,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var x=-1,y="",g=0,v=e[0].length;g<v;++g){var w=e[0][g];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),c=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:y=It(" ",e[0][x][1][1]);break;case 1:y=It("\r",e[0][x][1][1]);break;default:if(y="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}c=c+y,x=-1}l.push(c+a7[w[0]]+u);break;case"PtgIsect":u=l.pop(),c=l.pop(),l.push(c+" "+u);break;case"PtgUnion":u=l.pop(),c=l.pop(),l.push(c+","+u);break;case"PtgRange":u=l.pop(),c=l.pop(),l.push(c+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Rc(w[1][1],i,n),l.push(Dc(d,a));break;case"PtgRefN":d=r?Rc(w[1][1],r,n):w[1][1],l.push(Dc(d,a));break;case"PtgRef3d":f=w[1][1],d=Rc(w[1][2],i,n),m=q2(s,f,n),l.push(m+"!"+Dc(d,a));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],D=w[1][1];b||(b=0),b&=127;var A=b==0?[]:l.slice(-b);l.length-=b,D==="User"&&(D=A.shift()),l.push(D+"("+A.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":p=T2(w[1][1],r?{s:r}:i,n),l.push(Zh(p,n));break;case"PtgArea":p=T2(w[1][1],i,n),l.push(Zh(p,n));break;case"PtgArea3d":f=w[1][1],p=w[1][2],m=q2(s,f,n),l.push(m+"!"+Zh(p,n));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var _=(s.names||[])[h-1]||(s[0]||[])[h],S=_?_.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!n.xlfn&&(S=S.slice(6)),l.push(S);break;case"PtgNameX":var k=w[1][1];h=w[1][2];var N;if(n.biff<=5)k<0&&(k=-k),s[k]&&(N=s[k][h]);else{var C="";if(((s[k]||[])[0]||[])[0]==14849||(((s[k]||[])[0]||[])[0]==1025?s[k][h]&&s[k][h].itab>0&&(C=s.SheetNames[s[k][h].itab-1]+"!"):C=s.SheetNames[h-1]+"!"),s[k]&&s[k][h])C+=s[k][h].Name;else if(s[0]&&s[0][h])C+=s[0][h].Name;else{var E=(dN(s,k,n)||"").split(";;");E[h-1]?C=E[h-1]:C+="SH33TJSERRX"}l.push(C);break}N||(N={Name:"SH33TJSERRY"}),l.push(N.Name);break;case"PtgParen":var M="(",Q=")";if(x>=0){switch(y="",e[0][x][1][0]){case 2:M=It(" ",e[0][x][1][1])+M;break;case 3:M=It("\r",e[0][x][1][1])+M;break;case 4:Q=It(" ",e[0][x][1][1])+Q;break;case 5:Q=It("\r",e[0][x][1][1])+Q;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(M+l.pop()+Q);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var Y={c:r.c,r:r.r};if(s.sharedf[Ye(d)]){var X=s.sharedf[Ye(d)];l.push(wr(X,i,Y,s,n))}else{var ee=!1;for(u=0;u!=s.arrayf.length;++u)if(c=s.arrayf[u],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){l.push(wr(c[1],i,Y,s,n)),ee=!0;break}ee||l.push(w[1])}break;case"PtgArray":l.push("{"+n7(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&x>=0&&te.indexOf(e[0][g][0])==-1){w=e[0][x];var R=!0;switch(w[1][0]){case 4:R=!1;case 0:y=It(" ",w[1][1]);break;case 5:R=!1;case 1:y=It("\r",w[1][1]);break;default:if(y="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((R?y:"")+l.pop()+(R?"":y)),x=-1}}if(l.length>1&&n.WTF)throw new Error("bad formula stack");return l[0]}function o7(e,t,r){var s=e.l+t,n=r.biff==2?1:2,a,i=e.read_shift(n);if(i==65535)return[[],Cr(e,t-2)];var l=Ju(e,i,r);return t!==i+n&&(a=Zu(e,t-i-n,l,r)),e.l=s,[l,a]}function l7(e,t,r){var s=e.l+t,n=r.biff==2?1:2,a,i=e.read_shift(n);if(i==65535)return[[],Cr(e,t-2)];var l=Ju(e,i,r);return t!==i+n&&(a=Zu(e,t-i-n,l,r)),e.l=s,[l,a]}function c7(e,t,r,s){var n=e.l+t,a=Ju(e,s,r),i;return n!==e.l&&(i=Zu(e,n-e.l,a,r)),[a,i]}function u7(e,t,r){var s=e.l+t,n,a=e.read_shift(2),i=Ju(e,a,r);return a==65535?[[],Cr(e,t-2)]:(t!==a+2&&(n=Zu(e,s-a-2,i,r)),[i,n])}function d7(e){var t;if(Bn(e,e.l+6)!==65535)return[br(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function tm(e,t,r){var s=e.l+t,n=Cn(e);r.biff==2&&++e.l;var a=d7(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=l7(e,s-e.l,r);return{cell:n,val:a[0],formula:l,shared:i>>3&1,tt:a[1]}}function rh(e,t,r){var s=e.read_shift(4),n=Ju(e,s,r),a=e.read_shift(4),i=a>0?Zu(e,a,n,r):null;return[n,i]}var f7=rh,sh=rh,h7=rh,m7=rh,p7={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fN={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},x7={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Y2(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function rm(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Mc={},Ko={};function Lc(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function hN(e,t,r,s,n,a){try{s.cellNF&&(e.z=Je[t])}catch(l){if(s.WTF)throw l}if(!(e.t==="z"&&!s.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=or(e.v)),(!s||s.cellText!==!1)&&e.t!=="z")try{if(Je[t]==null&&Ui(y6[t]||"General",t),e.t==="e")e.w=e.w||uo[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=mu(e.v);else if(e.t==="d"){var i=Br(e.v);(i|0)===i?e.w=i.toString(10):e.w=mu(i)}else{if(e.v===void 0)return"";e.w=to(e.v,Ko)}else e.t==="d"?e.w=Ds(t,Br(e.v),Ko):e.w=Ds(t,e.v,Ko)}catch(l){if(s.WTF)throw l}if(s.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=hf(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),s.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=hf(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),s.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(s.WTF&&a.Fills)throw l}}}function g7(e,t){var r=Mt(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ct(r))}var y7=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,v7=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,w7=/<(?:\w:)?hyperlink [^>]*>/mg,k7=/"(\w*:\w*)"/,S7=/<(?:\w:)?col\b[^>]*[\/]?>/g,b7=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,_7=/<(?:\w:)?pageMargins[^>]*\/>/g,mN=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,E7=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,N7=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function C7(e,t,r,s,n,a,i){if(!e)return e;s||(s={"!id":{}});var l=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",f=e.match(v7);f?(c=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):c=d=e;var h=c.match(mN);h?s1(h[0],l,n,r):(h=c.match(E7))&&T7(h[0],h[1]||"",l,n,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=c.slice(p,p+50).match(k7);m&&g7(l,m[1])}var x=c.match(N7);x&&x[1]&&P7(x[1],n);var y=[];if(t.cellStyles){var g=c.match(S7);g&&F7(y,g)}f&&O7(f[1],l,t,u,a,i);var v=d.match(b7);v&&(l["!autofilter"]=R7(v[0]));var w=[],b=d.match(y7);if(b)for(p=0;p!=b.length;++p)w[p]=Mt(b[p].slice(b[p].indexOf('"')+1));var D=d.match(w7);D&&A7(l,D,s);var A=d.match(_7);if(A&&(l["!margins"]=j7(He(A[0]))),!l["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(l["!ref"]=ct(u)),t.sheetRows>0&&l["!ref"]){var _=Mt(l["!ref"]);t.sheetRows<=+_.e.r&&(_.e.r=t.sheetRows-1,_.e.r>u.e.r&&(_.e.r=u.e.r),_.e.r<_.s.r&&(_.s.r=_.e.r),_.e.c>u.e.c&&(_.e.c=u.e.c),_.e.c<_.s.c&&(_.s.c=_.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ct(_))}return y.length>0&&(l["!cols"]=y),w.length>0&&(l["!merges"]=w),l}function s1(e,t,r,s){var n=He(e);r.Sheets[s]||(r.Sheets[s]={}),n.codeName&&(r.Sheets[s].CodeName=ft(kt(n.codeName)))}function T7(e,t,r,s,n){s1(e.slice(0,e.indexOf(">")),r,s,n)}function A7(e,t,r){for(var s=Array.isArray(e),n=0;n!=t.length;++n){var a=He(kt(t[n]),!0);if(!a.ref)return;var i=((r||{})["!id"]||[])[a.id];i?(a.Target=i.Target,a.location&&(a.Target+="#"+ft(a.location))):(a.Target="#"+ft(a.location),i={Target:a.Target,TargetMode:"Internal"}),a.Rel=i,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var l=Mt(a.ref),u=l.s.r;u<=l.e.r;++u)for(var c=l.s.c;c<=l.e.c;++c){var d=Ye({c,r:u});s?(e[u]||(e[u]=[]),e[u][c]||(e[u][c]={t:"z",v:void 0}),e[u][c].l=a):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=a)}}}function j7(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function F7(e,t){for(var r=!1,s=0;s!=t.length;++s){var n=He(t[s],!0);n.hidden&&(n.hidden=_t(n.hidden));var a=parseInt(n.min,10)-1,i=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,t1(n.width)),Nl(n);a<=i;)e[a++]=hr(n)}}function R7(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var D7=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function P7(e,t){t.Views||(t.Views=[{}]),(e.match(D7)||[]).forEach(function(r,s){var n=He(r);t.Views[s]||(t.Views[s]={}),+n.zoomScale&&(t.Views[s].zoom=+n.zoomScale),_t(n.rightToLeft)&&(t.Views[s].RTL=!0)})}var O7=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,s=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,a=pu("v"),i=pu("f");return function(u,c,d,f,h,p){for(var m=0,x="",y=[],g=[],v=0,w=0,b=0,D="",A,_,S=0,k=0,N,C,E=0,M=0,Q=Array.isArray(p.CellXf),Y,X=[],ee=[],te=Array.isArray(c),R=[],se={},U=!1,T=!!d.sheetStubs,j=u.split(t),L=0,z=j.length;L!=z;++L){x=j[L].trim();var I=x.length;if(I!==0){var J=0;e:for(m=0;m<I;++m)switch(x[m]){case">":if(x[m-1]!="/"){++m;break e}if(d&&d.cellStyles){if(_=He(x.slice(J,m),!0),S=_.r!=null?parseInt(_.r,10):S+1,k=-1,d.sheetRows&&d.sheetRows<S)continue;se={},U=!1,_.ht&&(U=!0,se.hpt=parseFloat(_.ht),se.hpx=vu(se.hpt)),_.hidden=="1"&&(U=!0,se.hidden=!0),_.outlineLevel!=null&&(U=!0,se.level=+_.outlineLevel),U&&(R[S-1]=se)}break;case"<":J=m;break}if(J>=m)break;if(_=He(x.slice(J,m),!0),S=_.r!=null?parseInt(_.r,10):S+1,k=-1,!(d.sheetRows&&d.sheetRows<S)){f.s.r>S-1&&(f.s.r=S-1),f.e.r<S-1&&(f.e.r=S-1),d&&d.cellStyles&&(se={},U=!1,_.ht&&(U=!0,se.hpt=parseFloat(_.ht),se.hpx=vu(se.hpt)),_.hidden=="1"&&(U=!0,se.hidden=!0),_.outlineLevel!=null&&(U=!0,se.level=+_.outlineLevel),U&&(R[S-1]=se)),y=x.slice(m).split(e);for(var ne=0;ne!=y.length&&y[ne].trim().charAt(0)=="<";++ne);for(y=y.slice(ne),m=0;m!=y.length;++m)if(x=y[m].trim(),x.length!==0){if(g=x.match(r),v=m,w=0,b=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,g!=null&&g.length===2){for(v=0,D=g[1],w=0;w!=D.length&&!((b=D.charCodeAt(w)-64)<1||b>26);++w)v=26*v+b;--v,k=v}else++k;for(w=0;w!=x.length&&x.charCodeAt(w)!==62;++w);if(++w,_=He(x.slice(0,w),!0),_.r||(_.r=Ye({r:S-1,c:k})),D=x.slice(w),A={t:""},(g=D.match(a))!=null&&g[1]!==""&&(A.v=ft(g[1])),d.cellFormula){if((g=D.match(i))!=null&&g[1]!==""){if(A.f=ft(kt(g[1])).replace(/\r\n/g,`
`),d.xlfn||(A.f=W2(A.f)),g[0].indexOf('t="array"')>-1)A.F=(D.match(n)||[])[1],A.F.indexOf(":")>-1&&X.push([Mt(A.F),A.F]);else if(g[0].indexOf('t="shared"')>-1){C=He(g[0]);var re=ft(kt(g[1]));d.xlfn||(re=W2(re)),ee[parseInt(C.si,10)]=[C,re,_.r]}}else(g=D.match(/<f[^>]*\/>/))&&(C=He(g[0]),ee[C.si]&&(A.f=K8(ee[C.si][1],ee[C.si][2],_.r)));var ae=Or(_.r);for(w=0;w<X.length;++w)ae.r>=X[w][0].s.r&&ae.r<=X[w][0].e.r&&ae.c>=X[w][0].s.c&&ae.c<=X[w][0].e.c&&(A.F=X[w][1])}if(_.t==null&&A.v===void 0)if(A.f||A.F)A.v=0,A.t="n";else if(T)A.t="z";else continue;else A.t=_.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),A.t){case"n":if(A.v==""||A.v==null){if(!T)continue;A.t="z"}else A.v=parseFloat(A.v);break;case"s":if(typeof A.v>"u"){if(!T)continue;A.t="z"}else N=Mc[parseInt(A.v,10)],A.v=N.t,A.r=N.r,d.cellHTML&&(A.h=N.h);break;case"str":A.t="s",A.v=A.v!=null?kt(A.v):"",d.cellHTML&&(A.h=Hg(A.v));break;case"inlineStr":g=D.match(s),A.t="s",g!=null&&(N=e1(g[1]))?(A.v=N.t,d.cellHTML&&(A.h=N.h)):A.v="";break;case"b":A.v=_t(A.v);break;case"d":d.cellDates?A.v=or(A.v,1):(A.v=Br(or(A.v,1)),A.t="n");break;case"e":(!d||d.cellText!==!1)&&(A.w=A.v),A.v=OE[A.v];break}if(E=M=0,Y=null,Q&&_.s!==void 0&&(Y=p.CellXf[_.s],Y!=null&&(Y.numFmtId!=null&&(E=Y.numFmtId),d.cellStyles&&Y.fillId!=null&&(M=Y.fillId))),hN(A,E,M,d,h,p),d.cellDates&&Q&&A.t=="n"&&Ol(Je[E])&&(A.t="d",A.v=eh(A.v)),_.cm&&d.xlmeta){var q=(d.xlmeta.Cell||[])[+_.cm-1];q&&q.type=="XLDAPR"&&(A.D=!0)}if(te){var O=Or(_.r);c[O.r]||(c[O.r]=[]),c[O.r][O.c]=A}else c[_.r]=A}}}}R.length>0&&(c["!rows"]=R)}}();function I7(e,t){var r={},s=e.l+t;r.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=s,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=n/20),r}var M7=co;function L7(){}function B7(e,t){var r={},s=e[e.l];return++e.l,r.above=!(s&64),r.left=!(s&128),e.l+=18,r.name=oO(e),r}function z7(e){var t=Os(e);return[t]}function U7(e){var t=lo(e);return[t]}function $7(e){var t=Os(e),r=e.read_shift(1);return[t,r,"b"]}function V7(e){var t=lo(e),r=e.read_shift(1);return[t,r,"b"]}function H7(e){var t=Os(e),r=e.read_shift(1);return[t,r,"e"]}function W7(e){var t=lo(e),r=e.read_shift(1);return[t,r,"e"]}function K7(e){var t=Os(e),r=e.read_shift(4);return[t,r,"s"]}function G7(e){var t=lo(e),r=e.read_shift(4);return[t,r,"s"]}function q7(e){var t=Os(e),r=br(e);return[t,r,"n"]}function pN(e){var t=lo(e),r=br(e);return[t,r,"n"]}function Y7(e){var t=Os(e),r=Qg(e);return[t,r,"n"]}function X7(e){var t=lo(e),r=Qg(e);return[t,r,"n"]}function Q7(e){var t=Os(e),r=Yg(e);return[t,r,"is"]}function Z7(e){var t=Os(e),r=Er(e);return[t,r,"str"]}function J7(e){var t=lo(e),r=Er(e);return[t,r,"str"]}function e9(e,t,r){var s=e.l+t,n=Os(e);n.r=r["!row"];var a=e.read_shift(1),i=[n,a,"b"];if(r.cellFormula){e.l+=2;var l=sh(e,s-e.l,r);i[3]=wr(l,null,n,r.supbooks,r)}else e.l=s;return i}function t9(e,t,r){var s=e.l+t,n=Os(e);n.r=r["!row"];var a=e.read_shift(1),i=[n,a,"e"];if(r.cellFormula){e.l+=2;var l=sh(e,s-e.l,r);i[3]=wr(l,null,n,r.supbooks,r)}else e.l=s;return i}function r9(e,t,r){var s=e.l+t,n=Os(e);n.r=r["!row"];var a=br(e),i=[n,a,"n"];if(r.cellFormula){e.l+=2;var l=sh(e,s-e.l,r);i[3]=wr(l,null,n,r.supbooks,r)}else e.l=s;return i}function s9(e,t,r){var s=e.l+t,n=Os(e);n.r=r["!row"];var a=Er(e),i=[n,a,"str"];if(r.cellFormula){e.l+=2;var l=sh(e,s-e.l,r);i[3]=wr(l,null,n,r.supbooks,r)}else e.l=s;return i}var n9=co;function a9(e,t){var r=e.l+t,s=co(e),n=Xg(e),a=Er(e),i=Er(e),l=Er(e);e.l=r;var u={rfx:s,relId:n,loc:a,display:l};return i&&(u.Tooltip=i),u}function i9(){}function o9(e,t,r){var s=e.l+t,n=RE(e),a=e.read_shift(1),i=[n];if(i[2]=a,r.cellFormula){var l=f7(e,s-e.l,r);i[1]=l}else e.l=s;return i}function l9(e,t,r){var s=e.l+t,n=co(e),a=[n];if(r.cellFormula){var i=m7(e,s-e.l,r);a[1]=i,e.l=s}else e.l=s;return a}var c9=["left","right","top","bottom","header","footer"];function u9(e){var t={};return c9.forEach(function(r){t[r]=br(e)}),t}function d9(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function f9(){}function h9(){}function m9(e,t,r,s,n,a,i){if(!e)return e;var l=t||{};s||(s={"!id":{}});var u=l.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,x,y,g,v,w,b,D,A=[];l.biff=12,l["!row"]=0;var _=0,S=!1,k=[],N={},C=l.supbooks||n.supbooks||[[]];if(C.sharedf=N,C.arrayf=k,C.SheetNames=n.SheetNames||n.Sheets.map(function(te){return te.name}),!l.supbooks&&(l.supbooks=C,n.Names))for(var E=0;E<n.Names.length;++E)C[0][E+1]=n.Names[E];var M=[],Q=[],Y=!1;xf[16]={n:"BrtShortReal",f:pN};var X;if(na(e,function(R,se,U){if(!h)switch(U){case 148:c=R;break;case 0:p=R,l.sheetRows&&l.sheetRows<=p.r&&(h=!0),b=mr(y=p.r),l["!row"]=p.r,(R.hidden||R.hpt||R.level!=null)&&(R.hpt&&(R.hpx=vu(R.hpt)),Q[R.r]=R);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:R[2]},R[2]){case"n":m.v=R[1];break;case"s":w=Mc[R[1]],m.v=w.t,m.r=w.r;break;case"b":m.v=!!R[1];break;case"e":m.v=R[1],l.cellText!==!1&&(m.w=uo[m.v]);break;case"str":m.t="s",m.v=R[1];break;case"is":m.t="s",m.v=R[1].t;break}if((x=i.CellXf[R[0].iStyleRef])&&hN(m,x.numFmtId,null,l,a,i),g=R[0].c==-1?g+1:R[0].c,l.dense?(u[y]||(u[y]=[]),u[y][g]=m):u[Zt(g)+b]=m,l.cellFormula){for(S=!1,_=0;_<k.length;++_){var T=k[_];p.r>=T[0].s.r&&p.r<=T[0].e.r&&g>=T[0].s.c&&g<=T[0].e.c&&(m.F=ct(T[0]),S=!0)}!S&&R.length>3&&(m.f=R[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>g&&(d.s.c=g),d.e.r<p.r&&(d.e.r=p.r),d.e.c<g&&(d.e.c=g),l.cellDates&&x&&m.t=="n"&&Ol(Je[x.numFmtId])){var j=Ei(m.v);j&&(m.t="d",m.v=new Date(j.y,j.m-1,j.d,j.H,j.M,j.S,j.u))}X&&(X.type=="XLDAPR"&&(m.D=!0),X=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;m={t:"z",v:void 0},g=R[0].c==-1?g+1:R[0].c,l.dense?(u[y]||(u[y]=[]),u[y][g]=m):u[Zt(g)+b]=m,d.s.r>p.r&&(d.s.r=p.r),d.s.c>g&&(d.s.c=g),d.e.r<p.r&&(d.e.r=p.r),d.e.c<g&&(d.e.c=g),X&&(X.type=="XLDAPR"&&(m.D=!0),X=void 0);break;case 176:A.push(R);break;case 49:X=((l.xlmeta||{}).Cell||[])[R-1];break;case 494:var L=s["!id"][R.relId];for(L?(R.Target=L.Target,R.loc&&(R.Target+="#"+R.loc),R.Rel=L):R.relId==""&&(R.Target="#"+R.loc),y=R.rfx.s.r;y<=R.rfx.e.r;++y)for(g=R.rfx.s.c;g<=R.rfx.e.c;++g)l.dense?(u[y]||(u[y]=[]),u[y][g]||(u[y][g]={t:"z",v:void 0}),u[y][g].l=R):(v=Ye({c:g,r:y}),u[v]||(u[v]={t:"z",v:void 0}),u[v].l=R);break;case 426:if(!l.cellFormula)break;k.push(R),D=l.dense?u[y][g]:u[Zt(g)+b],D.f=wr(R[1],d,{r:p.r,c:g},C,l),D.F=ct(R[0]);break;case 427:if(!l.cellFormula)break;N[Ye(R[0].s)]=R[1],D=l.dense?u[y][g]:u[Zt(g)+b],D.f=wr(R[1],d,{r:p.r,c:g},C,l);break;case 60:if(!l.cellStyles)break;for(;R.e>=R.s;)M[R.e--]={width:R.w/256,hidden:!!(R.flags&1),level:R.level},Y||(Y=!0,t1(R.w/256)),Nl(M[R.e+1]);break;case 161:u["!autofilter"]={ref:ct(R)};break;case 476:u["!margins"]=R;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),R.name&&(n.Sheets[r].CodeName=R.name),(R.above||R.left)&&(u["!outline"]={above:R.above,left:R.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),R.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!se.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+U.toString(16))}}},l),delete l.supbooks,delete l["!row"],!u["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(u["!ref"]=ct(c||d)),l.sheetRows&&u["!ref"]){var ee=Mt(u["!ref"]);l.sheetRows<=+ee.e.r&&(ee.e.r=l.sheetRows-1,ee.e.r>d.e.r&&(ee.e.r=d.e.r),ee.e.r<ee.s.r&&(ee.s.r=ee.e.r),ee.e.c>d.e.c&&(ee.e.c=d.e.c),ee.e.c<ee.s.c&&(ee.s.c=ee.e.c),u["!fullref"]=u["!ref"],u["!ref"]=ct(ee))}return A.length>0&&(u["!merges"]=A),M.length>0&&(u["!cols"]=M),Q.length>0&&(u["!rows"]=Q),u}function p9(e){var t=[],r=e.match(/^<c:numCache>/),s;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var i=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var n=ft((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){s=a.replace(/<.*?>/g,"")}),[t,n,s]}function x9(e,t,r,s,n,a){var i=a||{"!type":"chart"};if(!e)return a;var l=0,u=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=p9(f);d.s.r=d.s.c=0,d.e.c=l,c=Zt(l),h[0].forEach(function(p,m){i[c+mr(m)]={t:"n",v:p,z:h[1]},u=m}),d.e.r<u&&(d.e.r=u),++l}),l>0&&(i["!ref"]=ct(d)),i}function g9(e,t,r,s,n){if(!e)return e;s||(s={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i,l=e.match(mN);return l&&s1(l[0],a,n,r),(i=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=i[1]),s["!id"][a["!rel"]]&&(a["!drawel"]=s["!id"][a["!rel"]]),a}function y9(e,t){e.l+=10;var r=Er(e);return{name:r}}function v9(e,t,r,s,n){if(!e)return e;s||(s={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i=!1;return na(e,function(u,c,d){switch(d){case 550:a["!rel"]=u;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),u.name&&(n.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),s["!id"][a["!rel"]]&&(a["!drawel"]=s["!id"][a["!rel"]]),a}var xN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],w9=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],k9=[],S9=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function X2(e,t){for(var r=0;r!=e.length;++r)for(var s=e[r],n=0;n!=t.length;++n){var a=t[n];if(s[a[0]]==null)s[a[0]]=a[1];else switch(a[2]){case"bool":typeof s[a[0]]=="string"&&(s[a[0]]=_t(s[a[0]]));break;case"int":typeof s[a[0]]=="string"&&(s[a[0]]=parseInt(s[a[0]],10));break}}}function Q2(e,t){for(var r=0;r!=t.length;++r){var s=t[r];if(e[s[0]]==null)e[s[0]]=s[1];else switch(s[2]){case"bool":typeof e[s[0]]=="string"&&(e[s[0]]=_t(e[s[0]]));break;case"int":typeof e[s[0]]=="string"&&(e[s[0]]=parseInt(e[s[0]],10));break}}}function gN(e){Q2(e.WBProps,xN),Q2(e.CalcPr,S9),X2(e.WBView,w9),X2(e.Sheets,k9),Ko.date1904=_t(e.WBProps.date1904)}var b9="][*?/\\".split("");function _9(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return b9.forEach(function(s){if(e.indexOf(s)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}var E9=/<\w+:workbook/;function N9(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},s=!1,n="xmlns",a={},i=0;if(e.replace(Tr,function(u,c){var d=He(u);switch(Nn(d[0])){case"<?xml":break;case"<workbook":u.match(E9)&&(n="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=d[n];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":xN.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=_t(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=kt(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=ft(kt(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":s=!0;break;case"</definedNames>":s=!1;break;case"<definedName":a={},a.Name=kt(d.name),d.comment&&(a.Comment=d.comment),d.localSheetId&&(a.Sheet=+d.localSheetId),_t(d.hidden||"0")&&(a.Hidden=!0),i=c+u.length;break;case"</definedName>":a.Ref=ft(kt(e.slice(i,c))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":s=!0;break;case"</AlternateContent>":s=!1;break;case"<revisionPtr":break;default:if(!s&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return u}),H6.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return gN(r),r}function C9(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Vp(e),r.name=Er(e),r}function T9(e,t){var r={},s=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var n=t>8?Er(e):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function A9(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function j9(e,t,r){var s=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),a=lO(e),i=h7(e,0,r),l=Xg(e);e.l=s;var u={Name:a,Ptg:i};return n<268435455&&(u.Sheet=n),l&&(u.Comment=l),u}function F9(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},s=[],n=!1;t||(t={}),t.biff=12;var a=[],i=[[]];return i.SheetNames=[],i.XTI=[],xf[16]={n:"BrtFRTArchID$",f:A9},na(e,function(u,c,d){switch(d){case 156:i.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=wr(u.Ptg,null,null,i,t),delete t.SID,delete u.Ptg,a.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,u]):i[0]=[d,u],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(u),i.XTI=i.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:s.push(d),n=!0;break;case 36:s.pop(),n=!1;break;case 37:s.push(d),n=!0;break;case 38:s.pop(),n=!1;break;case 16:break;default:if(!c.T){if(!n||t.WTF&&s[s.length-1]!=37&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),gN(r),r.Names=a,r.supbooks=i,r}function R9(e,t,r){return t.slice(-4)===".bin"?F9(e,r):N9(e,r)}function D9(e,t,r,s,n,a,i,l){return t.slice(-4)===".bin"?m9(e,s,r,n,a,i,l):C7(e,s,r,n,a,i,l)}function P9(e,t,r,s,n,a,i,l){return t.slice(-4)===".bin"?v9(e,s,r,n,a):g9(e,s,r,n,a)}function O9(e,t,r,s,n,a,i,l){return t.slice(-4)===".bin"?V8():H8()}function I9(e,t,r,s,n,a,i,l){return t.slice(-4)===".bin"?U8():$8()}function M9(e,t,r,s){return t.slice(-4)===".bin"?n8(e,r,s):ZM(e,r,s)}function L9(e,t,r){return sN(e,r)}function B9(e,t,r){return t.slice(-4)===".bin"?wM(e,r):yM(e,r)}function z9(e,t,r){return t.slice(-4)===".bin"?L8(e,r):D8(e,r)}function U9(e,t,r){return t.slice(-4)===".bin"?j8(e):T8(e)}function $9(e,t,r,s){return r.slice(-4)===".bin"?F8(e,t,r,s):void 0}function V9(e,t,r){return t.slice(-4)===".bin"?N8(e,t,r):C8(e,t,r)}var yN=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,vN=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ms(e,t){var r=e.split(/\s+/),s=[];if(t||(s[0]=r[0]),r.length===1)return s;var n=e.match(yN),a,i,l,u;if(n)for(u=0;u!=n.length;++u)a=n[u].match(vN),(i=a[1].indexOf(":"))===-1?s[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(i+1),s[l]=a[2].slice(1,a[2].length-1));return s}function H9(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var s=e.match(yN),n,a,i,l;if(s)for(l=0;l!=s.length;++l)n=s[l].match(vN),(a=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?i="xmlns"+n[1].slice(6):i=n[1].slice(a+1),r[i]=n[2].slice(1,n[2].length-1));return r}var Bc;function W9(e,t){var r=Bc[e]||ft(e);return r==="General"?to(t):Ds(r,t)}function K9(e,t,r,s){var n=s;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=_t(s);break;case"i2":case"int":n=parseInt(s,10);break;case"r4":case"float":n=parseFloat(s);break;case"date":case"dateTime.tz":n=or(s);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[ft(t)]=n}function G9(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||uo[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=mu(e.v):e.w=to(e.v):e.w=W9(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var s=Bc[t]||t||"General";if(r.cellNF&&(e.z=s),r.cellDates&&e.t=="n"&&Ol(s)){var n=Ei(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(a){if(r.WTF)throw a}}}function q9(e,t,r){if(r.cellStyles&&t.Interior){var s=t.Interior;s.Pattern&&(s.patternType=KM[s.Pattern]||s.Pattern)}e[t.ID]=t}function Y9(e,t,r,s,n,a,i,l,u,c){var d="General",f=s.StyleID,h={};c=c||{};var p=[],m=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&i&&(f=i.StyleID);a[f]!==void 0&&(a[f].nf&&(d=a[f].nf),a[f].Interior&&p.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(r.Type){case"Boolean":s.t="b",s.v=_t(e);break;case"String":s.t="s",s.r=v2(ft(e)),s.v=e.indexOf("<")>-1?ft(t||e).replace(/<.*?>/g,""):s.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),s.v=(or(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),s.v!==s.v?s.v=ft(e):s.v<60&&(s.v=s.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":s.v===void 0&&(s.v=+e),s.t||(s.t="n");break;case"Error":s.t="e",s.v=OE[e],c.cellText!==!1&&(s.w=e);break;default:e==""&&t==""?s.t="z":(s.t="s",s.v=v2(t||e));break}if(G9(s,d,c),c.cellFormula!==!1)if(s.Formula){var x=ft(s.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),s.f=Wo(x,n),delete s.Formula,s.ArrayRange=="RC"?s.F=Wo("RC:RC",n):s.ArrayRange&&(s.F=Wo(s.ArrayRange,n),u.push([Mt(s.F),s.F]))}else for(m=0;m<u.length;++m)n.r>=u[m][0].s.r&&n.r<=u[m][0].e.r&&n.c>=u[m][0].s.c&&n.c<=u[m][0].e.c&&(s.F=u[m][1]);c.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),s.s=h),s.StyleID!==void 0&&(s.ixfe=s.StyleID)}function X9(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function sm(e,t){var r=t||{};iE();var s=fc(Wg(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(s=kt(s));var n=s.slice(0,1024).toLowerCase(),a=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var i=hr(r);return i.type="string",gu.to_workbook(s,i)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ne){n.indexOf("<"+Ne)>=0&&(a=!0)}),a)return aB(s,r);Bc={"General Number":"General","General Date":Je[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Je[15],"Short Date":Je[14],"Long Time":Je[19],"Medium Time":Je[18],"Short Time":Je[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Je[2],Standard:Je[4],Percent:Je[10],Scientific:Je[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,u=[],c,d={},f=[],h=r.dense?[]:{},p="",m={},x={},y=Ms('<Data ss:Type="String">'),g=0,v=0,w=0,b={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},A={},_="",S=0,k=[],N={},C={},E=0,M=[],Q=[],Y={},X=[],ee,te=!1,R=[],se=[],U={},T=0,j=0,L={Sheets:[],WBProps:{date1904:!1}},z={};xu.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"");for(var I="";l=xu.exec(s);)switch(l[3]=(I=l[3]).toLowerCase()){case"data":if(I=="data"){if(l[1]==="/"){if((c=u.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break}if(u[u.length-1][1])break;l[1]==="/"?Y9(s.slice(g,l.index),_,y,u[u.length-1][0]=="comment"?Y:m,{c:v,r:w},D,X[v],x,R,r):(_="",y=Ms(l[0]),g=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(Q.length>0&&(m.c=Q),(!r.sheetRows||r.sheetRows>w)&&m.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][v]=m):h[Zt(v)+mr(w)]=m),m.HRef&&(m.l={Target:ft(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(T=v+(parseInt(m.MergeAcross,10)|0),j=w+(parseInt(m.MergeDown,10)|0),k.push({s:{c:v,r:w},e:{c:T,r:j}})),!r.sheetStubs)m.MergeAcross?v=T+1:++v;else if(m.MergeAcross||m.MergeDown){for(var J=v;J<=T;++J)for(var ne=w;ne<=j;++ne)(J>v||ne>w)&&(r.dense?(h[ne]||(h[ne]=[]),h[ne][J]={t:"z"}):h[Zt(J)+mr(ne)]={t:"z"});v=T+1}else++v;else m=H9(l[0]),m.Index&&(v=+m.Index-1),v<b.s.c&&(b.s.c=v),v>b.e.c&&(b.e.c=v),l[0].slice(-2)==="/>"&&++v,Q=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(w<b.s.r&&(b.s.r=w),w>b.e.r&&(b.e.r=w),l[0].slice(-2)==="/>"&&(x=Ms(l[0]),x.Index&&(w=+x.Index-1)),v=0,++w):(x=Ms(l[0]),x.Index&&(w=+x.Index-1),U={},(x.AutoFitHeight=="0"||x.Height)&&(U.hpx=parseInt(x.Height,10),U.hpt=rN(U.hpx),se[w]=U),x.Hidden=="1"&&(U.hidden=!0,se[w]=U));break;case"worksheet":if(l[1]==="/"){if((c=u.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"));f.push(p),b.s.r<=b.e.r&&b.s.c<=b.e.c&&(h["!ref"]=ct(b),r.sheetRows&&r.sheetRows<=b.e.r&&(h["!fullref"]=h["!ref"],b.e.r=r.sheetRows-1,h["!ref"]=ct(b))),k.length&&(h["!merges"]=k),X.length>0&&(h["!cols"]=X),se.length>0&&(h["!rows"]=se),d[p]=h}else b={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=v=0,u.push([l[3],!1]),c=Ms(l[0]),p=ft(c.Name),h=r.dense?[]:{},k=[],R=[],se=[],z={name:p,Hidden:0},L.Sheets.push(z);break;case"table":if(l[1]==="/"){if((c=u.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else{if(l[0].slice(-2)=="/>")break;u.push([l[3],!1]),X=[],te=!1}break;case"style":l[1]==="/"?q9(D,A,r):A=Ms(l[0]);break;case"numberformat":A.nf=ft(Ms(l[0]).Format||"General"),Bc[A.nf]&&(A.nf=Bc[A.nf]);for(var re=0;re!=392&&Je[re]!=A.nf;++re);if(re==392){for(re=57;re!=392;++re)if(Je[re]==null){Ui(A.nf,re);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(ee=Ms(l[0]),ee.Hidden&&(ee.hidden=!0,delete ee.Hidden),ee.Width&&(ee.wpx=parseInt(ee.Width,10)),!te&&ee.wpx>10){te=!0,Pr=eN;for(var ae=0;ae<X.length;++ae)X[ae]&&Nl(X[ae])}te&&Nl(ee),X[ee.Index-1||X.length]=ee;for(var q=0;q<+ee.Span;++q)X[X.length]=hr(ee);break;case"namedrange":if(l[1]==="/")break;L.Names||(L.Names=[]);var O=He(l[0]),we={Name:O.Name,Ref:Wo(O.RefersTo.slice(1),{r:0,c:0})};L.Sheets.length>0&&(we.Sheet=L.Sheets.length-1),L.Names.push(we);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?_+=s.slice(S,l.index):S=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;A.Interior=Ms(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?DO(N,I,s.slice(E,l.index)):E=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((c=u.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else u.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((c=u.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"));X9(Y),Q.push(Y)}else u.push([l[3],!1]),c=Ms(l[0]),Y={a:c.Author};break;case"autofilter":if(l[1]==="/"){if((c=u.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Se=Ms(l[0]);h["!autofilter"]={ref:Wo(Se.Range).replace(/\$/g,"")},u.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((c=u.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((c=u.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"null":break;default:if(u.length==0&&l[3]=="document"||u.length==0&&l[3]=="uof")return sw(s,r);var be=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:be=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:be=!1}break;case"excelworkbook":switch(l[3]){case"date1904":L.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:be=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:be=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(s.slice(E,l.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else E=l.index+l[0].length;break;case"header":h["!margins"]||Lc(h["!margins"]={},"xlml"),isNaN(+He(l[0]).Margin)||(h["!margins"].header=+He(l[0]).Margin);break;case"footer":h["!margins"]||Lc(h["!margins"]={},"xlml"),isNaN(+He(l[0]).Margin)||(h["!margins"].footer=+He(l[0]).Margin);break;case"pagemargins":var ge=He(l[0]);h["!margins"]||Lc(h["!margins"]={},"xlml"),isNaN(+ge.Top)||(h["!margins"].top=+ge.Top),isNaN(+ge.Left)||(h["!margins"].left=+ge.Left),isNaN(+ge.Right)||(h["!margins"].right=+ge.Right),isNaN(+ge.Bottom)||(h["!margins"].bottom=+ge.Bottom);break;case"displayrighttoleft":L.Views||(L.Views=[]),L.Views[0]||(L.Views[0]={}),L.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:be=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:be=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:be=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:be=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:be=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:be=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:be=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:be=!1}break;case"smarttags":break;default:be=!1;break}if(be||l[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?K9(C,I,M,s.slice(E,l.index)):(M=l,E=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+u.join("|")}var ve={};return!r.bookSheets&&!r.bookProps&&(ve.Sheets=d),ve.SheetNames=f,ve.Workbook=L,ve.SSF=hr(Je),ve.Props=N,ve.Custprops=C,ve}function Gp(e,t){switch(i1(t=t||{}),t.type||"base64"){case"base64":return sm(ps(e),t);case"binary":case"buffer":case"file":return sm(e,t);case"array":return sm(oo(e),t)}}function Q9(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=dO(r),r.length-r.l<=4)return t;var s=r.read_shift(4);if(s==0||s>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(s=r.read_shift(4),s!==1907505652)||(t.UnicodeClipboardFormat=fO(r),s=r.read_shift(4),s==0||s>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Z9=[60,1084,2066,2165,2175];function J9(e,t,r,s,n){var a=s,i=[],l=r.slice(r.l,r.l+a);if(n&&n.enc&&n.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(l)}i.push(l),r.l+=a;for(var u=Bn(r,r.l),c=qp[u],d=0;c!=null&&Z9.indexOf(u)>-1;)a=Bn(r,r.l+2),d=r.l+4,u==2066?d+=4:(u==2165||u==2175)&&(d+=12),l=r.slice(d,r.l+4+a),i.push(l),r.l+=4+a,c=qp[u=Bn(r,r.l)];var f=ya(i);dr(f,0);var h=0;f.lens=[];for(var p=0;p<i.length;++p)f.lens.push(h),h+=i[p].length;if(f.length<s)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+s;return t.f(f,f.length,n)}function an(e,t,r){if(e.t!=="z"&&e.XF){var s=0;try{s=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Je[s])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||uo[e.v]:s===0||s=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=mu(e.v):e.w=to(e.v):e.w=Ds(s,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&s&&e.t=="n"&&Ol(Je[s]||String(s))){var n=Ei(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function Vd(e,t,r){return{v:e,ixfe:t,t:r}}function eB(e,t){var r={opts:{}},s={},n=t.dense?[]:{},a={},i={},l=null,u=[],c="",d={},f,h="",p,m,x,y,g={},v=[],w,b,D=[],A=[],_={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},k=function(Ve){return Ve<8?$i[Ve]:Ve<64&&A[Ve-8]||$i[Ve]},N=function(Ve,Ge,nt){var at=Ge.XF.data;if(!(!at||!at.patternType||!nt||!nt.cellStyles)){Ge.s={},Ge.s.patternType=at.patternType;var lr;(lr=yu(k(at.icvFore)))&&(Ge.s.fgColor={rgb:lr}),(lr=yu(k(at.icvBack)))&&(Ge.s.bgColor={rgb:lr})}},C=function(Ve,Ge,nt){if(!(U>1)&&!(nt.sheetRows&&Ve.r>=nt.sheetRows)){if(nt.cellStyles&&Ge.XF&&Ge.XF.data&&N(Ve,Ge,nt),delete Ge.ixfe,delete Ge.XF,f=Ve,h=Ye(Ve),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Ve.r<i.s.r&&(i.s.r=Ve.r),Ve.c<i.s.c&&(i.s.c=Ve.c),Ve.r+1>i.e.r&&(i.e.r=Ve.r+1),Ve.c+1>i.e.c&&(i.e.c=Ve.c+1),nt.cellFormula&&Ge.f){for(var at=0;at<v.length;++at)if(!(v[at][0].s.c>Ve.c||v[at][0].s.r>Ve.r)&&!(v[at][0].e.c<Ve.c||v[at][0].e.r<Ve.r)){Ge.F=ct(v[at][0]),(v[at][0].s.c!=Ve.c||v[at][0].s.r!=Ve.r)&&delete Ge.f,Ge.f&&(Ge.f=""+wr(v[at][1],i,Ve,R,E));break}}nt.dense?(n[Ve.r]||(n[Ve.r]=[]),n[Ve.r][Ve.c]=Ge):n[h]=Ge}},E={enc:!1,sbcch:0,snames:[],sharedf:g,arrayf:v,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(E.password=t.password);var M,Q=[],Y=[],X=[],ee=[],te=!1,R=[];R.SheetNames=E.snames,R.sharedf=E.sharedf,R.arrayf=E.arrayf,R.names=[],R.XTI=[];var se=0,U=0,T=0,j=[],L=[],z;E.codepage=1200,Ys(1200);for(var I=!1;e.l<e.length-1;){var J=e.l,ne=e.read_shift(2);if(ne===0&&se===10)break;var re=e.l===e.length?0:e.read_shift(2),ae=qp[ne];if(ae&&ae.f){if(t.bookSheets&&se===133&&ne!==133)break;if(se=ne,ae.r===2||ae.r==12){var q=e.read_shift(2);if(re-=2,!E.enc&&q!==ne&&((q&255)<<8|q>>8)!==ne)throw new Error("rt mismatch: "+q+"!="+ne);ae.r==12&&(e.l+=10,re-=10)}var O={};if(ne===10?O=ae.f(e,re,E):O=J9(ne,ae,e,re,E),U==0&&[9,521,1033,2057].indexOf(se)===-1)continue;switch(ne){case 34:r.opts.Date1904=_.WBProps.date1904=O;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(E.enc||(e.l=0),E.enc=O,!t.password)throw new Error("File is password-protected");if(O.valid==null)throw new Error("Encryption scheme unsupported");if(!O.valid)throw new Error("Password is incorrect");break;case 92:E.lastuser=O;break;case 66:var we=Number(O);switch(we){case 21010:we=1200;break;case 32768:we=1e4;break;case 32769:we=1252;break}Ys(E.codepage=we),I=!0;break;case 317:E.rrtabid=O;break;case 25:E.winlocked=O;break;case 439:r.opts.RefreshAll=O;break;case 12:r.opts.CalcCount=O;break;case 16:r.opts.CalcDelta=O;break;case 17:r.opts.CalcIter=O;break;case 13:r.opts.CalcMode=O;break;case 14:r.opts.CalcPrecision=O;break;case 95:r.opts.CalcSaveRecalc=O;break;case 15:E.CalcRefMode=O;break;case 2211:r.opts.FullCalc=O;break;case 129:O.fDialog&&(n["!type"]="dialog"),O.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),O.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:D.push(O);break;case 430:R.push([O]),R[R.length-1].XTI=[];break;case 35:case 547:R[R.length-1].push(O);break;case 24:case 536:z={Name:O.Name,Ref:wr(O.rgce,i,null,R,E)},O.itab>0&&(z.Sheet=O.itab-1),R.names.push(z),R[0]||(R[0]=[],R[0].XTI=[]),R[R.length-1].push(O),O.Name=="_xlnm._FilterDatabase"&&O.itab>0&&O.rgce&&O.rgce[0]&&O.rgce[0][0]&&O.rgce[0][0][0]=="PtgArea3d"&&(L[O.itab-1]={ref:ct(O.rgce[0][0][1][2])});break;case 22:E.ExternCount=O;break;case 23:R.length==0&&(R[0]=[],R[0].XTI=[]),R[R.length-1].XTI=R[R.length-1].XTI.concat(O),R.XTI=R.XTI.concat(O);break;case 2196:if(E.biff<8)break;z!=null&&(z.Comment=O[1]);break;case 18:n["!protect"]=O;break;case 19:O!==0&&E.WTF&&console.error("Password verifier: "+O);break;case 133:a[O.pos]=O,E.snames.push(O.name);break;case 10:{if(--U)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,n["!ref"]=ct(i),t.sheetRows&&t.sheetRows<=i.e.r){var Se=i.e.r;i.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=ct(i),i.e.r=Se}i.e.r++,i.e.c++}Q.length>0&&(n["!merges"]=Q),Y.length>0&&(n["!objects"]=Y),X.length>0&&(n["!cols"]=X),ee.length>0&&(n["!rows"]=ee),_.Sheets.push(S)}c===""?d=n:s[c]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(E.biff===8&&(E.biff={9:2,521:3,1033:4}[ne]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[O.BIFFVer]||8),E.biffguess=O.BIFFVer==0,O.BIFFVer==0&&O.dt==4096&&(E.biff=5,I=!0,Ys(E.codepage=28591)),E.biff==8&&O.BIFFVer==0&&O.dt==16&&(E.biff=2),U++)break;if(n=t.dense?[]:{},E.biff<8&&!I&&(I=!0,Ys(E.codepage=t.codepage||1252)),E.biff<5||O.BIFFVer==0&&O.dt==4096){c===""&&(c="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var be={pos:e.l-re,name:c};a[be.pos]=be,E.snames.push(c)}else c=(a[J]||{name:""}).name;O.dt==32&&(n["!type"]="chart"),O.dt==64&&(n["!type"]="macro"),Q=[],Y=[],E.arrayf=v=[],X=[],ee=[],te=!1,S={Hidden:(a[J]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[O.r]||[])[O.c]:n[Ye({c:O.c,r:O.r})])&&++O.c,w={ixfe:O.ixfe,XF:D[O.ixfe]||{},v:O.val,t:"n"},T>0&&(w.z=j[w.ixfe>>8&63]),an(w,t,r.opts.Date1904),C({c:O.c,r:O.r},w,t);break;case 5:case 517:w={ixfe:O.ixfe,XF:D[O.ixfe],v:O.val,t:O.t},T>0&&(w.z=j[w.ixfe>>8&63]),an(w,t,r.opts.Date1904),C({c:O.c,r:O.r},w,t);break;case 638:w={ixfe:O.ixfe,XF:D[O.ixfe],v:O.rknum,t:"n"},T>0&&(w.z=j[w.ixfe>>8&63]),an(w,t,r.opts.Date1904),C({c:O.c,r:O.r},w,t);break;case 189:for(var ge=O.c;ge<=O.C;++ge){var ve=O.rkrec[ge-O.c][0];w={ixfe:ve,XF:D[ve],v:O.rkrec[ge-O.c][1],t:"n"},T>0&&(w.z=j[w.ixfe>>8&63]),an(w,t,r.opts.Date1904),C({c:ge,r:O.r},w,t)}break;case 6:case 518:case 1030:{if(O.val=="String"){l=O;break}if(w=Vd(O.val,O.cell.ixfe,O.tt),w.XF=D[w.ixfe],t.cellFormula){var Ne=O.formula;if(Ne&&Ne[0]&&Ne[0][0]&&Ne[0][0][0]=="PtgExp"){var Re=Ne[0][0][1][0],H=Ne[0][0][1][1],ie=Ye({r:Re,c:H});g[ie]?w.f=""+wr(O.formula,i,O.cell,R,E):w.F=((t.dense?(n[Re]||[])[H]:n[ie])||{}).F}else w.f=""+wr(O.formula,i,O.cell,R,E)}T>0&&(w.z=j[w.ixfe>>8&63]),an(w,t,r.opts.Date1904),C(O.cell,w,t),l=O}break;case 7:case 519:if(l)l.val=O,w=Vd(O,l.cell.ixfe,"s"),w.XF=D[w.ixfe],t.cellFormula&&(w.f=""+wr(l.formula,i,l.cell,R,E)),T>0&&(w.z=j[w.ixfe>>8&63]),an(w,t,r.opts.Date1904),C(l.cell,w,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{v.push(O);var oe=Ye(O[0].s);if(p=t.dense?(n[O[0].s.r]||[])[O[0].s.c]:n[oe],t.cellFormula&&p){if(!l||!oe||!p)break;p.f=""+wr(O[1],i,O[0],R,E),p.F=ct(O[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;g[Ye(l.cell)]=O[0],p=t.dense?(n[l.cell.r]||[])[l.cell.c]:n[Ye(l.cell)],(p||{}).f=""+wr(O[0],i,f,R,E)}}break;case 253:w=Vd(u[O.isst].t,O.ixfe,"s"),u[O.isst].h&&(w.h=u[O.isst].h),w.XF=D[w.ixfe],T>0&&(w.z=j[w.ixfe>>8&63]),an(w,t,r.opts.Date1904),C({c:O.c,r:O.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:O.ixfe,XF:D[O.ixfe],t:"z"},T>0&&(w.z=j[w.ixfe>>8&63]),an(w,t,r.opts.Date1904),C({c:O.c,r:O.r},w,t));break;case 190:if(t.sheetStubs)for(var ye=O.c;ye<=O.C;++ye){var he=O.ixfe[ye-O.c];w={ixfe:he,XF:D[he],t:"z"},T>0&&(w.z=j[w.ixfe>>8&63]),an(w,t,r.opts.Date1904),C({c:ye,r:O.r},w,t)}break;case 214:case 516:case 4:w=Vd(O.val,O.ixfe,"s"),w.XF=D[w.ixfe],T>0&&(w.z=j[w.ixfe>>8&63]),an(w,t,r.opts.Date1904),C({c:O.c,r:O.r},w,t);break;case 0:case 512:U===1&&(i=O);break;case 252:u=O;break;case 1054:if(E.biff==4){j[T++]=O[1];for(var pe=0;pe<T+163&&Je[pe]!=O[1];++pe);pe>=163&&Ui(O[1],T+163)}else Ui(O[1],O[0]);break;case 30:{j[T++]=O;for(var ke=0;ke<T+163&&Je[ke]!=O;++ke);ke>=163&&Ui(O,T+163)}break;case 229:Q=Q.concat(O);break;case 93:Y[O.cmo[0]]=E.lastobj=O;break;case 438:E.lastobj.TxO=O;break;case 127:E.lastobj.ImData=O;break;case 440:for(y=O[0].s.r;y<=O[0].e.r;++y)for(x=O[0].s.c;x<=O[0].e.c;++x)p=t.dense?(n[y]||[])[x]:n[Ye({c:x,r:y})],p&&(p.l=O[1]);break;case 2048:for(y=O[0].s.r;y<=O[0].e.r;++y)for(x=O[0].s.c;x<=O[0].e.c;++x)p=t.dense?(n[y]||[])[x]:n[Ye({c:x,r:y})],p&&p.l&&(p.l.Tooltip=O[1]);break;case 28:{if(E.biff<=5&&E.biff>=2)break;p=t.dense?(n[O[0].r]||[])[O[0].c]:n[Ye(O[0])];var Me=Y[O[2]];p||(t.dense?(n[O[0].r]||(n[O[0].r]=[]),p=n[O[0].r][O[0].c]={t:"z"}):p=n[Ye(O[0])]={t:"z"},i.e.r=Math.max(i.e.r,O[0].r),i.s.r=Math.min(i.s.r,O[0].r),i.e.c=Math.max(i.e.c,O[0].c),i.s.c=Math.min(i.s.c,O[0].c)),p.c||(p.c=[]),m={a:O[1],t:Me.TxO.t},p.c.push(m)}break;case 2173:S8(D[O.ixfe],O.ext);break;case 125:{if(!E.cellStyles)break;for(;O.e>=O.s;)X[O.e--]={width:O.w/256,level:O.level||0,hidden:!!(O.flags&1)},te||(te=!0,t1(O.w/256)),Nl(X[O.e+1])}break;case 520:{var ze={};O.level!=null&&(ee[O.r]=ze,ze.level=O.level),O.hidden&&(ee[O.r]=ze,ze.hidden=!0),O.hpt&&(ee[O.r]=ze,ze.hpt=O.hpt,ze.hpx=vu(O.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||Lc(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ne]]=O;break;case 161:n["!margins"]||Lc(n["!margins"]={}),n["!margins"].header=O.header,n["!margins"].footer=O.footer;break;case 574:O.RTL&&(_.Views[0].RTL=!0);break;case 146:A=O;break;case 2198:M=O;break;case 140:b=O;break;case 442:c?S.CodeName=O||S.name:_.WBProps.CodeName=O||"ThisWorkbook";break}}else ae||console.error("Missing Info for XLS Record 0x"+ne.toString(16)),e.l+=re}return r.SheetNames=En(a).sort(function(xt,Ve){return Number(xt)-Number(Ve)}).map(function(xt){return a[xt].name}),t.bookSheets||(r.Sheets=s),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&L.forEach(function(xt,Ve){r.Sheets[r.SheetNames[Ve]]["!autofilter"]=xt}),r.Strings=u,r.SSF=hr(Je),E.enc&&(r.Encryption=E.enc),M&&(r.Themes=M),r.Metadata={},b!==void 0&&(r.Metadata.Country=b),R.names.length>0&&(_.Names=R.names),r.Workbook=_,r}var Z2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function tB(e,t,r){var s=lt.find(e,"/!DocumentSummaryInformation");if(s&&s.size>0)try{var n=O2(s,yO,Z2.DSI);for(var a in n)t[a]=n[a]}catch(c){if(r.WTF)throw c}var i=lt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var l=O2(i,vO,Z2.SI);for(var u in l)t[u]==null&&(t[u]=l[u])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(ME(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function wN(e,t){t||(t={}),i1(t),q_(),t.codepage&&Lg(t.codepage);var r,s;if(e.FullPaths){if(lt.find(e,"/encryption"))throw new Error("File is password-protected");r=lt.find(e,"!CompObj"),s=lt.find(e,"/Workbook")||lt.find(e,"/Book")}else{switch(t.type){case"base64":e=Gs(ps(e));break;case"binary":e=Gs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}dr(e,0),s={content:e}}var n,a;if(r&&Q9(r),t.bookProps&&!t.bookSheets)n={};else{var i=ot?"buffer":"array";if(s&&s.content)n=eB(s.content,t);else if((a=lt.find(e,"PerfectOffice_MAIN"))&&a.content)n=Ic.to_workbook(a.content,(t.type=i,t));else if((a=lt.find(e,"NativeContent_MAIN"))&&a.content)n=Ic.to_workbook(a.content,(t.type=i,t));else throw(a=lt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&lt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=z8(e))}var l={};return e.FullPaths&&tB(e,l,t),n.Props=n.Custprops=l,t.bookFiles&&(n.cfb=e),n}var xf={0:{f:I7},1:{f:z7},2:{f:Y7},3:{f:H7},4:{f:$7},5:{f:q7},6:{f:Z7},7:{f:K7},8:{f:s9},9:{f:r9},10:{f:e9},11:{f:t9},12:{f:U7},13:{f:X7},14:{f:W7},15:{f:V7},16:{f:pN},17:{f:J7},18:{f:G7},19:{f:Yg},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:j9},40:{},42:{},43:{f:e8},44:{f:JM},45:{f:t8},46:{f:s8},47:{f:r8},48:{},49:{f:nO},50:{},51:{f:_8},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:YE},62:{f:Q7},63:{f:A8},64:{f:f9},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Cr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:d9},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:B7},148:{f:M7,p:16},151:{f:i9},152:{},153:{f:T9},154:{},155:{},156:{f:C9},157:{},158:{},159:{T:1,f:vM},160:{T:-1},161:{T:1,f:co},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:n9},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:b8},336:{T:-1},337:{f:E8,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Vp},357:{},358:{},359:{},360:{T:1},361:{},362:{f:qE},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:o9},427:{f:l9},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:u9},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:L7},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:a9},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Vp},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:M8},633:{T:1},634:{T:-1},635:{T:1,f:I8},636:{T:-1},637:{f:iO},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:y9},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:h9},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},qp={6:{f:tm},10:{f:ia},12:{f:Ht},13:{f:Ht},14:{f:Lt},15:{f:Lt},16:{f:br},17:{f:Lt},18:{f:Lt},19:{f:Ht},20:{f:B2},21:{f:B2},23:{f:qE},24:{f:U2},25:{f:Lt},26:{},27:{},28:{f:PI},29:{},34:{f:Lt},35:{f:z2},38:{f:br},39:{f:br},40:{f:br},41:{f:br},42:{f:Lt},43:{f:Lt},47:{f:LM},49:{f:pI},51:{f:Ht},60:{},61:{f:fI},64:{f:Lt},65:{f:mI},66:{f:Ht},77:{},80:{},81:{},82:{},85:{f:Ht},89:{},90:{},91:{},92:{f:nI},93:{f:II},94:{},95:{f:Lt},96:{},97:{},99:{f:Lt},125:{f:YE},128:{f:EI},129:{f:aI},130:{f:Ht},131:{f:Lt},132:{f:Lt},133:{f:iI},134:{},140:{f:$I},141:{f:Ht},144:{},146:{f:HI},151:{},152:{},153:{},154:{},155:{},156:{f:Ht},157:{},158:{},160:{f:YI},161:{f:KI},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:kI},190:{f:SI},193:{f:ia},197:{},198:{},199:{},200:{},201:{},202:{f:Lt},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ht},220:{},221:{f:Lt},222:{},224:{f:_I},225:{f:sI},226:{f:ia},227:{},229:{f:OI},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:oI},253:{f:xI},255:{f:lI},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$E},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Lt},353:{f:ia},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:CI},431:{f:Lt},432:{},433:{},434:{},437:{},438:{f:BI},439:{f:Lt},440:{f:zI},441:{},442:{f:Xu},443:{},444:{f:Ht},445:{},446:{},448:{f:ia},449:{f:dI,r:2},450:{f:ia},512:{f:M2},513:{f:qI},515:{f:NI},516:{f:gI},517:{f:L2},519:{f:XI},520:{f:cI},523:{},545:{f:$2},549:{f:I2},566:{},574:{f:hI},638:{f:wI},659:{},1048:{},1054:{f:yI},1084:{},1212:{f:FI},2048:{f:UI},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:zd},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ia},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:WI,r:12},2173:{f:k8,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Lt,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:jI,r:12},2197:{},2198:{f:p8,r:12},2199:{},2200:{},2201:{},2202:{f:RI,r:12},2203:{f:ia},2204:{},2205:{},2206:{},2207:{},2211:{f:uI},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ht},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:GI},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:VI},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:M2},1:{},2:{f:eM},3:{f:JI},4:{f:ZI},5:{f:L2},7:{f:tM},8:{},9:{f:zd},11:{},22:{f:Ht},30:{f:vI},31:{},32:{},33:{f:$2},36:{},37:{f:I2},50:{f:rM},62:{},52:{},67:{},68:{f:Ht},69:{},86:{},126:{},127:{f:QI},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:sM},223:{},234:{},354:{},421:{},518:{f:tm},521:{f:zd},536:{f:U2},547:{f:z2},561:{},579:{},1030:{f:tm},1033:{f:zd},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ls(e,t,r,s){var n=t;if(!isNaN(n)){var a=s||(r||[]).length||0,i=e.next(4);i.write_shift(2,n),i.write_shift(2,a),a>0&&AE(r)&&e.push(r)}}function J2(e,t){var r=t||{},s=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),i=n.index,l=a&&a.index||e.length,u=C6(e.slice(i,l),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(i=0;i<u.length;++i){var x=u[i].trim(),y=x.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}d=0;continue}if(!(y!="<td"&&y!="<th")){var g=x.split(/<\/t[dh]>/i);for(l=0;l<g.length;++l){var v=g[l].trim();if(v.match(/<t[dh]/i)){for(var w=v,b=0;w.charAt(0)=="<"&&(b=w.indexOf(">"))>-1;)w=w.slice(b+1);for(var D=0;D<m.length;++D){var A=m[D];A.s.c==d&&A.s.r<c&&c<=A.e.r&&(d=A.e.c+1,D=-1)}var _=He(v.slice(0,v.indexOf(">")));h=_.colspan?+_.colspan:1,((f=+_.rowspan)>1||h>1)&&m.push({s:{r:c,c:d},e:{r:c+(f||1)-1,c:d+h-1}});var S=_.t||_["data-t"]||"";if(!w.length){d+=h;continue}if(w=xE(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!w.length){d+=h;continue}var k={t:"s",v:w};r.raw||!w.trim().length||S=="s"||(w==="TRUE"?k={t:"b",v:!0}:w==="FALSE"?k={t:"b",v:!1}:isNaN(en(w))?isNaN(El(w).getDate())||(k={t:"d",v:or(w)},r.cellDates||(k={t:"n",v:Br(k.v)}),k.z=r.dateNF||Je[14]):k={t:"n",v:en(w)}),r.dense?(s[c]||(s[c]=[]),s[c][d]=k):s[Ye({r:c,c:d})]=k,d+=h}}}}return s["!ref"]=ct(p),m.length&&(s["!merges"]=m),s}function rB(e,t,r,s){for(var n=e["!merges"]||[],a=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,u=0,c=0;c<n.length;++c)if(!(n[c].s.r>r||n[c].s.c>i)&&!(n[c].e.r<r||n[c].e.c<i)){if(n[c].s.r<r||n[c].s.c<i){l=-1;break}l=n[c].e.r-n[c].s.r+1,u=n[c].e.c-n[c].s.c+1;break}if(!(l<0)){var d=Ye({r,c:i}),f=s.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||Hg(f.w||(Jn(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),u>1&&(p.colspan=u),s.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(s.id||"sjs")+"-"+d,a.push($6("td",h,p))}}var m="<tr>";return m+a.join("")+"</tr>"}var sB='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',nB="</body></html>";function aB(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return li(J2(r[0],t),t);var s=l1();return r.forEach(function(n,a){c1(s,J2(n,t),"Sheet"+(a+1))}),s}function iB(e,t,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function oB(e,t){var r=t||{},s=r.header!=null?r.header:sB,n=r.footer!=null?r.footer:nB,a=[s],i=Il(e["!ref"]);r.dense=Array.isArray(e),a.push(iB(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)a.push(rB(e,i,l,r));return a.push("</table>"+n),a.join("")}function kN(e,t,r){var s=r||{},n=0,a=0;if(s.origin!=null)if(typeof s.origin=="number")n=s.origin;else{var i=typeof s.origin=="string"?Or(s.origin):s.origin;n=i.r,a=i.c}var l=t.getElementsByTagName("tr"),u=Math.min(s.sheetRows||1e7,l.length),c={s:{r:0,c:0},e:{r:n,c:a}};if(e["!ref"]){var d=Il(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),n==-1&&(c.e.r=n=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,x=0,y=0,g=0,v=0,w=0;for(e["!cols"]||(e["!cols"]=[]);m<l.length&&x<u;++m){var b=l[m];if(ew(b)){if(s.display)continue;p[x]={hidden:!0}}var D=b.children;for(y=g=0;y<D.length;++y){var A=D[y];if(!(s.display&&ew(A))){var _=A.hasAttribute("data-v")?A.getAttribute("data-v"):A.hasAttribute("v")?A.getAttribute("v"):xE(A.innerHTML),S=A.getAttribute("data-z")||A.getAttribute("z");for(h=0;h<f.length;++h){var k=f[h];k.s.c==g+a&&k.s.r<x+n&&x+n<=k.e.r&&(g=k.e.c+1-a,h=-1)}w=+A.getAttribute("colspan")||1,((v=+A.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:x+n,c:g+a},e:{r:x+n+(v||1)-1,c:g+a+(w||1)-1}});var N={t:"s",v:_},C=A.getAttribute("data-t")||A.getAttribute("t")||"";_!=null&&(_.length==0?N.t=C||"z":s.raw||_.trim().length==0||C=="s"||(_==="TRUE"?N={t:"b",v:!0}:_==="FALSE"?N={t:"b",v:!1}:isNaN(en(_))?isNaN(El(_).getDate())||(N={t:"d",v:or(_)},s.cellDates||(N={t:"n",v:Br(N.v)}),N.z=s.dateNF||Je[14]):N={t:"n",v:en(_)})),N.z===void 0&&S!=null&&(N.z=S);var E="",M=A.getElementsByTagName("A");if(M&&M.length)for(var Q=0;Q<M.length&&!(M[Q].hasAttribute("href")&&(E=M[Q].getAttribute("href"),E.charAt(0)!="#"));++Q);E&&E.charAt(0)!="#"&&(N.l={Target:E}),s.dense?(e[x+n]||(e[x+n]=[]),e[x+n][g+a]=N):e[Ye({c:g+a,r:x+n})]=N,c.e.c<g+a&&(c.e.c=g+a),g+=w}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,x-1+n),e["!ref"]=ct(c),x>=u&&(e["!fullref"]=ct((c.e.r=l.length-m+x-1+n,c))),e}function SN(e,t){var r=t||{},s=r.dense?[]:{};return kN(s,e,t)}function lB(e,t){return li(SN(e,t),t)}function ew(e){var t="",r=cB(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function cB(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function uB(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(s,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=ft(t.replace(/<[^>]*>/g,""));return[r]}var tw={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function bN(e,t){var r=t||{},s=Wg(e),n=[],a,i,l={name:""},u="",c=0,d,f,h={},p=[],m=r.dense?[]:{},x,y,g={value:""},v="",w=0,b=[],D=-1,A=-1,_={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,k={},N=[],C={},E=0,M=0,Q=[],Y=1,X=1,ee=[],te={Names:[]},R={},se=["",""],U=[],T={},j="",L=0,z=!1,I=!1,J=0;for(xu.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=xu.exec(s);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(_.e.c>=_.s.c&&_.e.r>=_.s.r?m["!ref"]=ct(_):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=_.e.r&&(m["!fullref"]=m["!ref"],_.e.r=r.sheetRows-1,m["!ref"]=ct(_)),N.length&&(m["!merges"]=N),Q.length&&(m["!rows"]=Q),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=m,I=!1):x[0].charAt(x[0].length-2)!=="/"&&(d=He(x[0],!1),D=A=-1,_.s.r=_.s.c=1e7,_.e.r=_.e.c=0,m=r.dense?[]:{},N=[],Q=[],I=!0);break;case"table-row-group":x[1]==="/"?--S:++S;break;case"table-row":case"":if(x[1]==="/"){D+=Y,Y=1;break}if(f=He(x[0],!1),f.?D=f.-1:D==-1&&(D=0),Y=+f["number-rows-repeated"]||1,Y<10)for(J=0;J<Y;++J)S>0&&(Q[D+J]={level:S});A=-1;break;case"covered-table-cell":x[1]!=="/"&&++A,r.sheetStubs&&(r.dense?(m[D]||(m[D]=[]),m[D][A]={t:"z"}):m[Ye({r:D,c:A})]={t:"z"}),v="",b=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++A,g=He(x[0],!1),X=parseInt(g["number-columns-repeated"]||"1",10),y={t:"z",v:null},g.formula&&r.cellFormula!=!1&&(y.f=Y2(ft(g.formula))),(g.||g["value-type"])=="string"&&(y.t="s",y.v=ft(g["string-value"]||""),r.dense?(m[D]||(m[D]=[]),m[D][A]=y):m[Ye({r:D,c:A})]=y),A+=X-1;else if(x[1]!=="/"){++A,v="",w=0,b=[],X=1;var ne=Y?D+Y-1:D;if(A>_.e.c&&(_.e.c=A),A<_.s.c&&(_.s.c=A),D<_.s.r&&(_.s.r=D),ne>_.e.r&&(_.e.r=ne),g=He(x[0],!1),U=[],T={},y={t:g.||g["value-type"],v:null},r.cellFormula)if(g.formula&&(g.formula=ft(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(E=parseInt(g["number-matrix-rows-spanned"],10)||0,M=parseInt(g["number-matrix-columns-spanned"],10)||0,C={s:{r:D,c:A},e:{r:D+E-1,c:A+M-1}},y.F=ct(C),ee.push([C,y.F])),g.formula)y.f=Y2(g.formula);else for(J=0;J<ee.length;++J)D>=ee[J][0].s.r&&D<=ee[J][0].e.r&&A>=ee[J][0].s.c&&A<=ee[J][0].e.c&&(y.F=ee[J][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(E=parseInt(g["number-rows-spanned"],10)||0,M=parseInt(g["number-columns-spanned"],10)||0,C={s:{r:D,c:A},e:{r:D+E-1,c:A+M-1}},N.push(C)),g["number-columns-repeated"]&&(X=parseInt(g["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=_t(g["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(g.value);break;case"percentage":y.t="n",y.v=parseFloat(g.value);break;case"currency":y.t="n",y.v=parseFloat(g.value);break;case"date":y.t="d",y.v=or(g["date-value"]),r.cellDates||(y.t="n",y.v=Br(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=_6(g["time-value"])/86400,r.cellDates&&(y.t="d",y.v=eh(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(g.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",g["string-value"]!=null&&(v=ft(g["string-value"]),b=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(z=!1,y.t==="s"&&(y.v=v||"",b.length&&(y.R=b),z=w==0),R.Target&&(y.l=R),U.length>0&&(y.c=U,U=[]),v&&r.cellText!==!1&&(y.w=v),z&&(y.t="z",delete y.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=D))for(var re=0;re<Y;++re){if(X=parseInt(g["number-columns-repeated"]||"1",10),r.dense)for(m[D+re]||(m[D+re]=[]),m[D+re][A]=re==0?y:hr(y);--X>0;)m[D+re][A+X]=hr(y);else for(m[Ye({r:D+re,c:A})]=y;--X>0;)m[Ye({r:D+re,c:A+X})]=hr(y);_.e.c<=A&&(_.e.c=A)}X=parseInt(g["number-columns-repeated"]||"1",10),A+=X-1,X=0,y={},v="",b=[]}R={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((a=n.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&n.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((a=n.pop())[0]!==x[3])throw"Bad state: "+a;T.t=v,b.length&&(T.R=b),T.a=j,U.push(T)}else x[0].charAt(x[0].length-2)!=="/"&&n.push([x[3],!1]);j="",L=0,v="",w=0,b=[];break;case"creator":x[1]==="/"?j=s.slice(L,x.index):L=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((a=n.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&n.push([x[3],!1]);v="",w=0,b=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(k[l.name]=u,(a=n.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&(u="",l=He(x[0],!1),n.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":i=He(x[0],!1),u+=tw[x[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":i=He(x[0],!1),u+=tw[x[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":u+=s.slice(c,x.index);break}else c=x.index+x[0].length;break;case"named-range":i=He(x[0],!1),se=rm(i["cell-range-address"]);var ae={Name:i.name,Ref:se[0]+"!"+se[1]};I&&(ae.Sheet=p.length),te.Names.push(ae);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(x[1]==="/"&&(!g||!g["string-value"])){var q=uB(s.slice(w,x.index));v=(v.length>0?v+`
`:"")+q[0]}else He(x[0],!1),w=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{se=rm(He(x[0])["target-range-address"]),h[se[0]]["!autofilter"]={ref:se[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(R=He(x[0],!1),!R.href)break;R.Target=ft(R.href),delete R.href,R.Target.charAt(0)=="#"&&R.Target.indexOf(".")>-1?(se=rm(R.Target.slice(1)),R.Target="#"+se[0]+"!"+se[1]):R.Target.match(/^\.\.[\\\/]/)&&(R.Target=R.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(x)}}var O={Sheets:h,SheetNames:p,Workbook:te};return r.bookSheets&&delete O.Sheets,O}function rw(e,t){t=t||{},bs(e,"META-INF/manifest.xml")&&NO(Vt(e,"META-INF/manifest.xml"),t);var r=cs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var s=bN(kt(r),t);return bs(e,"meta.xml")&&(s.Props=IE(Vt(e,"meta.xml"))),s}function sw(e,t){return bN(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function n1(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Yp(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):kt(oo(e))}function Xp(e){var t=e.reduce(function(n,a){return n+a.length},0),r=new Uint8Array(t),s=0;return e.forEach(function(n){r.set(n,s),s+=n.length}),r}function nw(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function dB(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,s=e[t+14]&1,n=t+13;n>=t;--n)s=s*256+e[n];return(e[t+15]&128?-s:s)*Math.pow(10,r-6176)}function wu(e,t){var r=t?t[0]:0,s=e[r]&127;e:if(e[r++]>=128&&(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),s}function Jt(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function _r(e){for(var t=[],r=[0];r[0]<e.length;){var s=r[0],n=wu(e,r),a=n&7;n=Math.floor(n/8);var i=0,l;if(n==0)break;switch(a){case 0:{for(var u=r[0];e[r[0]++]>=128;);l=e.slice(u,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=wu(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(n," at offset ").concat(s))}var c={data:l,type:a};t[n]==null?t[n]=[c]:t[n].push(c)}return t}function a1(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function fB(e){for(var t,r=[],s=[0];s[0]<e.length;){var n=wu(e,s),a=_r(e.slice(s[0],s[0]+n));s[0]+=n;var i={id:Jt(a[1][0].data),messages:[]};a[2].forEach(function(l){var u=_r(l.data),c=Jt(u[3][0].data);i.messages.push({meta:u,data:e.slice(s[0],s[0]+c)}),s[0]+=c}),(t=a[3])!=null&&t[0]&&(i.merge=Jt(a[3][0].data)>>>0>0),r.push(i)}return r}function hB(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],s=wu(t,r),n=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}n.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var u=0,c=0;if(a==1?(c=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,a==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),n=[Xp(n)],u==0)throw new Error("Invalid offset 0");if(u>n[0].length)throw new Error("Invalid offset beyond length");if(c>=u)for(n.push(n[0].slice(-u)),c-=u;c>=n[n.length-1].length;)n.push(n[n.length-1]),c-=n[n.length-1].length;n.push(n[0].slice(-u,-u+c))}}var d=Xp(n);if(d.length!=s)throw new Error("Unexpected length: ".concat(d.length," != ").concat(s));return d}function mB(e){for(var t=[],r=0;r<e.length;){var s=e[r++],n=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(hB(s,e.slice(r,r+n))),r+=n}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Xp(t)}function pB(e,t,r,s){var n=n1(e),a=n.getUint32(4,!0),i=(s>1?12:8)+nw(a&(s>1?3470:398))*4,l=-1,u=-1,c=NaN,d=new Date(2001,0,1);a&512&&(l=n.getUint32(i,!0),i+=4),i+=nw(a&(s>1?12288:4096))*4,a&16&&(u=n.getUint32(i,!0),i+=4),a&32&&(c=n.getFloat64(i,!0),i+=8),a&64&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[u]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(u>-1)f={t:"s",v:t[u]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function xB(e,t,r){var s=n1(e),n=s.getUint32(8,!0),a=12,i=-1,l=-1,u=NaN,c=NaN,d=new Date(2001,0,1);n&1&&(u=dB(e,a),a+=16),n&2&&(c=s.getFloat64(a,!0),a+=8),n&4&&(d.setTime(d.getTime()+s.getFloat64(a,!0)*1e3),a+=8),n&8&&(l=s.getUint32(a,!0),a+=4),n&16&&(i=s.getUint32(a,!0),a+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return f}function gB(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return pB(e,t,r,e[0]);case 5:return xB(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ya(e){var t=_r(e);return wu(t[1][0].data)}function aw(e,t){var r=_r(t.data),s=Jt(r[1][0].data),n=r[3],a=[];return(n||[]).forEach(function(i){var l=_r(i.data),u=Jt(l[1][0].data)>>>0;switch(s){case 1:a[u]=Yp(l[3][0].data);break;case 8:{var c=e[Ya(l[9][0].data)][0],d=_r(c.data),f=e[Ya(d[1][0].data)][0],h=Jt(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=_r(f.data);a[u]=p[3].map(function(m){return Yp(m.data)}).join("")}break}}),a}function yB(e,t){var r,s,n,a,i,l,u,c,d,f,h,p,m,x,y=_r(e),g=Jt(y[1][0].data)>>>0,v=Jt(y[2][0].data)>>>0,w=((s=(r=y[8])==null?void 0:r[0])==null?void 0:s.data)&&Jt(y[8][0].data)>0||!1,b,D;if((a=(n=y[7])==null?void 0:n[0])!=null&&a.data&&t!=0)b=(l=(i=y[7])==null?void 0:i[0])==null?void 0:l.data,D=(c=(u=y[6])==null?void 0:u[0])==null?void 0:c.data;else if((f=(d=y[4])==null?void 0:d[0])!=null&&f.data&&t!=1)b=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,D=(x=(m=y[3])==null?void 0:m[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var A=w?4:1,_=n1(b),S=[],k=0;k<b.length/2;++k){var N=_.getUint16(k*2,!0);N<65535&&S.push([k,N])}if(S.length!=v)throw"Expected ".concat(v," cells, found ").concat(S.length);var C=[];for(k=0;k<S.length-1;++k)C[S[k][0]]=D.subarray(S[k][1]*A,S[k+1][1]*A);return S.length>=1&&(C[S[S.length-1][0]]=D.subarray(S[S.length-1][1]*A)),{R:g,cells:C}}function vB(e,t){var r,s=_r(t.data),n=(r=s==null?void 0:s[7])!=null&&r[0]?Jt(s[7][0].data)>>>0>0?1:0:-1,a=a1(s[5],function(i){return yB(i,n)});return{nrows:Jt(s[4][0].data)>>>0,data:a.reduce(function(i,l){return i[l.R]||(i[l.R]=[]),l.cells.forEach(function(u,c){if(i[l.R][c])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(c));i[l.R][c]=u}),i},[])}}function wB(e,t,r){var s,n=_r(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Jt(n[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(a.e.c=(Jt(n[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=ct(a);var i=_r(n[4][0].data),l=aw(e,e[Ya(i[4][0].data)][0]),u=(s=i[17])!=null&&s[0]?aw(e,e[Ya(i[17][0].data)][0]):[],c=_r(i[3][0].data),d=0;c[1].forEach(function(f){var h=_r(f.data),p=e[Ya(h[2][0].data)][0],m=Jt(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var x=vB(e,p);x.data.forEach(function(y,g){y.forEach(function(v,w){var b=Ye({r:d+g,c:w}),D=gB(v,l,u);D&&(r[b]=D)})}),d+=x.nrows})}function kB(e,t){var r=_r(t.data),s={"!ref":"A1"},n=e[Ya(r[2][0].data)],a=Jt(n[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return wB(e,n[0],s),s}function SB(e,t){var r,s=_r(t.data),n={name:(r=s[1])!=null&&r[0]?Yp(s[1][0].data):"",sheets:[]},a=a1(s[2],Ya);return a.forEach(function(i){e[i].forEach(function(l){var u=Jt(l.meta[1][0].data);u==6e3&&n.sheets.push(kB(e,l))})}),n}function bB(e,t){var r=l1(),s=_r(t.data),n=a1(s[1],Ya);if(n.forEach(function(a){e[a].forEach(function(i){var l=Jt(i.meta[1][0].data);if(l==2){var u=SB(e,i);u.sheets.forEach(function(c,d){c1(r,c,d==0?u.name:u.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function nm(e){var t,r,s,n,a={},i=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var c;try{c=mB(u.content)}catch(f){return console.log("?? "+u.content.length+" "+(f.message||f))}var d;try{d=fB(c)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){a[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var l=((n=(s=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:s[1])==null?void 0:n[0].data)&&Jt(a[1][0].meta[1][0].data)==1&&a[1][0];if(l||i.forEach(function(u){a[u].forEach(function(c){var d=Jt(c.meta[1][0].data)>>>0;if(d==1)if(!l)l=c;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return bB(a,l)}function _B(e){return function(r){for(var s=0;s!=e.length;++s){var n=e[s];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function i1(e){_B([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function EB(e){return Po.WS.indexOf(e)>-1?"sheet":e==Po.CS?"chart":e==Po.DS?"dialog":e==Po.MS?"macro":e&&e.length?e:"sheet"}function NB(e,t){if(!e)return 0;try{e=t.map(function(s){return s.id||(s.id=s.strRelID),[s.name,e["!id"][s.id].Target,EB(e["!id"][s.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function CB(e,t,r,s,n,a,i,l,u,c,d,f){try{a[s]=Pc(cs(e,r,!0),t);var h=Vt(e,t),p;switch(l){case"sheet":p=D9(h,t,n,u,a[s],c,d,f);break;case"chart":if(p=P9(h,t,n,u,a[s],c,d,f),!p||!p["!drawel"])break;var m=mc(p["!drawel"].Target,t),x=Hp(m),y=R8(cs(e,m,!0),Pc(cs(e,x,!0),m)),g=mc(y,m),v=Hp(g);p=x9(cs(e,g,!0),g,u,Pc(cs(e,v,!0),g),c,p);break;case"macro":p=O9(h,t,n,u,a[s],c,d,f);break;case"dialog":p=I9(h,t,n,u,a[s],c,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}i[s]=p;var w=[];a&&a[s]&&En(a[s]).forEach(function(b){var D="";if(a[s][b].Type==Po.CMNT){D=mc(a[s][b].Target,t);var A=z9(Vt(e,D,!0),D,u);if(!A||!A.length)return;H2(p,A,!1)}a[s][b].Type==Po.TCMNT&&(D=mc(a[s][b].Target,t),w=w.concat(P8(Vt(e,D,!0),u)))}),w&&w.length&&H2(p,w,!0,u.people||[])}catch(b){if(u.WTF)throw b}}function vs(e){return e.charAt(0)=="/"?e.slice(1):e}function TB(e,t){if(iE(),t=t||{},i1(t),bs(e,"META-INF/manifest.xml")||bs(e,"objectdata.xml"))return rw(e,t);if(bs(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof nm<"u"){if(e.FileIndex)return nm(e);var r=lt.utils.cfb_new();return g2(e).forEach(function(Q){A6(r,Q,fE(e,Q))}),nm(r)}throw new Error("Unsupported NUMBERS file")}if(!bs(e,"[Content_Types].xml"))throw bs(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):bs(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var s=g2(e),n=_O(cs(e,"[Content_Types].xml")),a=!1,i,l;if(n.workbooks.length===0&&(l="xl/workbook.xml",Vt(e,l,!0)&&n.workbooks.push(l)),n.workbooks.length===0){if(l="xl/workbook.bin",!Vt(e,l,!0))throw new Error("Could not find workbook");n.workbooks.push(l),a=!0}n.workbooks[0].slice(-3)=="bin"&&(a=!0);var u={},c={};if(!t.bookSheets&&!t.bookProps){if(Mc=[],n.sst)try{Mc=B9(Vt(e,vs(n.sst)),n.sst,t)}catch(Q){if(t.WTF)throw Q}t.cellStyles&&n.themes.length&&(u=L9(cs(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(c=M9(Vt(e,vs(n.style)),n.style,u,t))}n.links.map(function(Q){try{var Y=Pc(cs(e,Hp(vs(Q))),Q);return $9(Vt(e,vs(Q)),Y,Q,t)}catch{}});var d=R9(Vt(e,vs(n.workbooks[0])),n.workbooks[0],t),f={},h="";n.coreprops.length&&(h=Vt(e,vs(n.coreprops[0]),!0),h&&(f=IE(h)),n.extprops.length!==0&&(h=Vt(e,vs(n.extprops[0]),!0),h&&AO(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(h=cs(e,vs(n.custprops[0]),!0),h&&(p=FO(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(Y){return Y.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof i<"u"&&(m.SheetNames=i),t.bookSheets?m.SheetNames:t.bookProps))return m;i={};var x={};t.bookDeps&&n.calcchain&&(x=U9(Vt(e,vs(n.calcchain)),n.calcchain));var y=0,g={},v,w;{var b=d.Sheets;f.Worksheets=b.length,f.SheetNames=[];for(var D=0;D!=b.length;++D)f.SheetNames[D]=b[D].name}var A=a?"bin":"xml",_=n.workbooks[0].lastIndexOf("/"),S=(n.workbooks[0].slice(0,_+1)+"_rels/"+n.workbooks[0].slice(_+1)+".rels").replace(/^\//,"");bs(e,S)||(S="xl/_rels/workbook."+A+".rels");var k=Pc(cs(e,S,!0),S.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=V9(Vt(e,vs(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=O8(Vt(e,vs(n.people[0])),t)),k&&(k=NB(k,d.Sheets));var N=Vt(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var C="sheet";if(k&&k[y]?(v="xl/"+k[y][1].replace(/[\/]?xl\//,""),bs(e,v)||(v=k[y][1]),bs(e,v)||(v=S.replace(/_rels\/.*$/,"")+k[y][1]),C=k[y][2]):(v="xl/worksheets/sheet"+(y+1-N)+"."+A,v=v.replace(/sheet0\./,"sheet.")),w=v.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var E=!1,M=0;M!=t.sheets.length;++M)typeof t.sheets[M]=="number"&&t.sheets[M]==y&&(E=1),typeof t.sheets[M]=="string"&&t.sheets[M].toLowerCase()==f.SheetNames[y].toLowerCase()&&(E=1);if(!E)continue e}}CB(e,v,w,f.SheetNames[y],y,g,i,C,t,d,u,c)}return m={Directory:n,Workbook:d,Props:f,Custprops:p,Deps:x,Sheets:i,SheetNames:f.SheetNames,Strings:Mc,Styles:c,Themes:u,SSF:hr(Je)},t&&t.bookFiles&&(e.files?(m.keys=s,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(Q,Y){Q=Q.replace(/^Root Entry[\/]/,""),m.keys.push(Q),m.files[Q]=e.FileIndex[Y]}))),t&&t.bookVBA&&(n.vba.length>0?m.vbaraw=Vt(e,vs(n.vba[0]),!0):n.defaults&&n.defaults.bin===B8&&(m.vbaraw=Vt(e,"xl/vbaProject.bin",!0))),m}function AB(e,t){var r=t||{},s="Workbook",n=lt.find(e,s);try{if(s="/!DataSpaces/Version",n=lt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(kM(n.content),s="/!DataSpaces/DataSpaceMap",n=lt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var a=bM(n.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=lt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var i=_M(n.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=lt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);NM(n.content)}catch{}if(s="/EncryptionInfo",n=lt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var l=CM(n.content);if(s="/EncryptedPackage",n=lt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],n.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function o1(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ps(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function jB(e,t){return lt.find(e,"EncryptedPackage")?AB(e,t):wN(e,t)}function FB(e,t){var r,s=e,n=t||{};return n.type||(n.type=ot&&Buffer.isBuffer(e)?"buffer":"base64"),r=hE(s,n),TB(r,n)}function _N(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Gp(e.slice(r),t);default:break e}return gu.to_workbook(e,t)}function RB(e,t){var r="",s=o1(e,t);switch(t.type){case"base64":r=ps(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=ro(e);break;default:throw new Error("Unrecognized type "+t.type)}return s[0]==239&&s[1]==187&&s[2]==191&&(r=kt(r)),t.type="binary",_N(r,t)}function DB(e,t){var r=e;return t.type=="base64"&&(r=ps(r)),r=ga.utils.decode(1200,r.slice(2),"str"),t.type="binary",_N(r,t)}function PB(e){return e.match(/[^\x00-\x7F]/)?pc(e):e}function am(e,t,r,s){return s?(r.type="string",gu.to_workbook(e,r)):gu.to_workbook(t,r)}function Qp(e,t){q_();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Qp(new Uint8Array(e),(r=hr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var s=e,n=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Ko={},r.dateNF&&(Ko.dateNF=r.dateNF),r.type||(r.type=ot&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=ot?"buffer":"binary",s=S6(e),typeof Uint8Array<"u"&&!ot&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,s=PB(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),l=new Uint8Array(i);if(l.foo="bar",!l.foo)return r=hr(r),r.type="array",Qp(Bg(s),r)}switch((n=o1(s,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return jB(lt.read(s,r),r);break;case 9:if(n[1]<=8)return wN(s,r);break;case 60:return Gp(s,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return lM(s,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return iM.to_workbook(s,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?FB(s,r):am(e,s,r,a);case 239:return n[3]===60?Gp(s,r):am(e,s,r,a);case 255:if(n[1]===254)return DB(s,r);if(n[1]===0&&n[2]===2&&n[3]===0)return Ic.to_workbook(s,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Ic.to_workbook(s,r);break;case 3:case 131:case 139:case 140:return V2.to_workbook(s,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return BM.to_workbook(s,r);break;case 10:case 13:case 32:return RB(s,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return nM.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?V2.to_workbook(s,r):am(e,s,r,a)}function OB(e,t,r,s,n,a,i,l){var u=mr(r),c=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=i?e[r][p]:e[s[p]+u];if(m===void 0||m.t===void 0){if(c===void 0)continue;a[p]!=null&&(h[a[p]]=c);continue}var x=m.v;switch(m.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(a[p]!=null){if(x==null)if(m.t=="e"&&x===null)h[a[p]]=null;else if(c!==void 0)h[a[p]]=c;else if(d&&x===null)h[a[p]]=null;else continue;else h[a[p]]=d&&(m.t!=="n"||m.t==="n"&&l.rawNumbers!==!1)?x:Jn(m,x,l);x!=null&&(f=!1)}}return{row:h,isempty:f}}function Zp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},s=0,n=1,a=[],i=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=c.range!=null?c.range:e["!ref"];switch(c.header===1?s=1:c.header==="A"?s=2:Array.isArray(c.header)?s=3:c.header==null&&(s=0),typeof d){case"string":u=Mt(d);break;case"number":u=Mt(e["!ref"]),u.s.r=d;break;default:u=d}s>0&&(n=0);var f=mr(u.s.r),h=[],p=[],m=0,x=0,y=Array.isArray(e),g=u.s.r,v=0,w={};y&&!e[g]&&(e[g]=[]);var b=c.skipHidden&&e["!cols"]||[],D=c.skipHidden&&e["!rows"]||[];for(v=u.s.c;v<=u.e.c;++v)if(!(b[v]||{}).hidden)switch(h[v]=Zt(v),r=y?e[g][v]:e[h[v]+f],s){case 1:a[v]=v-u.s.c;break;case 2:a[v]=h[v];break;case 3:a[v]=c.header[v-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=Jn(r,null,c),x=w[i]||0,!x)w[i]=1;else{do l=i+"_"+x++;while(w[l]);w[i]=x,w[l]=1}a[v]=l}for(g=u.s.r+n;g<=u.e.r;++g)if(!(D[g]||{}).hidden){var A=OB(e,u,g,h,s,a,y,c);(A.isempty===!1||(s===1?c.blankrows!==!1:c.blankrows))&&(p[m++]=A.row)}return p.length=m,p}var iw=/"/g;function IB(e,t,r,s,n,a,i,l){for(var u=!0,c=[],d="",f=mr(r),h=t.s.c;h<=t.e.c;++h)if(s[h]){var p=l.dense?(e[r]||[])[h]:e[s[h]+f];if(p==null)d="";else if(p.v!=null){u=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:Jn(p,null,l));for(var m=0,x=0;m!==d.length;++m)if((x=d.charCodeAt(m))===n||x===a||x===34||l.forceQuotes){d='"'+d.replace(iw,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(u=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(iw,'""')+'"')):d="";c.push(d)}return l.blankrows===!1&&u?null:c.join(i)}function EN(e,t){var r=[],s=t??{};if(e==null||e["!ref"]==null)return"";var n=Mt(e["!ref"]),a=s.FS!==void 0?s.FS:",",i=a.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,u=l.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),d="",f=[];s.dense=Array.isArray(e);for(var h=s.skipHidden&&e["!cols"]||[],p=s.skipHidden&&e["!rows"]||[],m=n.s.c;m<=n.e.c;++m)(h[m]||{}).hidden||(f[m]=Zt(m));for(var x=0,y=n.s.r;y<=n.e.r;++y)(p[y]||{}).hidden||(d=IB(e,n,y,f,i,u,a,s),d!=null&&(s.strip&&(d=d.replace(c,"")),(d||s.blankrows!==!1)&&r.push((x++?l:"")+d)));return delete s.dense,r.join("")}function MB(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=EN(e,t);return r}function LB(e){var t="",r,s="";if(e==null||e["!ref"]==null)return[];var n=Mt(e["!ref"]),a="",i=[],l,u=[],c=Array.isArray(e);for(l=n.s.c;l<=n.e.c;++l)i[l]=Zt(l);for(var d=n.s.r;d<=n.e.r;++d)for(a=mr(d),l=n.s.c;l<=n.e.c;++l)if(t=i[l]+a,r=c?(e[d]||[])[l]:e[t],s="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;s=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}u[u.length]=t+"="+s}return u}function NN(e,t,r){var s=r||{},n=+!s.skipHeader,a=e||{},i=0,l=0;if(a&&s.origin!=null)if(typeof s.origin=="number")i=s.origin;else{var u=typeof s.origin=="string"?Or(s.origin):s.origin;i=u.r,l=u.c}var c,d={s:{c:0,r:0},e:{c:l,r:i+t.length-1+n}};if(a["!ref"]){var f=Mt(a["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+n)}else i==-1&&(i=0,d.e.r=t.length-1+n);var h=s.header||[],p=0;t.forEach(function(x,y){En(x).forEach(function(g){(p=h.indexOf(g))==-1&&(h[p=h.length]=g);var v=x[g],w="z",b="",D=Ye({c:l+p,r:i+y+n});c=ku(a,D),v&&typeof v=="object"&&!(v instanceof Date)?a[D]=v:(typeof v=="number"?w="n":typeof v=="boolean"?w="b":typeof v=="string"?w="s":v instanceof Date?(w="d",s.cellDates||(w="n",v=Br(v)),b=s.dateNF||Je[14]):v===null&&s.nullError&&(w="e",v=0),c?(c.t=w,c.v=v,delete c.w,delete c.R,b&&(c.z=b)):a[D]=c={t:w,v},b&&(c.z=b))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var m=mr(i);if(n)for(p=0;p<h.length;++p)a[Zt(p+l)+m]={t:"s",v:h[p]};return a["!ref"]=ct(d),a}function BB(e,t){return NN(null,e,t)}function ku(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var s=Or(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ku(e,Ye(t)):ku(e,Ye({r:t,c:r||0}))}function zB(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function l1(){return{SheetNames:[],Sheets:{}}}function c1(e,t,r,s){var n=1;if(!r)for(;n<=65535&&e.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);n=a&&+a[2]||0;var i=a&&a[1]||r;for(++n;n<=65535&&e.SheetNames.indexOf(r=i+n)!=-1;++n);}if(_9(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function UB(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=zB(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r}function $B(e,t){return e.z=t,e}function CN(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function VB(e,t,r){return CN(e,"#"+t,r)}function HB(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function WB(e,t,r,s){for(var n=typeof t!="string"?t:Mt(t),a=typeof t=="string"?t:ct(t),i=n.s.r;i<=n.e.r;++i)for(var l=n.s.c;l<=n.e.c;++l){var u=ku(e,i,l);u.t="n",u.F=a,delete u.v,i==n.s.r&&l==n.s.c&&(u.f=r,s&&(u.D=!0))}return e}var KB={encode_col:Zt,encode_row:mr,encode_cell:Ye,encode_range:ct,decode_col:qg,decode_row:Gg,split_cell:sO,decode_cell:Or,decode_range:Il,format_cell:Jn,sheet_add_aoa:FE,sheet_add_json:NN,sheet_add_dom:kN,aoa_to_sheet:Ml,json_to_sheet:BB,table_to_sheet:SN,table_to_book:lB,sheet_to_csv:EN,sheet_to_txt:MB,sheet_to_json:Zp,sheet_to_html:oB,sheet_to_formulae:LB,sheet_to_row_object_array:Zp,sheet_get_cell:ku,book_new:l1,book_append_sheet:c1,book_set_sheet_visibility:UB,cell_set_number_format:$B,cell_set_hyperlink:CN,cell_set_internal_link:VB,cell_add_comment:HB,sheet_set_array_formula:WB,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};class nh{static async parseCSV(t,r={}){const s=Date.now();return new Promise((n,a)=>{const{preview:i=!1,previewRows:l=this.DEFAULT_PREVIEW_ROWS,hasHeaders:u=!0,delimiter:c="",skipEmptyLines:d=!0,trimHeaders:f=!0,transformHeader:h}=r;W5.parse(t,{header:!1,delimiter:c||void 0,skipEmptyLines:d,preview:i?l+(u?1:0):0,encoding:r.encoding||"UTF-8",complete:p=>{try{const m=Date.now()-s,x=p.data;if(x.length===0){a({type:"INVALID_DATA",message:"File appears to be empty or contains no valid data"});return}let y=[],g=[];if(u&&x.length>0)y=x[0].map((D,A)=>{let _=f?D.trim():D;return h&&(_=h(_)),_||`Column ${A+1}`}),g=x.slice(1);else{const b=Math.max(...x.map(D=>D.length));y=Array.from({length:b},(D,A)=>`Column ${A+1}`),g=x}const v=i?g.slice(0,l):g,w={headers:y,rows:g,totalRows:g.length,preview:v,metadata:{fileName:t.name,fileSize:t.size,fileType:t.type||"text/csv",encoding:r.encoding||"UTF-8",delimiter:p.meta.delimiter,hasHeaders:u,parseTime:m}};n(w)}catch(m){a({type:"PARSE_ERROR",message:"Failed to process CSV data",details:m})}},error:p=>{a({type:"PARSE_ERROR",message:`CSV parsing failed: ${p.message}`,details:p})}})})}static async parseExcel(t,r={}){const s=Date.now();return new Promise((n,a)=>{const i=new FileReader;i.onload=l=>{var u;try{const{preview:c=!1,previewRows:d=this.DEFAULT_PREVIEW_ROWS,hasHeaders:f=!0,trimHeaders:h=!0,transformHeader:p}=r,m=new Uint8Array((u=l.target)==null?void 0:u.result),x=Qp(m,{type:"array"}),y=x.SheetNames[0],g=x.Sheets[y];if(!g){a({type:"INVALID_DATA",message:"Excel file contains no readable worksheets"});return}const v=KB.sheet_to_json(g,{header:1,defval:"",blankrows:!1});if(v.length===0){a({type:"INVALID_DATA",message:"Excel file appears to be empty"});return}let w=[],b=[];if(f&&v.length>0)w=v[0].map((k,N)=>{let C=String(k||"");return h&&(C=C.trim()),p&&(C=p(C)),C||`Column ${N+1}`}),b=v.slice(1);else{const S=Math.max(...v.map(k=>k.length));w=Array.from({length:S},(k,N)=>`Column ${N+1}`),b=v}const D=c?b.slice(0,d):b,A=Date.now()-s,_={headers:w,rows:b,totalRows:b.length,preview:D,metadata:{fileName:t.name,fileSize:t.size,fileType:t.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",hasHeaders:f,parseTime:A}};n(_)}catch(c){a({type:"PARSE_ERROR",message:"Failed to parse Excel file",details:c})}},i.onerror=()=>{a({type:"PARSE_ERROR",message:"Failed to read Excel file"})},i.readAsArrayBuffer(t)})}static async parseFile(t,r={}){if(t.size>this.MAX_FILE_SIZE)throw{type:"FILE_TOO_LARGE",message:`File size (${Math.round(t.size/1024/1024)}MB) exceeds maximum allowed size (${Math.round(this.MAX_FILE_SIZE/1024/1024)}MB)`};const s=t.type||this.getFileTypeFromExtension(t.name);if(!this.SUPPORTED_TYPES.includes(s))throw{type:"UNSUPPORTED_FORMAT",message:`Unsupported file format: ${s}. Supported formats: CSV, Excel (.xlsx, .xls)`};if(s==="text/csv"||s==="text/plain")return this.parseCSV(t,r);if(s==="application/vnd.ms-excel"||s==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")return this.parseExcel(t,r);throw{type:"UNSUPPORTED_FORMAT",message:`Unable to determine parser for file type: ${s}`}}static getFileTypeFromExtension(t){switch(t.toLowerCase().split(".").pop()){case"csv":return"text/csv";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"xls":return"application/vnd.ms-excel";case"txt":return"text/plain";default:return"application/octet-stream"}}static validateParsedData(t){return t&&Array.isArray(t.headers)&&Array.isArray(t.rows)&&t.headers.length>0&&typeof t.totalRows=="number"&&t.metadata&&typeof t.metadata.fileName=="string"}static getParsingStats(t){const r=t.headers.map((s,n)=>{const a=t.rows.map(l=>l[n]),i=a.filter(l=>l!=null&&l!=="");return{name:s,index:n,totalValues:a.length,nonEmptyValues:i.length,emptyValues:a.length-i.length,fillRate:i.length/a.length,sampleValues:i.slice(0,5)}});return{totalColumns:t.headers.length,totalRows:t.totalRows,parseTime:t.metadata.parseTime,fileSize:t.metadata.fileSize,columnStats:r}}}nh.MAX_FILE_SIZE=50*1024*1024;nh.DEFAULT_PREVIEW_ROWS=10;nh.SUPPORTED_TYPES=["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain"];class Jp{static detectValueType(t,r={}){var i,l,u;const s={...this.DEFAULT_OPTIONS,...r};if(t==null)return"null";const n=String(t),a=s.trimWhitespace?n.trim():n;return(i=s.nullValues)!=null&&i.includes(a.toLowerCase())?"null":(l=s.booleanTrueValues)!=null&&l.includes(a.toLowerCase())||(u=s.booleanFalseValues)!=null&&u.includes(a.toLowerCase())?"boolean":this.isEmail(a)?"email":this.isUrl(a)?"url":this.isPhone(a)?"phone":this.isCurrency(a,s.currencySymbols||[])?"currency":this.isPercentage(a)?"percentage":this.isDateTime(a)?"datetime":this.isDate(a)?"date":this.isTime(a)?"time":this.isInteger(a,s)?"integer":this.isFloat(a,s)?"float":"string"}static analyzeColumn(t,r,s,n={}){const a={...this.DEFAULT_OPTIONS,...n},i=t.filter(y=>y!=null&&String(y).trim()!=="");if(i.length===0)return{columnName:r,columnIndex:s,detectedType:"string",confidence:0,totalValues:t.length,nonEmptyValues:0,nullValues:t.length,uniqueValues:0,samples:[],convertedSamples:[],errors:["Column contains no data"]};const l={string:0,number:0,integer:0,float:0,boolean:0,date:0,datetime:0,time:0,email:0,url:0,phone:0,currency:0,percentage:0,null:0,unknown:0},u=i.slice(0,10),c=[],d=[];i.forEach(y=>{const g=this.detectValueType(y,a);l[g]++});const f=Object.entries(l).filter(([y,g])=>g>0).sort(([,y],[,g])=>g-y),[h,p]=f[0]||["string",0],m=p/i.length;u.forEach(y=>{try{const g=this.convertValue(y,h,a);c.push(g)}catch(g){c.push(y),d.push(`Failed to convert "${y}": ${g}`)}});const x=[];if(m<.8&&x.push(`Low confidence (${Math.round(m*100)}%) - consider manual review`),f.length>1){const[,y]=f[1];x.push(`Alternative type detected: ${y}`)}return{columnName:r,columnIndex:s,detectedType:h,confidence:m,totalValues:t.length,nonEmptyValues:i.length,nullValues:t.length-i.length,uniqueValues:new Set(i).size,samples:u,convertedSamples:c,errors:d,suggestions:x.length>0?x:void 0}}static convertValue(t,r,s={}){var l,u;const n={...this.DEFAULT_OPTIONS,...s};if(t==null)return null;const a=String(t),i=n.trimWhitespace?a.trim():a;switch(r){case"null":return null;case"boolean":if((l=n.booleanTrueValues)!=null&&l.includes(i.toLowerCase()))return!0;if((u=n.booleanFalseValues)!=null&&u.includes(i.toLowerCase()))return!1;throw new Error(`Cannot convert "${i}" to boolean`);case"integer":const c=this.parseNumber(i,n);if(!Number.isInteger(c))throw new Error(`"${i}" is not a valid integer`);return c;case"float":case"number":return this.parseNumber(i,n);case"currency":return this.parseCurrency(i,n);case"percentage":return this.parsePercentage(i);case"date":return this.parseDate(i);case"datetime":return this.parseDateTime(i);case"time":return this.parseTime(i);case"email":case"url":case"phone":case"string":default:return i}}static convertColumn(t,r,s={}){const n=[],a=[];return t.forEach((i,l)=>{try{const u=this.convertValue(i,r,s);n.push(u)}catch(u){n.push(i),a.push({index:l,value:i,error:String(u)})}}),{converted:n,errors:a}}static isEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}static isUrl(t){try{return new URL(t),!0}catch{return!1}}static isPhone(t){const r=/^[\+]?[1-9][\d]{0,15}$/,s=t.replace(/[\s\-\(\)\.]/g,"");return r.test(s)&&s.length>=7}static isCurrency(t,r){if(!r.some(a=>t.includes(a)))return!1;const n=t.replace(/[^\d\.,\-]/g,"");return this.isFloat(n,{})}static isPercentage(t){return t.includes("%")&&this.isFloat(t.replace("%",""),{})}static isInteger(t,r){try{const s=this.parseNumber(t,r);return Number.isInteger(s)}catch{return!1}}static isFloat(t,r){try{const s=this.parseNumber(t,r);return!isNaN(s)&&isFinite(s)}catch{return!1}}static isDate(t){return/^\d{1,4}[-\/\.]\d{1,2}[-\/\.]\d{1,4}$/.test(t)&&!isNaN(Date.parse(t))}static isDateTime(t){return/^\d{1,4}[-\/\.]\d{1,2}[-\/\.]\d{1,4}\s+\d{1,2}:\d{2}(:\d{2})?/.test(t)&&!isNaN(Date.parse(t))}static isTime(t){return/^\d{1,2}:\d{2}(:\d{2})?(\s*(AM|PM))?$/i.test(t)}static parseNumber(t,r){const{decimalSeparator:s=".",thousandsSeparator:n=","}=r;let a=t.replace(/\s/g,"");n&&n!==s&&(a=a.replace(new RegExp(`\\${n}`,"g"),"")),s!=="."&&(a=a.replace(s,"."));const i=parseFloat(a);if(isNaN(i))throw new Error(`Cannot parse "${t}" as number`);return i}static parseCurrency(t,r){const s=t.replace(/[^\d\.,\-]/g,"");return this.parseNumber(s,r)}static parsePercentage(t){const r=t.replace("%","");return parseFloat(r)/100}static parseDate(t){const r=new Date(t);if(isNaN(r.getTime()))throw new Error(`Cannot parse "${t}" as date`);return r}static parseDateTime(t){return this.parseDate(t)}static parseTime(t){return t}}Jp.DEFAULT_OPTIONS={dateFormats:["YYYY-MM-DD","DD/MM/YYYY","MM/DD/YYYY","DD-MM-YYYY","MM-DD-YYYY","YYYY/MM/DD","DD.MM.YYYY","YYYY-MM-DD HH:mm:ss","DD/MM/YYYY HH:mm:ss","MM/DD/YYYY HH:mm:ss"],currencySymbols:["$","","","","",""],decimalSeparator:".",thousandsSeparator:",",booleanTrueValues:["true","yes","y","1","on","enabled","active"],booleanFalseValues:["false","no","n","0","off","disabled","inactive"],nullValues:["","null","NULL","nil","NIL","n/a","N/A","undefined"],trimWhitespace:!0,strictMode:!1};const GB={maxFileSize:10*1024*1024,allowedTypes:[".csv",".xlsx",".xls"],previewRows:10,autoDetectTypes:!0,parseOptions:{hasHeaders:!0,skipEmptyLines:!0,trimHeaders:!0},conversionOptions:{trimWhitespace:!0,strictMode:!1}};function qB(e={}){const t={...GB,...e},r=F.useRef(t.parseOptions||{}),s=F.useRef(t.conversionOptions||{}),[n,a]=F.useState({file:null,isUploading:!1,isProcessing:!1,progress:0,error:null,parsedData:null,columnTypes:null,previewData:null}),i=F.useCallback(g=>{var v;if(t.maxFileSize&&g.size>t.maxFileSize)return`File size (${Math.round(g.size/1024/1024)}MB) exceeds maximum allowed size (${Math.round(t.maxFileSize/1024/1024)}MB)`;if(t.allowedTypes&&t.allowedTypes.length>0){const w="."+((v=g.name.split(".").pop())==null?void 0:v.toLowerCase());if(!t.allowedTypes.includes(w))return`File type "${w}" is not allowed. Allowed types: ${t.allowedTypes.join(", ")}`}return null},[t.maxFileSize,t.allowedTypes]),l=F.useCallback(async g=>{const v=i(g);if(v){a(w=>({...w,error:v}));return}a(w=>({...w,file:g,isUploading:!0,error:null,progress:0}));try{for(let w=0;w<=100;w+=10)a(b=>({...b,progress:w})),await new Promise(b=>setTimeout(b,50));a(w=>({...w,isUploading:!1,progress:100})),t.autoDetectTypes&&await u()}catch(w){a(b=>({...b,isUploading:!1,error:w instanceof Error?w.message:"Upload failed"}))}},[i,t.autoDetectTypes]),u=F.useCallback(async()=>{if(!n.file){a(g=>({...g,error:"No file selected"}));return}a(g=>({...g,isProcessing:!0,error:null}));try{const g=await nh.parseFile(n.file,r.current);let v=null;t.autoDetectTypes&&g.rows.length>0&&(v=g.headers.map((b,D)=>{const A=g.rows.map(_=>_[D]);return Jp.analyzeColumn(A,b,D,s.current)}));const w=g.rows.slice(0,t.previewRows||10);a(b=>({...b,isProcessing:!1,parsedData:g,columnTypes:v,previewData:w}))}catch(g){const v=g instanceof Error?`Parse error: ${g.message}`:"Processing failed";a(w=>({...w,isProcessing:!1,error:v}))}},[n.file,t.autoDetectTypes,t.previewRows]),c=F.useCallback(async(g,v)=>{if(!n.parsedData||!n.columnTypes){a(w=>({...w,error:"No data to convert"}));return}try{const w=n.parsedData.rows.map(S=>S[g]),{converted:b,errors:D}=Jp.convertColumn(w,v,s.current),A=n.parsedData.rows.map((S,k)=>{const N=[...S];return N[g]=b[k],N}),_=[...n.columnTypes];_[g]={..._[g],detectedType:v,confidence:D.length===0?1:1-D.length/w.length,errors:D.map(S=>S.error)},a(S=>({...S,parsedData:S.parsedData?{...S.parsedData,rows:A}:null,columnTypes:_,previewData:A.slice(0,t.previewRows||10)}))}catch(w){a(b=>({...b,error:w instanceof Error?w.message:"Conversion failed"}))}},[n.parsedData,n.columnTypes,t.previewRows]),d=F.useCallback(async()=>{if(!n.columnTypes){a(g=>({...g,error:"No column type information available"}));return}try{for(const g of n.columnTypes)await c(g.columnIndex,g.detectedType)}catch(g){a(v=>({...v,error:g instanceof Error?g.message:"Batch conversion failed"}))}},[n.columnTypes,c]),f=F.useCallback(()=>{a({file:null,isUploading:!1,isProcessing:!1,progress:0,error:null,parsedData:null,columnTypes:null,previewData:null})},[]),h=F.useCallback(()=>{a(g=>({...g,file:null,parsedData:null,columnTypes:null,previewData:null,error:null}))},[]),p=F.useCallback(g=>{r.current={...r.current,...g}},[]),m=F.useCallback(g=>{s.current={...s.current,...g}},[]),x=F.useCallback(g=>{if(!n.parsedData)return[];const v=g||t.previewRows||10;return n.parsedData.rows.slice(0,v)},[n.parsedData,t.previewRows]),y=F.useCallback(g=>{var v;if(!n.parsedData){a(w=>({...w,error:"No data to download"}));return}try{const w=[n.parsedData.headers.join(","),...n.parsedData.rows.map(_=>_.map(S=>typeof S=="string"&&S.includes(",")?`"${S.replace(/"/g,'""')}"`:String(S)).join(","))].join(`
`),b=new Blob([w],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),A=URL.createObjectURL(b);D.setAttribute("href",A),D.setAttribute("download",g||`processed_${((v=n.file)==null?void 0:v.name)||"data.csv"}`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(A)}catch(w){a(b=>({...b,error:w instanceof Error?w.message:"Download failed"}))}},[n.parsedData,n.file]);return{state:n,actions:{uploadFile:l,processFile:u,convertColumn:c,convertAllColumns:d,reset:f,removeFile:h,updateParseOptions:p,updateConversionOptions:m,getPreviewData:x,downloadProcessedData:y}}}const YB=[{id:"1",name:"iPhone 14 Pro",category:"Telefon",description:"Apple iPhone 14 Pro 128GB"},{id:"2",name:"Samsung Galaxy S23",category:"Telefon",description:"Samsung Galaxy S23 256GB"},{id:"3",name:"MacBook Air M2",category:"Laptop",description:"Apple MacBook Air M2 13 in"},{id:"4",name:"Dell XPS 13",category:"Laptop",description:"Dell XPS 13 Intel i7"},{id:"5",name:"iPad Pro",category:"Tablet",description:"Apple iPad Pro 11 in"},{id:"6",name:"AirPods Pro",category:"Kulaklk",description:"Apple AirPods Pro 2. nesil"},{id:"7",name:"Sony WH-1000XM4",category:"Kulaklk",description:"Sony WH-1000XM4 Kablosuz Kulaklk"},{id:"8",name:"Nintendo Switch",category:"Oyun Konsolu",description:"Nintendo Switch OLED Model"}],XB=()=>{var u;const{results:e,query:t,setQuery:r,isSearching:s}=V5(YB,{keys:["name","category","description"],threshold:.3,includeScore:!0}),{state:n,actions:a}=qB({maxFileSize:5*1024*1024,allowedTypes:[".csv",".xlsx",".xls"],parseOptions:{hasHeaders:!0,delimiter:",",encoding:"utf-8"}}),i=c=>{var f;const d=(f=c.target.files)==null?void 0:f[0];d&&a.uploadFile(d)},l=a.getPreviewData(5);return o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Core Paket Test Sayfas"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Fuzzy Search Testi"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"rn Ara"}),o.jsx(qe,{id:"search",type:"text",value:t,onChange:c=>r(c.target.value),placeholder:"iPhone, Samsung, MacBook...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s&&o.jsx("div",{className:"text-blue-600 mb-4",children:"Aranyor..."}),o.jsx("div",{className:"space-y-3",children:e.length>0?e.map((c,d)=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:c.item.name}),o.jsx("p",{className:"text-sm text-gray-600",children:c.item.category}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:c.item.description})]}),c.score&&o.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Skor: ",((1-c.score)*100).toFixed(0),"%"]})]})},c.item.id)):t?o.jsxs("div",{className:"text-gray-500 text-center py-8",children:['"',t,'" iin sonu bulunamad']}):o.jsx("div",{className:"text-gray-500 text-center py-8",children:"Arama yapmak iin yukardaki kutuya yazn"})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"File Upload Testi"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"CSV/Excel Dosyas Se"}),o.jsx(qe,{id:"file-upload",type:"file",accept:".csv,.xlsx,.xls",onChange:i,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Dosya Durumu"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Durum:"})," ",o.jsx("span",{className:`px-2 py-1 rounded text-xs ${n.file?n.isProcessing?"bg-yellow-100 text-yellow-800":n.parsedData?"bg-green-100 text-green-800":"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:n.file?n.isProcessing?"leniyor":n.parsedData?"Baarl":"Hata":"Bekliyor"})]}),n.file&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Dosya:"})," ",n.file.name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Boyut:"})," ",(n.file.size/1024).toFixed(1)," KB"]})]}),n.parsedData&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Satr Says:"})," ",n.parsedData.rows.length]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Stun Says:"})," ",n.parsedData.headers.length]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Stun Tipleri"}),n.columnTypes&&o.jsx("div",{className:"space-y-1 text-sm",children:n.columnTypes.map((c,d)=>{var f;return o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium",children:[(f=n.parsedData)==null?void 0:f.headers[d],":"]})," ",o.jsx("span",{className:"text-blue-600",children:c.detectedType}),c.confidence&&o.jsxs("span",{className:"text-gray-500 ml-1",children:["(",(c.confidence*100).toFixed(0),"%)"]})]},d)})})]})]}),n.error&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:[o.jsx("h4",{className:"text-red-800 font-medium mb-2",children:"Hata"}),o.jsx("p",{className:"text-red-700 text-sm",children:n.error})]}),l.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Veri nizlemesi (lk 5 satr)"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-lg",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:(u=n.parsedData)==null?void 0:u.headers.map((c,d)=>o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c},d))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((c,d)=>o.jsx("tr",{className:"hover:bg-gray-50",children:c.map((f,h)=>o.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 whitespace-nowrap",children:String(f)},h))},d))})]})})]}),n.parsedData&&o.jsxs("div",{className:"mt-6 flex gap-3",children:[o.jsx(de,{onClick:()=>a.processFile(),disabled:n.isProcessing,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",variant:"default",children:n.isProcessing?"leniyor...":"Yeniden le"}),o.jsx(de,{onClick:()=>a.reset(),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",variant:"default",children:"Temizle"})]})]})]})},QB=Lr("/test")({component:XB}),ZB=(e,t)=>ra.post("/api/automation/sgk/process",e,t),JB=(e,t)=>ra.post("/api/ocr/process",e,t),TN=(e,t)=>ra.get("/api/patients",{...t,params:{...e,...t==null?void 0:t.params}}),ez=(e,t)=>ra.get(`/api/patients/${e}/sgk-documents`,t),tz=(e,t)=>ra.post("/api/sgk/documents",e,t),rz=(e,t)=>ra.delete(`/api/sgk/documents/${e}`,t),sz={listDocuments:(e,t)=>ez(e,t),uploadDocument:(e,t)=>{var r;return tz(e,{...(t==null?void 0:t.options)||{},headers:{"Content-Type":"multipart/form-data",...((r=t==null?void 0:t.options)==null?void 0:r.headers)||{},...t!=null&&t.idempotencyKey?{"Idempotency-Key":t.idempotencyKey}:{}}})},uploadBulkDocuments:async(e,t)=>await ra.post("/api/sgk/upload",e,{headers:{"Content-Type":"multipart/form-data",...t!=null&&t.idempotencyKey?{"Idempotency-Key":t.idempotencyKey}:{}}}),deleteDocument:(e,t)=>{var r;return rz(e,{...(t==null?void 0:t.options)||{},headers:{...((r=t==null?void 0:t.options)==null?void 0:r.headers)||{},...t!=null&&t.idempotencyKey?{"Idempotency-Key":t.idempotencyKey}:{}}})},processOcr:(e,t)=>JB(e,t),triggerProcessing:(e,t)=>ZB(e,t)},nz="XEarPatientDB",az=1,ws="patients",oa="cache",xo="blobs";class iz{constructor(){mt(this,"db",null);mt(this,"initPromise",null)}async init(){return this.initPromise?this.initPromise:(this.initPromise=new Promise((t,r)=>{const s=indexedDB.open(nz,az);s.onerror=()=>{r(new Error("Failed to open IndexedDB"))},s.onsuccess=()=>{this.db=s.result,t()},s.onupgradeneeded=n=>{const a=n.target.result;if(!a.objectStoreNames.contains(ws)){const i=a.createObjectStore(ws,{keyPath:"id"});i.createIndex("tcNumber","tcNumber",{unique:!1}),i.createIndex("status","status",{unique:!1}),i.createIndex("updatedAt","updatedAt",{unique:!1})}a.objectStoreNames.contains(oa)||a.createObjectStore(oa,{keyPath:"key"}),a.objectStoreNames.contains(xo)||a.createObjectStore(xo,{keyPath:"id"}).createIndex("createdAt","createdAt",{unique:!1})}}),this.initPromise)}async ensureDB(){if(this.db||await this.init(),!this.db)throw new Error("IndexedDB not initialized");return this.db}async savePatients(t){const s=(await this.ensureDB()).transaction([ws],"readwrite"),n=s.objectStore(ws);await new Promise((a,i)=>{const l=n.clear();l.onsuccess=()=>a(),l.onerror=()=>i(l.error)});for(const a of t)await new Promise((i,l)=>{const u=n.add(a);u.onsuccess=()=>i(),u.onerror=()=>l(u.error)});await new Promise((a,i)=>{s.oncomplete=()=>a(),s.onerror=()=>i(s.error)})}async getPatients(){const s=(await this.ensureDB()).transaction([ws],"readonly").objectStore(ws);return new Promise((n,a)=>{const i=s.getAll();i.onsuccess=()=>n(i.result||[]),i.onerror=()=>a(i.error)})}async getPatient(t){const n=(await this.ensureDB()).transaction([ws],"readonly").objectStore(ws);return new Promise((a,i)=>{const l=n.get(t);l.onsuccess=()=>a(l.result||null),l.onerror=()=>i(l.error)})}async updatePatient(t){const n=(await this.ensureDB()).transaction([ws],"readwrite").objectStore(ws);return new Promise((a,i)=>{const l=n.put(t);l.onsuccess=()=>a(),l.onerror=()=>i(l.error)})}async deletePatient(t){const n=(await this.ensureDB()).transaction([ws],"readwrite").objectStore(ws);return new Promise((a,i)=>{const l=n.delete(t);l.onsuccess=()=>a(),l.onerror=()=>i(l.error)})}async setCache(t,r,s){const i=(await this.ensureDB()).transaction([oa],"readwrite").objectStore(oa),l={key:t,data:r,timestamp:Date.now(),ttl:s};return new Promise((u,c)=>{const d=i.put(l);d.onsuccess=()=>u(),d.onerror=()=>c(d.error)})}async getCache(t){const n=(await this.ensureDB()).transaction([oa],"readonly").objectStore(oa);return new Promise((a,i)=>{const l=n.get(t);l.onsuccess=()=>{const u=l.result;if(!u){a(null);return}if(u.ttl&&Date.now()-u.timestamp>u.ttl){this.deleteCache(t),a(null);return}a(u.data)},l.onerror=()=>i(l.error)})}async deleteCache(t){const n=(await this.ensureDB()).transaction([oa],"readwrite").objectStore(oa);return new Promise((a,i)=>{const l=n.delete(t);l.onsuccess=()=>a(),l.onerror=()=>i(l.error)})}async saveFileBlob(t,r={}){const a=(await this.ensureDB()).transaction([xo],"readwrite").objectStore(xo),i=`blob_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,l={id:i,blob:t,filename:r.filename||"file",mime:r.mime||(t==null?void 0:t.type)||"application/octet-stream",createdAt:Date.now()};return new Promise((u,c)=>{const d=a.add(l);d.onsuccess=()=>u(i),d.onerror=()=>c(d.error)})}async getFileBlob(t){const n=(await this.ensureDB()).transaction([xo],"readonly").objectStore(xo);return new Promise((a,i)=>{const l=n.get(t);l.onsuccess=()=>{const u=l.result;if(!u)return a(null);a({blob:u.blob,filename:u.filename,mime:u.mime})},l.onerror=()=>i(l.error)})}async fallbackToLocalStorage(t){try{const r=localStorage.getItem(t);return r?JSON.parse(r):null}catch(r){return console.warn("Failed to read from localStorage fallback:",r),null}}async saveFallbackToLocalStorage(t,r){try{localStorage.setItem(t,JSON.stringify(r))}catch(s){console.warn("Failed to save to localStorage fallback:",s)}}}const ut=new iz,oz=Object.freeze(Object.defineProperty({__proto__:null,indexedDBManager:ut},Symbol.toStringTag,{value:"Module"})),lz=()=>`${Date.now()}_${Math.random().toString(36).substr(2,9)}`;function cz(){return lg({mutationFn:async e=>{const t=lz();return await sz.uploadBulkDocuments(e,{idempotencyKey:t})}})}const uz=({isOpen:e,onClose:t,onUploadStart:r,onUploadComplete:s})=>{const[n,a]=F.useState([]),[i,l]=F.useState(!1),u=cz(),c=F.useCallback(h=>{const m=Array.from(h.target.files||[]).filter(x=>x.type.startsWith("image/")&&["image/jpeg","image/jpg","image/png","image/tiff","image/bmp"].includes(x.type));a(m)},[]),d=async()=>{var h;if(n.length!==0){l(!0),r();try{const p=new FormData;n.forEach(x=>{p.append("files",x)});const m=await u.mutateAsync(p);s(((h=m.data)==null?void 0:h.files)||[])}catch(p){console.error("Upload failed:",p),s([])}finally{l(!1),a([]),t()}}},f=()=>{i||(a([]),t())};return o.jsx(ar,{isOpen:e,onClose:f,title:"SGK Dokmanlarn Ykle",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Grsel Dosyalar Sein"}),o.jsx(qe,{type:"file",multiple:!0,accept:"image/*",onChange:c,disabled:i}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"JPEG, PNG, TIFF, BMP formatlarndaki dosyalar seebilirsiniz."})]}),n.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium mb-2",children:["Seilen Dosyalar (",n.length,")"]}),o.jsx("ul",{className:"text-sm text-gray-600 max-h-32 overflow-y-auto",children:n.map((h,p)=>o.jsxs("li",{className:"truncate",children:[h.name," (",(h.size/1024/1024).toFixed(2)," MB)"]},p))})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[o.jsx(de,{type:"button",variant:"ghost",onClick:f,disabled:i,children:"ptal"}),o.jsx(de,{onClick:d,disabled:n.length===0||i,children:i?"Ykleniyor...":`Ykle (${n.length} dosya)`})]})]})})},dz=({result:e,isOpen:t,onClose:r,onChangeDocumentType:s})=>{var a,i;if(!e.result)return null;const{result:n}=e;return o.jsx(ar,{isOpen:t,onClose:r,title:`Dokman nizleme - ${e.fileName}`,children:o.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Dokman Tr"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-sm",children:n.document_type||"Belirlenemedi"}),o.jsx(de,{size:"sm",variant:"ghost",onClick:s,children:"Deitir"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Hasta"}),o.jsx("div",{className:"text-sm mt-1",children:((i=(a=n.matched_patient)==null?void 0:a.patient)==null?void 0:i.fullName)||"Hasta seilmedi"})]})]}),n.entities&&n.entities.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"OCR Metin nizleme"}),o.jsx("div",{className:"bg-gray-50 p-3 rounded-lg max-h-32 overflow-y-auto",children:o.jsxs("div",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:[n.entities.slice(0,10).map((l,u)=>l.text?`${l.text} `:"").join("").substring(0,500),"..."]})})]}),n.pdf_generated?o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[o.jsx(ii,{className:"w-4 h-4 text-green-600"}),o.jsxs("span",{className:"text-sm text-green-800",children:["PDF oluturuldu: ",n.pdf_filename]}),o.jsxs(de,{size:"sm",variant:"outline",children:[o.jsx($u,{className:"w-4 h-4 mr-1"}),"ndir"]})]}):o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 rounded-lg",children:[o.jsx(Vu,{className:"w-4 h-4 text-yellow-600"}),o.jsx("span",{className:"text-sm text-yellow-800",children:"PDF oluturulamad"})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t",children:[o.jsx(de,{variant:"ghost",onClick:r,children:"Kapat"}),o.jsx(de,{children:"Kaydet"})]})]})})},fz=(e,t)=>ra.get("/api/patients",{...t,params:{...e,...t==null?void 0:t.params}}),ow="patient-search-filters",hz="x-ear.auth.token@v1",mz="x-ear.auth.refresh@v1",pz="x-ear.user.preferences@v1",lw="x-ear.ui.sidebarCollapsed@v1",xz="x-ear.ui.themeMode@v1",gz="x-ear.forms.patient.draft@v1",yz="x-ear.forms.appointment.draft@v1",cw="x-ear.patients.detailsTab@v1",uw="x-ear.cache.api@v1",xc="x-ear.patients.data@v1",dw="x-ear.patients.legacy@v1",vz="x-ear.patients.crm@v1",wz="x-ear.sms.messages@v1",kz="x-ear.sgk.data@v1",fw="x-ear.sgk.documents@v1",hw="x-ear.patients.documents@v1",Sz="x-ear.sgk.unmatchedDocs@v1",bz="x-ear.inventory.filterPreset@v1",mw="x-ear.cashflow.records@v1",_z="x-ear.appointments.data@v1",Ez="x-ear.appointments.filterPresets@v1",Nz="x-ear.sgk.reports@v1",Cz="x-ear.cashflow.incomeTypes@v1",Tz="x-ear.cashflow.expenseTypes@v1",Az="x-ear.devices.maintenance@v1",jz="x-ear.notifications.data@v1",Fz="x-ear.automation.rules@v1",Rz="x-ear.sms.logs@v1",Dz="x-ear.automation.logs@v1",pw="x-ear.inventory.data@v1",xw="x-ear.purchases.data@v1",Pz="x-ear.patients.savedViews@v1",Oz="x-ear.ocr.dynamicNames@v1",gw="x-ear.auth.currentUser@v1",Iz="x-ear.system.settings@v1",Mz="x-ear.sgk.backgroundStatus@v1",Lz="x-ear.ui.sgkSubmenuExpanded@v1",Bz="x-ear.ui.faturaSubmenuExpanded@v1",zz="x-ear.ui.reportsSubmenuExpanded@v1",Uz="x-ear.auth.accessToken@v1",yw="x-ear.auth.jwt@v1";class $z{constructor(){mt(this,"patients",[]);mt(this,"initialized",!1);this.init()}async init(){this.initialized||(await ut.init(),await this.loadPatients(),this.initialized=!0,window.addEventListener("storage",this.handleStorageChange.bind(this)))}handleStorageChange(t){t.key===xc&&this.loadPatients()}async loadPatients(){try{const t=await ut.getPatients();if(t.length>0){this.patients=t,console.log(` Loaded ${t.length} patients from IndexedDB cache`),this.refreshFromAPI().catch(r=>console.warn("Background API refresh failed:",r));return}}catch(t){console.warn("Failed to load from IndexedDB, trying API:",t)}await this.refreshFromAPI()}async refreshFromAPI(){try{const t=[];let r;for(;;){const n={per_page:100};r&&(n.cursor=r);const a=await fz(n).catch(c=>{throw c}),i=a==null?void 0:a.data;if(!i||!Array.isArray(i.data))break;const l=i.data;t.push(...l);const u=i.pagination;if(!(u!=null&&u.hasNext)||!(u!=null&&u.nextCursor)||(r=u.nextCursor,l.length===0))break}if(t.length>0){const n=t.map(a=>this.convertOrvalPatient(a));this.patients=n,await ut.savePatients(n),console.log(` Refreshed ${n.length} patients from API and cached in IndexedDB`)}}catch(t){console.warn("API refresh failed, trying localStorage fallback:",t);try{const r=localStorage.getItem(xc);if(r){const s=JSON.parse(r);this.patients=Array.isArray(s)?s:[],console.log(` Loaded ${this.patients.length} patients from localStorage fallback`)}}catch(r){console.error("Both API and localStorage failed:",r),this.patients=[]}}}async savePatients(){try{await ut.savePatients(this.patients);const t={count:this.patients.length,lastUpdated:new Date().toISOString(),version:1};await ut.saveFallbackToLocalStorage(xc+"_meta",t),window.dispatchEvent(new CustomEvent("patients:updated",{detail:{patients:this.patients}}))}catch(t){console.error("Failed to save patients to IndexedDB:",t);try{await ut.saveFallbackToLocalStorage(xc,this.patients),console.warn("Used localStorage emergency fallback for patient data")}catch(r){console.error("Failed to save patients even to localStorage fallback:",r)}}}normalizePatientData(){this.patients=this.patients.map(t=>({...t,name:t.name||`${t.firstName||""} ${t.lastName||""}`.trim()||"Unnamed Patient",tags:Array.isArray(t.tags)?t.tags:[],devices:Array.isArray(t.devices)?t.devices:[],notes:Array.isArray(t.notes)?t.notes:[],communications:Array.isArray(t.communications)?t.communications:[],reports:Array.isArray(t.reports)?t.reports:[],ereceiptHistory:Array.isArray(t.ereceiptHistory)?t.ereceiptHistory:[],sgkInfo:t.sgkInfo||{hasInsurance:!1},priorityScore:t.priorityScore||this.calculatePriorityScore(t)}))}async createPatient(t){var r,s;try{if(await this.init(),!((r=t.name)!=null&&r.trim()))throw new Error("Patient name is required");if(!((s=t.phone)!=null&&s.trim()))throw new Error("Patient phone is required");if(t.tcNumber&&!await this.validateTcNumber(t.tcNumber))throw new Error("TC number already exists");if(t.sgkStatus&&!["pending","approved","rejected","paid"].includes(t.sgkStatus))throw new Error("Invalid SGK status format");const n={id:this.generateId(),...t,name:t.name||`${t.firstName||""} ${t.lastName||""}`.trim()||"Unnamed Patient",tags:t.tags||[],devices:t.devices||[],notes:t.notes||[],communications:t.communications||[],reports:t.reports||[],ereceiptHistory:t.ereceiptHistory||[],sgkInfo:t.sgkInfo||{hasInsurance:!1},priorityScore:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{n.priorityScore=this.calculatePriorityScore(n)}catch{n.priorityScore=0}this.patients.push(n),this.savePatients();try{await Ts.addOperation({method:"POST",endpoint:"/api/patients",data:n,priority:"high"})}catch(a){console.warn("Failed to queue patient creation for sync:",a)}return window.dispatchEvent(new CustomEvent("patient:created",{detail:{patient:n}})),n}catch(n){throw console.error("Failed to create patient:",n),n instanceof Error?n:new Error("Failed to create patient")}}async updatePatient(t,r){try{if(await this.init(),!(t!=null&&t.trim()))throw new Error("Patient ID is required");const s=this.patients.findIndex(l=>l.id===t);if(s===-1)throw new Error("Patient not found");if(r.tcNumber&&r.tcNumber!==this.patients[s].tcNumber&&!await this.validateTcNumber(r.tcNumber,t))throw new Error("TC number already exists");const n={...this.patients[s]},a={...this.patients[s],...r},i={...this.patients[s],...r,id:t,updatedAt:new Date().toISOString(),priorityScore:this.calculatePriorityScore(a)};this.patients[s]=i,this.savePatients();try{await Ts.addOperation({method:"PUT",endpoint:`/api/patients/${t}`,data:r,headers:{"If-Match":n.updatedAt||new Date().toISOString()},priority:"high"})}catch(l){console.warn("Failed to queue patient update for sync:",l)}return window.dispatchEvent(new CustomEvent("patient:updated",{detail:{patient:i,oldPatient:n,changes:r}})),i}catch(s){throw console.error("Failed to update patient:",s),s instanceof Error?s:new Error("Failed to update patient")}}async deletePatient(t){try{if(await this.init(),!(t!=null&&t.trim()))throw new Error("Patient ID is required");const r=this.patients.findIndex(n=>n.id===t);if(r===-1)throw new Error("Patient not found");const s=this.patients[r];this.patients.splice(r,1),this.savePatients();try{await Ts.addOperation({method:"DELETE",endpoint:`/api/patients/${t}`,priority:"normal"})}catch(n){console.warn("Failed to queue patient deletion for sync:",n)}return window.dispatchEvent(new CustomEvent("patient:deleted",{detail:{patient:s}})),!0}catch(r){throw console.error("Failed to delete patient:",r),r instanceof Error?r:new Error("Failed to delete patient")}}async getPatient(t){try{return await this.init(),t!=null&&t.trim()&&this.patients.find(r=>r.id===t)||null}catch(r){return console.error("Failed to get patient:",r),null}}async getPatients(t={}){var r;try{await this.init();let s=[...this.patients];if((r=t.search)!=null&&r.trim()){const d=t.search.toLowerCase();s=s.filter(f=>f.name&&f.name.toLowerCase().includes(d)||f.phone.includes(t.search)||f.tcNumber&&f.tcNumber.includes(t.search)||f.email&&f.email.toLowerCase().includes(d))}if(t.status&&(s=s.filter(d=>d.status===t.status)),t.segment&&(s=s.filter(d=>d.segment===t.segment)),t.label&&(s=s.filter(d=>d.label===t.label)),t.acquisitionType&&(s=s.filter(d=>d.acquisitionType===t.acquisitionType)),t.tags&&t.tags.length>0&&(s=s.filter(d=>t.tags.some(f=>d.tags.includes(f)))),t.hasDevices!==void 0&&(s=s.filter(d=>t.hasDevices?d.devices.length>0:d.devices.length===0)),t.sgkStatus&&(s=s.filter(d=>d.sgkStatus===t.sgkStatus)),t.priorityScore&&(s=s.filter(d=>{const f=d.priorityScore||0;return(!t.priorityScore.min||f>=t.priorityScore.min)&&(!t.priorityScore.max||f<=t.priorityScore.max)})),t.dateRange)try{const d=new Date(t.dateRange.start),f=new Date(t.dateRange.end);s=s.filter(h=>{const p=new Date(h.createdAt);return p>=d&&p<=f})}catch(d){console.warn("Invalid date range filter:",d)}s.sort((d,f)=>{const h=(f.priorityScore||0)-(d.priorityScore||0);if(h!==0)return h;const p=d.name||"",m=f.name||"";return p.localeCompare(m,"tr")});const n=t.page||1,a=t.limit||20,i=(n-1)*a,l=i+a,u=s.slice(i,l),c=l<s.length;return{patients:u,total:s.length,page:n,pageSize:a,hasMore:c}}catch(s){return console.error("Failed to get patients:",s),{patients:[],total:0,page:1,pageSize:0,hasMore:!1}}}async getPatientStats(){try{await this.init();const t={total:this.patients.length,byStatus:{active:0,inactive:0},bySegment:{new:0,trial:0,purchased:0,control:0,renewal:0,existing:0,vip:0},byLabel:{yeni:0,"arama-bekliyor":0,"randevu-verildi":0,"deneme-yapildi":0,"kontrol-hastasi":0,"satis-tamamlandi":0},highPriority:0,withDevices:0,sgkPending:0,overduePayments:0};return this.patients.forEach(r=>{try{r.status in t.byStatus&&t.byStatus[r.status]++,r.segment in t.bySegment&&t.bySegment[r.segment]++,r.label in t.byLabel&&t.byLabel[r.label]++,(r.priorityScore||0)>=80&&t.highPriority++,r.devices&&r.devices.length>0&&t.withDevices++,r.sgkStatus==="pending"&&t.sgkPending++,r.installments&&r.installments.some(s=>s.status==="overdue"||s.dueDate&&new Date(s.dueDate)<new Date&&s.status==="pending")&&t.overduePayments++}catch(s){console.warn("Error processing patient stats for patient:",r.id,s)}}),t}catch(t){return console.error("Failed to get patient stats:",t),{total:0,byStatus:{active:0,inactive:0},bySegment:{new:0,trial:0,purchased:0,control:0,renewal:0,existing:0,vip:0},byLabel:{yeni:0,"arama-bekliyor":0,"randevu-verildi":0,"deneme-yapildi":0,"kontrol-hastasi":0,"satis-tamamlandi":0},highPriority:0,withDevices:0,sgkPending:0,overduePayments:0}}}calculatePriorityScore(t){let r=0;if(t.deviceTrial&&t.priceGiven&&!t.purchased&&(r+=100),t.lastContactDate){const s=Math.floor((Date.now()-new Date(t.lastContactDate).getTime())/864e5);s>30&&(r+=Math.min(s,50))}if(t.missedAppointments&&t.missedAppointments>0&&(r+=t.missedAppointments*20),t.overdueAmount&&t.overdueAmount>0&&(r+=Math.min(t.overdueAmount/1e3*10,50)),t.sgkStatus==="rejected"?r+=75:t.sgkStatus==="pending"&&(r+=25),t.batteryReportDue){const s=new Date(t.batteryReportDue),n=Math.floor((s.getTime()-Date.now())/(1e3*60*60*24));n<=30&&n>=0?r+=30-n:n<0&&(r+=Math.abs(n)*2)}return Math.round(r)}async getHighPriorityPatients(){try{return await this.init(),this.patients.filter(t=>(t.priorityScore||0)>=80).sort((t,r)=>(r.priorityScore||0)-(t.priorityScore||0))}catch(t){return console.error("Failed to get high priority patients:",t),[]}}async addDevice(t,r){var s;try{if(!(t!=null&&t.trim()))throw new Error("Patient ID is required");if(!((s=r.type)!=null&&s.trim()))throw new Error("Device type is required");const n=await this.getPatient(t);if(!n)throw new Error("Patient not found");const a={id:this.generateId(),...r};return await this.updatePatient(t,{devices:[...n.devices,a]})?a:null}catch(n){throw console.error("Failed to add device:",n),n instanceof Error?n:new Error("Failed to add device")}}async updateDevice(t,r,s){try{if(!(t!=null&&t.trim())||!(r!=null&&r.trim()))throw new Error("Patient ID and Device ID are required");const n=await this.getPatient(t);if(!n)throw new Error("Patient not found");const a=n.devices.findIndex(c=>c.id===r);if(a===-1)throw new Error("Device not found");const i={...n.devices[a],...s},l=[...n.devices];return l[a]=i,await this.updatePatient(t,{devices:l})?i:null}catch(n){throw console.error("Failed to update device:",n),n instanceof Error?n:new Error("Failed to update device")}}async addNote(t,r,s="general"){try{if(!(t!=null&&t.trim()))throw new Error("Patient ID is required");if(!(r!=null&&r.trim()))throw new Error("Note text is required");const n=await this.getPatient(t);if(!n)throw new Error("Patient not found");const a={id:this.generateId(),author:"System",date:new Date().toISOString(),text:r.trim(),type:s};return await this.updatePatient(t,{notes:[...n.notes,a]})?a:null}catch(n){throw console.error("Failed to add note:",n),n instanceof Error?n:new Error("Failed to add note")}}async addCommunication(t,r){var s;try{if(!(t!=null&&t.trim()))throw new Error("Patient ID is required");if(!r.type||!((s=r.content)!=null&&s.trim()))throw new Error("Communication type and content are required");const n=await this.getPatient(t);if(!n)throw new Error("Patient not found");const a={id:this.generateId(),...r,timestamp:new Date().toISOString()};return await this.updatePatient(t,{communications:[...n.communications||[],a]})?a:null}catch(n){throw console.error("Failed to add communication:",n),n instanceof Error?n:new Error("Failed to add communication")}}async findMatches(t){await this.init();const r=[];for(const s of this.patients){const n=this.calculatePatientMatch(t,s);n.score>.3&&r.push(n)}return r.sort((s,n)=>n.score-s.score),r.slice(0,10)}calculatePatientMatch(t,r){let s=0;const n=[];if(t.tcNo&&r.tcNumber&&t.tcNo===r.tcNumber&&(s+=.8,n.push("tcNumber")),t.name&&r.name){const i=this.calculateStringSimilarity(t.name,r.name);i>.6&&(s+=i*.4,n.push("name"))}if(t.birthDate&&r.birthDate&&t.birthDate===r.birthDate&&(s+=.3,n.push("birthDate")),t.phone&&r.phone){const i=this.calculateStringSimilarity(t.phone,r.phone);i>.8&&(s+=i*.2,n.push("phone"))}let a="low";return s>=.8?a="high":s>=.6&&(a="medium"),{patient:r,score:s,matchedFields:n,confidence:a}}calculateStringSimilarity(t,r){const s=t.length>r.length?t:r,n=t.length>r.length?r:t;if(s.length===0)return 1;const a=this.levenshteinDistance(s,n);return(s.length-a)/s.length}levenshteinDistance(t,r){const s=Array(r.length+1).fill(null).map(()=>Array(t.length+1).fill(null));for(let n=0;n<=t.length;n++)s[0][n]=n;for(let n=0;n<=r.length;n++)s[n][0]=n;for(let n=1;n<=r.length;n++)for(let a=1;a<=t.length;a++){const i=t[a-1]===r[n-1]?0:1;s[n][a]=Math.min(s[n][a-1]+1,s[n-1][a]+1,s[n-1][a-1]+i)}return s[r.length][t.length]}generateId(){return`patient_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async validateTcNumber(t,r){try{return await this.init(),!(t!=null&&t.trim())||!/^\d{11}$/.test(t)?!1:!this.patients.some(s=>s.tcNumber===t&&s.id!==r)}catch(s){return console.error("Failed to validate TC number:",s),!1}}async bulkUpdatePatients(t){var n;const r=[],s=[];for(const a of t)try{if(!((n=a.id)!=null&&n.trim())){s.push("Missing patient ID in bulk update");continue}const i=await this.updatePatient(a.id,a.data);i&&r.push(i)}catch(i){s.push(`Failed to update patient ${a.id}: ${i}`)}return s.length>0&&console.warn("Bulk update errors:",s),r}async exportPatients(){try{return await this.init(),JSON.stringify(this.patients,null,2)}catch(t){throw console.error("Failed to export patients:",t),new Error("Failed to export patients")}}async importPatients(t){try{await this.init();const r=JSON.parse(t);if(!Array.isArray(r))throw new Error("Invalid data format");const s={success:0,errors:[]};for(const n of r)try{await this.createPatient(n),s.success++}catch(a){s.errors.push(`Failed to import patient: ${a instanceof Error?a.message:"Unknown error"}`)}return s}catch(r){throw new Error(`Import failed: ${r instanceof Error?r.message:"Unknown error"}`)}}convertOrvalPatient(t){const r=t.firstName||t.first_name||"",s=t.lastName||t.last_name||"",n=t.tcNumber||t.tc_number||"",a=t.birthDate||t.birth_date||"",i=t.acquisitionType||t.acquisition_type||"diger",l=t.priorityScore||t.priority_score||0,u=t.sgkInfo||t.sgk_info;return{id:t.id||t._id||t.patientId||"",name:`${r} ${s}`.trim()||"Unnamed Patient",firstName:r,lastName:s,phone:t.phone||"",email:t.email||"",tcNumber:n,birthDate:a,address:t.address||void 0,status:(t.status||"active").toLowerCase(),segment:t.segment||"new",label:"yeni",acquisitionType:i,tags:Array.isArray(t.tags)?t.tags:[],devices:[],notes:[],communications:[],reports:[],ereceiptHistory:[],sgkInfo:u?{...u}:{hasInsurance:!1},sgkStatus:"pending",priorityScore:l,createdAt:t.createdAt||new Date().toISOString(),updatedAt:t.updatedAt||new Date().toISOString()}}}const di=new $z;function ea(e){return Array.isArray?Array.isArray(e):FN(e)==="[object Array]"}const Vz=1/0;function Hz(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-Vz?"-0":t}function Wz(e){return e==null?"":Hz(e)}function gn(e){return typeof e=="string"}function AN(e){return typeof e=="number"}function Kz(e){return e===!0||e===!1||Gz(e)&&FN(e)=="[object Boolean]"}function jN(e){return typeof e=="object"}function Gz(e){return jN(e)&&e!==null}function os(e){return e!=null}function im(e){return!e.trim().length}function FN(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const qz="Incorrect 'index' type",Yz=e=>`Invalid value for key ${e}`,Xz=e=>`Pattern length exceeds max of ${e}.`,Qz=e=>`Missing ${e} property in key`,Zz=e=>`Property 'weight' in key '${e}' must be a positive integer`,vw=Object.prototype.hasOwnProperty;class Jz{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(s=>{let n=RN(s);this._keys.push(n),this._keyMap[n.id]=n,r+=n.weight}),this._keys.forEach(s=>{s.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function RN(e){let t=null,r=null,s=null,n=1,a=null;if(gn(e)||ea(e))s=e,t=ww(e),r=ex(e);else{if(!vw.call(e,"name"))throw new Error(Qz("name"));const i=e.name;if(s=i,vw.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(Zz(i));t=ww(i),r=ex(i),a=e.getFn}return{path:t,id:r,weight:n,src:s,getFn:a}}function ww(e){return ea(e)?e:e.split(".")}function ex(e){return ea(e)?e.join("."):e}function eU(e,t){let r=[],s=!1;const n=(a,i,l)=>{if(os(a))if(!i[l])r.push(a);else{let u=i[l];const c=a[u];if(!os(c))return;if(l===i.length-1&&(gn(c)||AN(c)||Kz(c)))r.push(Wz(c));else if(ea(c)){s=!0;for(let d=0,f=c.length;d<f;d+=1)n(c[d],i,l+1)}else i.length&&n(c,i,l+1)}};return n(e,gn(t)?t.split("."):t,0),s?r:r[0]}const tU={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},rU={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},sU={location:0,threshold:.6,distance:100},nU={useExtendedSearch:!1,getFn:eU,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ke={...rU,...tU,...sU,...nU};const aU=/[^ ]+/g;function iU(e=1,t=3){const r=new Map,s=Math.pow(10,t);return{get(n){const a=n.match(aU).length;if(r.has(a))return r.get(a);const i=1/Math.pow(a,.5*e),l=parseFloat(Math.round(i*s)/s);return r.set(a,l),l},clear(){r.clear()}}}class u1{constructor({getFn:t=Ke.getFn,fieldNormWeight:r=Ke.fieldNormWeight}={}){this.norm=iU(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,s)=>{this._keysMap[r.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,gn(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();gn(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,s=this.size();r<s;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!os(t)||im(t))return;let s={v:t,i:r,n:this.norm.get(t)};this.records.push(s)}_addObject(t,r){let s={i:r,$:{}};this.keys.forEach((n,a)=>{let i=n.getFn?n.getFn(t):this.getFn(t,n.path);if(os(i)){if(ea(i)){let l=[];const u=[{nestedArrIndex:-1,value:i}];for(;u.length;){const{nestedArrIndex:c,value:d}=u.pop();if(os(d))if(gn(d)&&!im(d)){let f={v:d,i:c,n:this.norm.get(d)};l.push(f)}else ea(d)&&d.forEach((f,h)=>{u.push({nestedArrIndex:h,value:f})})}s.$[a]=l}else if(gn(i)&&!im(i)){let l={v:i,n:this.norm.get(i)};s.$[a]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function DN(e,t,{getFn:r=Ke.getFn,fieldNormWeight:s=Ke.fieldNormWeight}={}){const n=new u1({getFn:r,fieldNormWeight:s});return n.setKeys(e.map(RN)),n.setSources(t),n.create(),n}function oU(e,{getFn:t=Ke.getFn,fieldNormWeight:r=Ke.fieldNormWeight}={}){const{keys:s,records:n}=e,a=new u1({getFn:t,fieldNormWeight:r});return a.setKeys(s),a.setIndexRecords(n),a}function Hd(e,{errors:t=0,currentLocation:r=0,expectedLocation:s=0,distance:n=Ke.distance,ignoreLocation:a=Ke.ignoreLocation}={}){const i=t/e.length;if(a)return i;const l=Math.abs(s-r);return n?i+l/n:l?1:i}function lU(e=[],t=Ke.minMatchCharLength){let r=[],s=-1,n=-1,a=0;for(let i=e.length;a<i;a+=1){let l=e[a];l&&s===-1?s=a:!l&&s!==-1&&(n=a-1,n-s+1>=t&&r.push([s,n]),s=-1)}return e[a-1]&&a-s>=t&&r.push([s,a-1]),r}const gi=32;function cU(e,t,r,{location:s=Ke.location,distance:n=Ke.distance,threshold:a=Ke.threshold,findAllMatches:i=Ke.findAllMatches,minMatchCharLength:l=Ke.minMatchCharLength,includeMatches:u=Ke.includeMatches,ignoreLocation:c=Ke.ignoreLocation}={}){if(t.length>gi)throw new Error(Xz(gi));const d=t.length,f=e.length,h=Math.max(0,Math.min(s,f));let p=a,m=h;const x=l>1||u,y=x?Array(f):[];let g;for(;(g=e.indexOf(t,m))>-1;){let _=Hd(t,{currentLocation:g,expectedLocation:h,distance:n,ignoreLocation:c});if(p=Math.min(_,p),m=g+d,x){let S=0;for(;S<d;)y[g+S]=1,S+=1}}m=-1;let v=[],w=1,b=d+f;const D=1<<d-1;for(let _=0;_<d;_+=1){let S=0,k=b;for(;S<k;)Hd(t,{errors:_,currentLocation:h+k,expectedLocation:h,distance:n,ignoreLocation:c})<=p?S=k:b=k,k=Math.floor((b-S)/2+S);b=k;let N=Math.max(1,h-k+1),C=i?f:Math.min(h+k,f)+d,E=Array(C+2);E[C+1]=(1<<_)-1;for(let Q=C;Q>=N;Q-=1){let Y=Q-1,X=r[e.charAt(Y)];if(x&&(y[Y]=+!!X),E[Q]=(E[Q+1]<<1|1)&X,_&&(E[Q]|=(v[Q+1]|v[Q])<<1|1|v[Q+1]),E[Q]&D&&(w=Hd(t,{errors:_,currentLocation:Y,expectedLocation:h,distance:n,ignoreLocation:c}),w<=p)){if(p=w,m=Y,m<=h)break;N=Math.max(1,2*h-m)}}if(Hd(t,{errors:_+1,currentLocation:h,expectedLocation:h,distance:n,ignoreLocation:c})>p)break;v=E}const A={isMatch:m>=0,score:Math.max(.001,w)};if(x){const _=lU(y,l);_.length?u&&(A.indices=_):A.isMatch=!1}return A}function uU(e){let t={};for(let r=0,s=e.length;r<s;r+=1){const n=e.charAt(r);t[n]=(t[n]||0)|1<<s-r-1}return t}const gf=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class PN{constructor(t,{location:r=Ke.location,threshold:s=Ke.threshold,distance:n=Ke.distance,includeMatches:a=Ke.includeMatches,findAllMatches:i=Ke.findAllMatches,minMatchCharLength:l=Ke.minMatchCharLength,isCaseSensitive:u=Ke.isCaseSensitive,ignoreDiacritics:c=Ke.ignoreDiacritics,ignoreLocation:d=Ke.ignoreLocation}={}){if(this.options={location:r,threshold:s,distance:n,includeMatches:a,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:d},t=u?t:t.toLowerCase(),t=c?gf(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(p,m)=>{this.chunks.push({pattern:p,alphabet:uU(p),startIndex:m})},h=this.pattern.length;if(h>gi){let p=0;const m=h%gi,x=h-m;for(;p<x;)f(this.pattern.substr(p,gi),p),p+=gi;if(m){const y=h-gi;f(this.pattern.substr(y),y)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:s,includeMatches:n}=this.options;if(t=r?t:t.toLowerCase(),t=s?gf(t):t,this.pattern===t){let x={isMatch:!0,score:0};return n&&(x.indices=[[0,t.length-1]]),x}const{location:a,distance:i,threshold:l,findAllMatches:u,minMatchCharLength:c,ignoreLocation:d}=this.options;let f=[],h=0,p=!1;this.chunks.forEach(({pattern:x,alphabet:y,startIndex:g})=>{const{isMatch:v,score:w,indices:b}=cU(t,x,y,{location:a+g,distance:i,threshold:l,findAllMatches:u,minMatchCharLength:c,includeMatches:n,ignoreLocation:d});v&&(p=!0),h+=w,v&&b&&(f=[...f,...b])});let m={isMatch:p,score:p?h/this.chunks.length:1};return p&&n&&(m.indices=f),m}}class ci{constructor(t){this.pattern=t}static isMultiMatch(t){return kw(t,this.multiRegex)}static isSingleMatch(t){return kw(t,this.singleRegex)}search(){}}function kw(e,t){const r=e.match(t);return r?r[1]:null}class dU extends ci{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class fU extends ci{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class hU extends ci{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class mU extends ci{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class pU extends ci{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class xU extends ci{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class ON extends ci{constructor(t,{location:r=Ke.location,threshold:s=Ke.threshold,distance:n=Ke.distance,includeMatches:a=Ke.includeMatches,findAllMatches:i=Ke.findAllMatches,minMatchCharLength:l=Ke.minMatchCharLength,isCaseSensitive:u=Ke.isCaseSensitive,ignoreDiacritics:c=Ke.ignoreDiacritics,ignoreLocation:d=Ke.ignoreLocation}={}){super(t),this._bitapSearch=new PN(t,{location:r,threshold:s,distance:n,includeMatches:a,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class IN extends ci{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,s;const n=[],a=this.pattern.length;for(;(s=t.indexOf(this.pattern,r))>-1;)r=s+a,n.push([s,r-1]);const i=!!n.length;return{isMatch:i,score:i?0:1,indices:n}}}const tx=[dU,IN,hU,mU,xU,pU,fU,ON],Sw=tx.length,gU=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,yU="|";function vU(e,t={}){return e.split(yU).map(r=>{let s=r.trim().split(gU).filter(a=>a&&!!a.trim()),n=[];for(let a=0,i=s.length;a<i;a+=1){const l=s[a];let u=!1,c=-1;for(;!u&&++c<Sw;){const d=tx[c];let f=d.isMultiMatch(l);f&&(n.push(new d(f,t)),u=!0)}if(!u)for(c=-1;++c<Sw;){const d=tx[c];let f=d.isSingleMatch(l);if(f){n.push(new d(f,t));break}}}return n})}const wU=new Set([ON.type,IN.type]);class kU{constructor(t,{isCaseSensitive:r=Ke.isCaseSensitive,ignoreDiacritics:s=Ke.ignoreDiacritics,includeMatches:n=Ke.includeMatches,minMatchCharLength:a=Ke.minMatchCharLength,ignoreLocation:i=Ke.ignoreLocation,findAllMatches:l=Ke.findAllMatches,location:u=Ke.location,threshold:c=Ke.threshold,distance:d=Ke.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:s,includeMatches:n,minMatchCharLength:a,findAllMatches:l,ignoreLocation:i,location:u,threshold:c,distance:d},t=r?t:t.toLowerCase(),t=s?gf(t):t,this.pattern=t,this.query=vU(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:n,ignoreDiacritics:a}=this.options;t=n?t:t.toLowerCase(),t=a?gf(t):t;let i=0,l=[],u=0;for(let c=0,d=r.length;c<d;c+=1){const f=r[c];l.length=0,i=0;for(let h=0,p=f.length;h<p;h+=1){const m=f[h],{isMatch:x,indices:y,score:g}=m.search(t);if(x){if(i+=1,u+=g,s){const v=m.constructor.type;wU.has(v)?l=[...l,...y]:l.push(y)}}else{u=0,i=0,l.length=0;break}}if(i){let h={isMatch:!0,score:u/i};return s&&(h.indices=l),h}}return{isMatch:!1,score:1}}}const rx=[];function SU(...e){rx.push(...e)}function sx(e,t){for(let r=0,s=rx.length;r<s;r+=1){let n=rx[r];if(n.condition(e,t))return new n(e,t)}return new PN(e,t)}const yf={AND:"$and",OR:"$or"},nx={PATH:"$path",PATTERN:"$val"},ax=e=>!!(e[yf.AND]||e[yf.OR]),bU=e=>!!e[nx.PATH],_U=e=>!ea(e)&&jN(e)&&!ax(e),bw=e=>({[yf.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function MN(e,t,{auto:r=!0}={}){const s=n=>{let a=Object.keys(n);const i=bU(n);if(!i&&a.length>1&&!ax(n))return s(bw(n));if(_U(n)){const u=i?n[nx.PATH]:a[0],c=i?n[nx.PATTERN]:n[u];if(!gn(c))throw new Error(Yz(u));const d={keyId:ex(u),pattern:c};return r&&(d.searcher=sx(c,t)),d}let l={children:[],operator:a[0]};return a.forEach(u=>{const c=n[u];ea(c)&&c.forEach(d=>{l.children.push(s(d))})}),l};return ax(e)||(e=bw(e)),s(e)}function EU(e,{ignoreFieldNorm:t=Ke.ignoreFieldNorm}){e.forEach(r=>{let s=1;r.matches.forEach(({key:n,norm:a,score:i})=>{const l=n?n.weight:null;s*=Math.pow(i===0&&l?Number.EPSILON:i,(l||1)*(t?1:a))}),r.score=s})}function NU(e,t){const r=e.matches;t.matches=[],os(r)&&r.forEach(s=>{if(!os(s.indices)||!s.indices.length)return;const{indices:n,value:a}=s;let i={indices:n,value:a};s.key&&(i.key=s.key.src),s.idx>-1&&(i.refIndex=s.idx),t.matches.push(i)})}function CU(e,t){t.score=e.score}function TU(e,t,{includeMatches:r=Ke.includeMatches,includeScore:s=Ke.includeScore}={}){const n=[];return r&&n.push(NU),s&&n.push(CU),e.map(a=>{const{idx:i}=a,l={item:t[i],refIndex:i};return n.length&&n.forEach(u=>{u(a,l)}),l})}class Ll{constructor(t,r={},s){this.options={...Ke,...r},this.options.useExtendedSearch,this._keyStore=new Jz(this.options.keys),this.setCollection(t,s)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof u1))throw new Error(qz);this._myIndex=r||DN(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){os(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let s=0,n=this._docs.length;s<n;s+=1){const a=this._docs[s];t(a,s)&&(this.removeAt(s),s-=1,n-=1,r.push(a))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:s,includeScore:n,shouldSort:a,sortFn:i,ignoreFieldNorm:l}=this.options;let u=gn(t)?gn(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return EU(u,{ignoreFieldNorm:l}),a&&u.sort(i),AN(r)&&r>-1&&(u=u.slice(0,r)),TU(u,this._docs,{includeMatches:s,includeScore:n})}_searchStringList(t){const r=sx(t,this.options),{records:s}=this._myIndex,n=[];return s.forEach(({v:a,i,n:l})=>{if(!os(a))return;const{isMatch:u,score:c,indices:d}=r.searchIn(a);u&&n.push({item:a,idx:i,matches:[{score:c,value:a,norm:l,indices:d}]})}),n}_searchLogical(t){const r=MN(t,this.options),s=(l,u,c)=>{if(!l.children){const{keyId:f,searcher:h}=l,p=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(u,f),searcher:h});return p&&p.length?[{idx:c,item:u,matches:p}]:[]}const d=[];for(let f=0,h=l.children.length;f<h;f+=1){const p=l.children[f],m=s(p,u,c);if(m.length)d.push(...m);else if(l.operator===yf.AND)return[]}return d},n=this._myIndex.records,a={},i=[];return n.forEach(({$:l,i:u})=>{if(os(l)){let c=s(r,l,u);c.length&&(a[u]||(a[u]={idx:u,item:l,matches:[]},i.push(a[u])),c.forEach(({matches:d})=>{a[u].matches.push(...d)}))}}),i}_searchObjectList(t){const r=sx(t,this.options),{keys:s,records:n}=this._myIndex,a=[];return n.forEach(({$:i,i:l})=>{if(!os(i))return;let u=[];s.forEach((c,d)=>{u.push(...this._findMatches({key:c,value:i[d],searcher:r}))}),u.length&&a.push({idx:l,item:i,matches:u})}),a}_findMatches({key:t,value:r,searcher:s}){if(!os(r))return[];let n=[];if(ea(r))r.forEach(({v:a,i,n:l})=>{if(!os(a))return;const{isMatch:u,score:c,indices:d}=s.searchIn(a);u&&n.push({score:c,key:t,value:a,idx:i,norm:l,indices:d})});else{const{v:a,n:i}=r,{isMatch:l,score:u,indices:c}=s.searchIn(a);l&&n.push({score:u,key:t,value:a,norm:i,indices:c})}return n}}Ll.version="7.1.0";Ll.createIndex=DN;Ll.parseIndex=oU;Ll.config=Ke;Ll.parseQuery=MN;SU(kU);class AU{constructor(){mt(this,"fuseInstance",null);this.initializeFuse()}initializeFuse(){const t={keys:[{name:"firstName",weight:.3},{name:"lastName",weight:.3},{name:"phone",weight:.2},{name:"tcNumber",weight:.15},{name:"email",weight:.1},{name:"tags",weight:.05}],threshold:.3,includeScore:!0,includeMatches:!0,minMatchCharLength:2};this.fuseInstance=new Ll([],t)}updateSearchIndex(t){this.fuseInstance&&this.fuseInstance.setCollection(t)}searchPatients(t,r={}){let s=[...t];if(r.search&&r.search.trim())if(this.fuseInstance)s=this.fuseInstance.search(r.search.trim()).map(d=>d.item);else{const c=r.search.toLowerCase();s=t.filter(d=>{var f,h,p,m,x;return((f=d.firstName)==null?void 0:f.toLowerCase().includes(c))||((h=d.lastName)==null?void 0:h.toLowerCase().includes(c))||((p=d.phone)==null?void 0:p.includes(c))||((m=d.tcNumber)==null?void 0:m.includes(c))||((x=d.email)==null?void 0:x.toLowerCase().includes(c))})}s=this.applyFilters(s,r);const n=r.page||1,a=r.limit||50,i=(n-1)*a,l=i+a;return{patients:s.slice(i,l),total:s.length,page:n,pageSize:a,hasMore:l<s.length}}applyFilters(t,r){return t.filter(s=>{if(r.status&&s.status!==r.status||r.segment&&s.segment!==r.segment||r.label&&s.label!==r.label||r.acquisitionType&&s.acquisitionType!==r.acquisitionType||r.tags&&r.tags.length>0&&!r.tags.some(a=>{var i;return(i=s.tags)==null?void 0:i.includes(a)}))return!1;if(r.hasDevices!==void 0){const n=s.devices&&s.devices.length>0;if(r.hasDevices!==n)return!1}if(r.sgkStatus&&s.sgkStatus!==r.sgkStatus)return!1;if(r.priorityScore){const n=s.priorityScore||0;if(r.priorityScore.min!==void 0&&n<r.priorityScore.min||r.priorityScore.max!==void 0&&n>r.priorityScore.max)return!1}if(r.dateRange){const n=new Date(s.createdAt);if(r.dateRange.start){const a=new Date(r.dateRange.start);if(n<a)return!1}if(r.dateRange.end){const a=new Date(r.dateRange.end);if(n>a)return!1}}return!0})}findMatches(t,r){const s=[];for(const n of r){const a=this.calculatePatientMatch(t,n);a.score>.3&&s.push(a)}return s.sort((n,a)=>a.score-n.score)}calculatePatientMatch(t,r){let s=0,n=0;const a=[];if((t.firstName||t.lastName)&&(r.firstName||r.lastName)){const u=`${t.firstName||""} ${t.lastName||""}`.trim(),c=`${r.firstName||""} ${r.lastName||""}`.trim(),d=this.calculateStringSimilarity(u,c);s+=d*.4,n+=.4,d>.7&&a.push("name")}if(t.tcNo&&r.tcNumber){const u=t.tcNo===r.tcNumber?1:0;s+=u*.3,n+=.3,u>0&&a.push("tcNumber")}if(t.phone&&r.phone){const u=this.calculatePhoneSimilarity(t.phone,r.phone);s+=u*.2,n+=.2,u>.8&&a.push("phone")}if(t.birthDate&&r.birthDate){const u=t.birthDate===r.birthDate?1:0;s+=u*.1,n+=.1,u>0&&a.push("birthDate")}const i=n>0?s/n:0;let l="low";return i>.8?l="high":i>.6&&(l="medium"),{patient:r,score:i,matchedFields:a,confidence:l}}calculateStringSimilarity(t,r){const s=t.toLowerCase().trim(),n=r.toLowerCase().trim();if(s===n)return 1;const a=Math.max(s.length,n.length);return a===0?1:1-this.levenshteinDistance(s,n)/a}calculatePhoneSimilarity(t,r){const s=i=>i.replace(/[\s\-\(\)]/g,""),n=s(t),a=s(r);return n===a?1:n.includes(a)||a.includes(n)?.9:this.calculateStringSimilarity(n,a)}levenshteinDistance(t,r){const s=Array(r.length+1).fill(null).map(()=>Array(t.length+1).fill(null));for(let n=0;n<=t.length;n++)s[0][n]=n;for(let n=0;n<=r.length;n++)s[n][0]=n;for(let n=1;n<=r.length;n++)for(let a=1;a<=t.length;a++){const i=t[a-1]===r[n-1]?0:1;s[n][a]=Math.min(s[n][a-1]+1,s[n-1][a]+1,s[n-1][a-1]+i)}return s[r.length][t.length]}}const jU=new AU;class FU{constructor(){mt(this,"CACHE_PREFIX","patient_cache_");mt(this,"METADATA_KEY","patient_cache_metadata");mt(this,"DEFAULT_TTL",24*60*60*1e3);mt(this,"MAX_CACHE_SIZE",1e4)}async cachePatients(t,r={}){try{await ut.savePatients(t),await this.updateCacheMetadata(t.length);const s=r.ttl||this.DEFAULT_TTL,n=t.map(a=>ut.setCache(`${this.CACHE_PREFIX}${a.id}`,a,s));await Promise.all(n)}catch(s){throw console.error("Failed to cache patients:",s),s}}async getCachedPatient(t){try{const r=await ut.getPatient(t);if(r)return r;const s=await ut.getCache(`${this.CACHE_PREFIX}${t}`);if(!s)return null;if(s.firstName||s.tc_number)return s;if(s.id&&(s.firstName||s.lastName)){const n=s;return{id:n.id,firstName:n.firstName||"",lastName:n.lastName||"",phone:n.phone||"",tcNumber:n.tcNumber||void 0,birthDate:n.birthDate||void 0,email:n.email||void 0,address:n.address||void 0,status:n.status||"active",segment:n.segment||"new",label:n.label||"yeni",acquisitionType:n.acquisitionType||"diger",tags:Array.isArray(n.tags)?n.tags:[],priorityScore:n.priorityScore,deviceTrial:n.deviceTrial,trialDevice:n.trialDevice,trialDate:n.trialDate,priceGiven:n.priceGiven,purchased:n.purchased,purchaseDate:n.purchaseDate,deviceType:n.deviceType,deviceModel:n.deviceModel,overdueAmount:n.overdueAmount,sgkStatus:n.sgkStatus,sgkSubmittedDate:n.sgkSubmittedDate,sgkDeadline:n.sgkDeadline,deviceReportRequired:n.deviceReportRequired,batteryReportRequired:n.batteryReportRequired,batteryReportDue:n.batteryReportDue,lastContactDate:n.lastContactDate,lastAppointmentDate:n.lastAppointmentDate,missedAppointments:n.missedAppointments,lastPriorityTaskDate:n.lastPriorityTaskDate,renewalContactMade:n.renewalContactMade,assignedClinician:n.assignedClinician,createdAt:n.createdAt||new Date().toISOString(),updatedAt:n.updatedAt||new Date().toISOString(),devices:Array.isArray(n.devices)?n.devices:[],notes:Array.isArray(n.notes)?n.notes:[],communications:Array.isArray(n.communications)?n.communications:[],reports:Array.isArray(n.reports)?n.reports:[],ereceiptHistory:Array.isArray(n.ereceiptHistory)?n.ereceiptHistory:[],appointments:Array.isArray(n.appointments)?n.appointments:[],installments:Array.isArray(n.installments)?n.installments:[],sales:Array.isArray(n.sales)?n.sales:[],sgkInfo:n.sgkInfo||{hasInsurance:!1},sgkWorkflow:n.sgkWorkflow}}return null}catch(r){return console.error(`Failed to get cached patient ${t}:`,r),null}}async getCachedPatients(){try{return await ut.getPatients()}catch(t){return console.error("Failed to get cached patients:",t),[]}}async searchCachedPatients(t){try{let s=[...await this.getCachedPatients()];if(t.search){const c=t.search.toLowerCase();s=s.filter(d=>{var f,h,p,m,x;return((f=d.firstName)==null?void 0:f.toLowerCase().includes(c))||((h=d.lastName)==null?void 0:h.toLowerCase().includes(c))||((p=d.phone)==null?void 0:p.includes(c))||((m=d.tcNumber)==null?void 0:m.includes(c))||((x=d.email)==null?void 0:x.toLowerCase().includes(c))})}t.status&&t.status.length>0&&(s=s.filter(c=>t.status.includes(c.status))),t.segment&&t.segment.length>0&&(s=s.filter(c=>t.segment.includes(c.segment))),t.label&&t.label.length>0&&(s=s.filter(c=>t.label.includes(c.label))),t.acquisitionType&&t.acquisitionType.length>0&&(s=s.filter(c=>t.acquisitionType.includes(c.acquisitionType))),t.tags&&t.tags.length>0&&(s=s.filter(c=>{var d;return(d=c.tags)==null?void 0:d.some(f=>t.tags.includes(f))})),t.hasDevices!==void 0&&(s=s.filter(c=>t.hasDevices?c.devices&&c.devices.length>0:!c.devices||c.devices.length===0));const n=t.page||1,a=t.limit||50,i=(n-1)*a;return{patients:s.slice(i,i+a).map(c=>{var d;return{id:c.id,firstName:c.firstName||"",lastName:c.lastName||"",tcNumber:c.tcNumber,phone:c.phone,email:c.email,status:c.status,segment:c.segment,labels:c.label?[c.label]:[],registrationDate:c.createdAt,lastVisitDate:c.updatedAt,deviceCount:((d=c.devices)==null?void 0:d.length)||0,hasInsurance:!!c.sgkInfo,outstandingBalance:0,priority:0}}),totalCount:s.length,filteredCount:s.length}}catch(r){return console.error("Failed to search cached patients:",r),{patients:[],totalCount:0,filteredCount:0}}}async updateCachedPatient(t){try{await ut.updatePatient(t),await ut.setCache(`${this.CACHE_PREFIX}${t.id}`,t)}catch(r){throw console.error(`Failed to update cached patient ${t.id}:`,r),r}}async removeCachedPatient(t){try{await ut.deletePatient(t),await ut.deleteCache(`${this.CACHE_PREFIX}${t}`)}catch(r){throw console.error(`Failed to remove cached patient ${t}:`,r),r}}async getCacheStats(){try{const t=await this.getCachedPatients(),r=await ut.getCache(this.METADATA_KEY),s={totalPatients:t.length,lastUpdated:(r==null?void 0:r.lastUpdated)||null,cacheSize:this.calculateCacheSize(t),oldestEntry:null,newestEntry:null};if(t.length>0){const n=[...t].sort((a,i)=>new Date(a.createdAt).getTime()-new Date(i.createdAt).getTime());s.oldestEntry=n[0].createdAt,s.newestEntry=n[n.length-1].createdAt}return s}catch(t){return console.error("Failed to get cache stats:",t),{totalPatients:0,lastUpdated:null,cacheSize:0,oldestEntry:null,newestEntry:null}}}async clearCache(){try{const r=(await this.getCachedPatients()).map(s=>this.removeCachedPatient(s.id));await Promise.all(r),await ut.deleteCache(this.METADATA_KEY)}catch(t){throw console.error("Failed to clear cache:",t),t}}async optimizeCache(){try{const t=await this.getCachedPatients();if(t.length>this.MAX_CACHE_SIZE){const n=[...t].sort((a,i)=>new Date(a.updatedAt).getTime()-new Date(i.updatedAt).getTime()).slice(0,t.length-this.MAX_CACHE_SIZE).map(a=>this.removeCachedPatient(a.id));await Promise.all(n)}}catch(t){console.error("Failed to optimize cache:",t)}}async isPatientCached(t){try{return await this.getCachedPatient(t)!==null}catch(r){return console.error(`Failed to check if patient ${t} is cached:`,r),!1}}async preloadPatients(t){console.log("Preloading patients:",t)}async updateCacheMetadata(t){try{const r={lastUpdated:new Date().toISOString(),patientCount:t,version:"1.0.0"};await ut.setCache(this.METADATA_KEY,r)}catch(r){console.error("Failed to update cache metadata:",r)}}calculateCacheSize(t){const r=JSON.stringify(t);return new Blob([r]).size}getNestedValue(t,r){return r.split(".").reduce((s,n)=>s==null?void 0:s[n],t)}}const go=new FU;class RU{validatePatient(t,r=[]){const s=[],n=[];return this.validateRequiredFields(t,s),this.validateFormats(t,s,n),this.validateBusinessRules(t,s,n),this.validateUniqueness(t,r,s),{isValid:s.filter(a=>a.severity==="error").length===0,errors:s,warnings:n}}validateTcNumber(t,r,s=[]){return!t||t.length!==11||!/^\d{11}$/.test(t)||!this.isValidTcNumberAlgorithm(t)?!1:!s.find(a=>a.tcNumber===t&&a.id!==r)}validatePhone(t){if(!t)return!1;const r=t.replace(/\D/g,"");return r.length===10?/^[235]\d{9}$/.test(r):r.length===11?/^0[235]\d{9}$/.test(r):r.length===12?/^90[235]\d{9}$/.test(r):r.length===13?/^0090[235]\d{9}$/.test(r):!1}validateEmail(t){return t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t):!0}validateBirthDate(t){if(!t)return!0;const r=new Date(t),s=new Date;if(isNaN(r.getTime())||r>=s)return!1;const n=new Date;return n.setFullYear(n.getFullYear()-120),r>=n}validateRequiredFields(t,r){(!t.phone||!t.phone.trim())&&r.push({field:"phone",code:"REQUIRED",message:"Telefon numaras zorunludur",severity:"error"}),(!t.firstName||!t.firstName.trim())&&r.push({field:"firstName",code:"REQUIRED",message:"Hasta ad zorunludur",severity:"error"}),(!t.lastName||!t.lastName.trim())&&r.push({field:"lastName",code:"REQUIRED",message:"Hasta soyad zorunludur",severity:"error"})}validateFormats(t,r,s){t.phone&&!this.validatePhone(t.phone)&&r.push({field:"phone",code:"INVALID_FORMAT",message:"Geersiz telefon numaras format",severity:"error"}),t.tcNumber&&!this.isValidTcNumberAlgorithm(t.tcNumber)&&r.push({field:"tcNumber",code:"INVALID_FORMAT",message:"Geersiz TC Kimlik Numaras",severity:"error"}),t.email&&!this.validateEmail(t.email)&&r.push({field:"email",code:"INVALID_FORMAT",message:"Geersiz e-posta adresi format",severity:"error"}),t.birthDate&&!this.validateBirthDate(t.birthDate)&&r.push({field:"birthDate",code:"INVALID_DATE",message:"Geersiz doum tarihi",severity:"error"})}validateBusinessRules(t,r,s){if(t.birthDate){const n=this.calculateAge(t.birthDate);n<18&&s.push({field:"birthDate",code:"MINOR_PATIENT",message:"Hasta 18 yandan kk",suggestion:"Veli bilgilerini eklemeyi unutmayn"}),n>90&&s.push({field:"birthDate",code:"ELDERLY_PATIENT",message:"Hasta 90 yandan byk",suggestion:"Ya bilgisini kontrol edin"})}t.deviceTrial&&!t.trialDate&&s.push({field:"trialDate",code:"MISSING_TRIAL_DATE",message:"Deneme cihaz var ama deneme tarihi eksik",suggestion:"Deneme tarihini ekleyin"}),t.purchased&&!t.purchaseDate&&s.push({field:"purchaseDate",code:"MISSING_PURCHASE_DATE",message:"Satn alm var ama satn alma tarihi eksik",suggestion:"Satn alma tarihini ekleyin"})}validateUniqueness(t,r,s){if(t.tcNumber){const n=r.find(a=>a.tcNumber===t.tcNumber&&a.id!==t.id);if(n){const a=`${n.firstName||""} ${n.lastName||""}`.trim();s.push({field:"tcNumber",code:"DUPLICATE",message:`Bu TC Kimlik Numaras baka bir hasta tarafndan kullanlyor: ${a}`,severity:"error"})}}if(t.phone){const n=r.find(a=>a.phone===t.phone&&a.id!==t.id);if(n){const a=`${n.firstName||""} ${n.lastName||""}`.trim();s.push({field:"phone",code:"DUPLICATE_WARNING",message:`Bu telefon numaras baka bir hasta tarafndan kullanlyor: ${a}`,severity:"warning"})}}}isValidTcNumberAlgorithm(t){if(!t||t.length!==11)return!1;const r=t.split("").map(Number);if(r[0]===0)return!1;const s=r[0]+r[2]+r[4]+r[6]+r[8],n=r[1]+r[3]+r[5]+r[7],a=(s*7-n)%10,i=(s+n+r[9])%10;return r[9]===a&&r[10]===i}calculateAge(t){const r=new Date(t),s=new Date;let n=s.getFullYear()-r.getFullYear();const a=s.getMonth()-r.getMonth();return(a<0||a===0&&s.getDate()<r.getDate())&&n--,n}}const _w=new RU;class DU{constructor(){mt(this,"SYNC_KEY","patient_last_sync");mt(this,"BATCH_SIZE",50);mt(this,"syncInProgress",!1)}async syncPatients(t={}){if(this.syncInProgress)throw new Error("Sync already in progress");this.syncInProgress=!0;try{const r=await this.performSync(t);return await this.updateLastSyncTime(),r}finally{this.syncInProgress=!1}}async syncSinglePatient(t,r={}){try{if(!await ut.getPatient(t))throw new Error(`Patient ${t} not found locally`);return(await Ts.getPendingOperations()).filter(i=>i.endpoint.includes(`/patients/${t}`)||i.data&&typeof i.data=="object"&&"id"in i.data&&i.data.id===t).length>0&&!r.force&&await this.pushPendingChanges([t]),await this.pullPatientFromServer(t),!0}catch(s){return console.error(`Failed to sync patient ${t}:`,s),!1}}async getLastSyncTime(){try{const t=await ut.getCache(this.SYNC_KEY);return typeof t=="string"?t:null}catch(t){return console.error("Failed to get last sync time:",t),null}}async getPendingSyncCount(){try{return(await Ts.getPendingOperations()).filter(r=>r.endpoint.includes("/patients")).length}catch(t){return console.error("Failed to get pending sync count:",t),0}}async hasPendingChanges(t){try{const r=await Ts.getPendingOperations();return t?r.some(s=>s.endpoint.includes(`/patients/${t}`)||s.data&&typeof s.data=="object"&&"id"in s.data&&s.data.id===t):r.some(s=>s.endpoint.includes("/patients"))}catch(r){return console.error("Failed to check pending changes:",r),!1}}async resolveConflict(t,r){switch(r){case"local":return await this.pushPatientToServer(t.localVersion),t.localVersion;case"remote":return await ut.updatePatient(t.remoteVersion),t.remoteVersion;case"merge":const s=this.mergePatients(t.localVersion,t.remoteVersion);return await ut.updatePatient(s),await this.pushPatientToServer(s),s;default:throw new Error(`Invalid conflict resolution: ${r}`)}}async performSync(t){const r={success:!1,synced:0,failed:0,conflicts:[],lastSyncTime:new Date().toISOString()};try{const s=await this.pushPendingChanges(),n=await this.pullRemoteChanges(t);return r.synced=(s.synced||0)+(n.synced||0),r.failed=(s.failed||0)+(n.failed||0),r.conflicts=[...s.conflicts||[],...n.conflicts||[]],r.success=r.failed===0&&r.conflicts.length===0,r}catch(s){return console.error("Sync failed:",s),r.success=!1,r}}async pushPendingChanges(t){const r={synced:0,failed:0,conflicts:[]};try{const n=(await Ts.getPendingOperations()).filter(a=>t?t.some(i=>a.endpoint.includes(`/patients/${i}`)||a.data&&typeof a.data=="object"&&"id"in a.data&&a.data.id===i):a.endpoint.includes("/patients"));for(const a of n)try{await this.processPendingOperation(a),r.synced++}catch(i){console.error(`Failed to process operation ${a.id}:`,i),r.failed++}}catch(s){console.error("Failed to push pending changes:",s)}return r}async pullRemoteChanges(t){var s;const r={synced:0,failed:0,conflicts:[]};try{const n=t.since||await this.getLastSyncTime(),a=t.batchSize||this.BATCH_SIZE,i=await TN({});if((s=i.data)!=null&&s.data)for(const l of i.data.data)try{const u=l,c=await this.syncRemotePatient(u,t);c.conflict?r.conflicts.push(c.conflict):r.synced++}catch(u){console.error(`Failed to sync patient ${l==null?void 0:l.id}:`,u),r.failed++}}catch(n){console.error("Failed to pull remote changes:",n)}return r}async syncRemotePatient(t,r){const s=await ut.getPatient(t.id);if(!s)return await ut.updatePatient(t),{};const n=await this.hasPendingChanges(t.id),a=new Date(s.updatedAt)>new Date(t.updatedAt);if(n||a){const i={patientId:t.id,localVersion:s,remoteVersion:t,conflictType:"update"};return r.conflictResolution&&r.conflictResolution!=="prompt"?(await this.resolveConflict(i,r.conflictResolution),{}):{conflict:i}}return await ut.updatePatient(t),{}}async processPendingOperation(t){console.log("Processing pending operation:",t.id,t.method,t.endpoint)}async pushPatientToServer(t){await Ts.addOperation({method:"PUT",endpoint:`/api/patients/${t.id}`,data:t,headers:{"Idempotency-Key":`update-patient-${t.id}-${Date.now()}`}})}async pullPatientFromServer(t){console.log("Pulling patient from server:",t)}mergePatients(t,r){const s=new Date(t.updatedAt).getTime(),n=new Date(r.updatedAt).getTime();return s>n?{...r,...t,updatedAt:new Date().toISOString()}:{...t,...r,updatedAt:new Date().toISOString()}}async updateLastSyncTime(){try{await ut.setCache(this.SYNC_KEY,new Date().toISOString())}catch(t){console.error("Failed to update last sync time:",t)}}}const om=new DU,LN=(e={})=>{const{enableRealTimeSync:t=!0,cacheEnabled:r=!0,autoRefresh:s=!1,refreshInterval:n=3e4}=e,[a,i]=F.useState([]),[l,u]=F.useState(null),[c,d]=F.useState(!0),[f,h]=F.useState(!1),[p,m]=F.useState(!1),[x,y]=F.useState(null),[g,v]=F.useState({});F.useEffect(()=>{(async()=>{try{if(d(!0),y(null),r){const ee=await go.getCachedPatients();ee.length>0&&(i(ee),d(!1))}const X=await di.getPatients();i(X.patients)}catch(X){console.error("Failed to initialize patients:",X),y(X instanceof Error?X.message:"Failed to load patients")}finally{d(!1)}})()},[r]),F.useEffect(()=>{if(!s)return;const Y=setInterval(async()=>{try{const X=await di.getPatients();i(X.patients)}catch(X){console.error("Auto refresh failed:",X)}},n);return()=>clearInterval(Y)},[s,n]),F.useEffect(()=>{if(!t)return;const Y=X=>{var ee;(ee=X.key)!=null&&ee.startsWith("patient_")&&di.getPatients().then(te=>{i(te.patients)})};return window.addEventListener("storage",Y),()=>window.removeEventListener("storage",Y)},[t]);const w=F.useCallback(async Y=>{try{h(!0),y(null),v(Y);let X;if(r&&!Y.search)X=await go.searchCachedPatients(Y);else{const ee={search:Y.search,status:Y.status,segment:Y.segment,labels:Y.label?[Y.label[0]]:void 0,hasDevice:Y.hasDevices,page:Y.page,limit:Y.limit};X=await jU.searchPatients(a,ee)}u(X)}catch(X){console.error("Search failed:",X),y(X instanceof Error?X.message:"Search failed")}finally{h(!1)}},[a,r]),b=F.useCallback(()=>{u(null),v({})},[]),D=F.useCallback(Y=>{v(Y),w(Y)},[w]),A=F.useCallback(async Y=>{try{y(null);const X=_w.validatePatient(Y);if(!X.isValid)throw new Error(`Validation failed: ${X.errors.join(", ")}`);const ee=await di.createPatient(Y);return i(te=>[...te,ee]),r&&await go.updateCachedPatient(ee),t&&await om.syncSinglePatient(ee.id),ee}catch(X){throw console.error("Failed to create patient:",X),y(X instanceof Error?X.message:"Failed to create patient"),X}},[r,t]),_=F.useCallback(async(Y,X)=>{try{if(y(null),!a.find(R=>R.id===Y))throw new Error("Patient not found");const te=await di.updatePatient(Y,X);if(!te)throw new Error("Failed to update patient");return i(R=>R.map(se=>se.id===Y?te:se)),r&&await go.updateCachedPatient(te),t&&await om.syncSinglePatient(Y),te}catch(ee){throw console.error("Failed to update patient:",ee),y(ee instanceof Error?ee.message:"Failed to update patient"),ee}},[a,r,t]),S=F.useCallback(async Y=>{try{if(y(null),!await di.deletePatient(Y))throw new Error("Failed to delete patient");i(ee=>ee.filter(te=>te.id!==Y)),r&&await go.removeCachedPatient(Y),t&&console.log("Marking patient for deletion:",Y)}catch(X){throw console.error("Failed to delete patient:",X),y(X instanceof Error?X.message:"Failed to delete patient"),X}},[r,t]),k=F.useCallback(async()=>{try{d(!0),y(null);const Y=await di.getPatients();i(Y.patients),Object.keys(g).length>0&&await w(g)}catch(Y){console.error("Failed to refresh patients:",Y),y(Y instanceof Error?Y.message:"Failed to refresh patients")}finally{d(!1)}},[g,w]),N=F.useCallback(async()=>{try{m(!0),y(null);const Y=await om.syncPatients();Y.conflicts.length>0&&console.warn("Sync conflicts detected:",Y.conflicts),await k()}catch(Y){console.error("Failed to sync patients:",Y),y(Y instanceof Error?Y.message:"Failed to sync patients")}finally{m(!1)}},[k]),C=F.useCallback(async()=>{try{r&&(await go.clearCache(),await k())}catch(Y){console.error("Failed to clear cache:",Y),y(Y instanceof Error?Y.message:"Failed to clear cache")}},[r,k]),E=F.useCallback(Y=>a.find(X=>X.id===Y),[a]),M=F.useCallback(Y=>{const X=_w.validatePatient(Y);return{isValid:X.isValid,errors:X.errors.map(ee=>ee.message)}},[]),Q=F.useMemo(()=>l?l.totalCount:a.length,[l,a.length]);return{patients:a,searchResults:l,totalCount:Q,isLoading:c,isSearching:f,isSyncing:p,error:x,searchPatients:w,clearSearch:b,applyFilters:D,createPatient:A,updatePatient:_,deletePatient:S,refreshPatients:k,syncPatients:N,clearCache:C,getPatientById:E,validatePatient:M}},PU=({isOpen:e,onClose:t,onSelect:r,ocrResult:s})=>{var h,p;const[n,a]=F.useState(""),[i,l]=F.useState(null),{patients:u,isLoading:c}=LN();F.useEffect(()=>{var m;(m=s==null?void 0:s.matched_patient)!=null&&m.patient&&l(s.matched_patient.patient)},[s]);const d=(u==null?void 0:u.filter(m=>{const x=`${m.firstName} ${m.lastName}`.toLowerCase(),y=m.tcNumber||"",g=m.phone||"",v=n.toLowerCase();return x.includes(v)||y.includes(v)||g.includes(v)}))||[],f=()=>{i&&r(i)};return o.jsx(ar,{isOpen:e,onClose:t,title:"Hasta Se",children:o.jsxs("div",{className:"space-y-4",children:[(s==null?void 0:s.matched_patient)&&o.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"OCR nerisi"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[(h=s.matched_patient.patient)==null?void 0:h.fullName,((p=s.matched_patient.match_details)==null?void 0:p.confidence)&&o.jsxs("span",{className:"ml-2 text-xs",children:["(",Math.round(s.matched_patient.match_details.confidence*100),"% gven)"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hasta Ara"}),o.jsxs("div",{className:"relative",children:[o.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(qe,{placeholder:"sim, TC veya telefon ile ara...",value:n,onChange:m=>a(m.target.value),className:"pl-10"})]})]}),o.jsx("div",{className:"max-h-64 overflow-y-auto border rounded-lg",children:c?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"Ykleniyor..."}):d.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:n?"Hasta bulunamad":"Arama yapmak iin yazn"}):o.jsx("div",{className:"divide-y",children:d.slice(0,10).map(m=>o.jsxs("div",{className:`p-3 cursor-pointer hover:bg-gray-50 flex items-center justify-between ${(i==null?void 0:i.id)===m.id?"bg-blue-50":""}`,onClick:()=>l(m),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ss,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:[m.firstName," ",m.lastName]}),o.jsxs("div",{className:"text-sm text-gray-500",children:[m.tcNumber&&`TC: ${m.tcNumber}`,m.phone&&`  Tel: ${m.phone}`]})]})]}),(i==null?void 0:i.id)===m.id&&o.jsx(yF,{className:"w-4 h-4 text-blue-600"})]},m.id))})}),o.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t",children:[o.jsx(de,{variant:"ghost",onClick:t,children:"ptal"}),o.jsx(de,{onClick:f,disabled:!i,children:"Se"})]})]})})},OU=[{value:"sgk_reete",label:"SGK Reete"},{value:"sgk_rapor",label:"SGK Rapor"},{value:"odyometri_sonucu",label:"Odyometri Sonucu"},{value:"garanti_belgesi",label:"Garanti Belgesi"},{value:"kimlik",label:"Kimlik"},{value:"diger",label:"Dier"}],IU=({isOpen:e,onClose:t,onSelect:r,currentType:s})=>{const[n,a]=F.useState(s||""),i=()=>{n&&r(n)};return o.jsx(ar,{isOpen:e,onClose:t,title:"Dokman Tr Se",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Dokman Tr"}),o.jsxs("select",{value:n,onChange:l=>a(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Tr sein"}),OU.map(l=>o.jsx("option",{value:l.value,children:l.label},l.value))]})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsxs("p",{children:["Otomatik olarak belirlenen tr: ",o.jsx("strong",{children:s||"Belirlenemedi"})]}),o.jsx("p",{className:"mt-1",children:"Gerekirse manuel olarak deitirebilirsiniz."})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t",children:[o.jsx(de,{variant:"ghost",onClick:t,children:"ptal"}),o.jsx(de,{onClick:i,disabled:!n,children:"Se"})]})]})})},MU=({results:e,isProcessing:t,onRetry:r})=>{var p;const[s,n]=F.useState(null),[a,i]=F.useState(!1),[l,u]=F.useState(!1),c=e.filter(m=>m.status==="processed"),d=e.filter(m=>m.status==="error"),f=(m,x)=>{console.log("Patient selected:",x,"for result:",m),i(!1)},h=(m,x)=>{console.log("Document type selected:",x,"for result:",m),u(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"leme Sonular"}),o.jsx(de,{onClick:r,variant:"outline",children:"Tekrar Ykle"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(Ot,{children:[o.jsx(Td,{className:"pb-2",children:o.jsxs(Ad,{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(ii,{className:"w-4 h-4"}),"Toplam Dosya"]})}),o.jsx(jd,{children:o.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),o.jsxs(Ot,{children:[o.jsx(Td,{className:"pb-2",children:o.jsxs(Ad,{className:"text-sm font-medium flex items-center gap-2 text-green-600",children:[o.jsx(Za,{className:"w-4 h-4"}),"Baarl"]})}),o.jsx(jd,{children:o.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.length})})]}),o.jsxs(Ot,{children:[o.jsx(Td,{className:"pb-2",children:o.jsxs(Ad,{className:"text-sm font-medium flex items-center gap-2 text-red-600",children:[o.jsx(av,{className:"w-4 h-4"}),"Hata"]})}),o.jsx(jd,{children:o.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.length})})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((m,x)=>{var y,g,v,w;return o.jsxs(Ot,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[o.jsx(Td,{className:"pb-2",children:o.jsx(Ad,{className:"text-sm font-medium truncate",children:m.fileName})}),o.jsx(jd,{className:"space-y-3",children:m.status==="processed"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[o.jsx(Za,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"lendi"})]}),(y=m.result)!=null&&y.matched_patient?o.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[o.jsx(ss,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:((g=m.result.matched_patient.patient)==null?void 0:g.fullName)||"Hasta bulundu"})]}):o.jsxs(de,{size:"sm",variant:"outline",onClick:()=>{n(m),i(!0)},className:"w-full",children:[o.jsx(Zi,{className:"w-4 h-4 mr-1"}),"Hasta Se"]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Tr: ",((v=m.result)==null?void 0:v.document_type)||"Belirlenemedi"]}),((w=m.result)==null?void 0:w.pdf_generated)&&o.jsxs("div",{className:"text-xs text-green-600",children:["PDF oluturuldu: ",m.result.pdf_filename]}),o.jsx(de,{size:"sm",variant:"ghost",onClick:()=>n(m),className:"w-full",children:"nizle"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[o.jsx(av,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Hata"})]}),o.jsx("div",{className:"text-xs text-red-500",children:m.error})]})})]},x)})}),s&&o.jsx(dz,{result:s,isOpen:!!s,onClose:()=>n(null),onChangeDocumentType:()=>{u(!0)}}),a&&s&&o.jsx(PU,{isOpen:a,onClose:()=>i(!1),onSelect:m=>f(s,m),ocrResult:s.result}),l&&s&&o.jsx(IU,{isOpen:l,onClose:()=>u(!1),onSelect:m=>h(s,m),currentType:(p=s.result)==null?void 0:p.document_type})]})},LU=()=>{const[e,t]=F.useState(!1),[r,s]=F.useState([]),[n,a]=F.useState(!1),i=u=>{s(u),a(!1)},l=()=>{a(!0)};return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold",children:"SGK Dokman leme"}),o.jsx(de,{onClick:()=>t(!0),children:"Toplu Grsel Ykle"})]}),r.length>0&&o.jsx(MU,{results:r,isProcessing:n,onRetry:()=>t(!0)}),!r.length&&!n&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-500 mb-4",children:"SGK reeteleri, raporlar ve dier dokmanlar ilemek iin grselleri ykleyin"}),o.jsx(de,{onClick:()=>t(!0),children:"Grsel Yklemeye Bala"})]}),o.jsx(uz,{isOpen:e,onClose:()=>t(!1),onUploadStart:l,onUploadComplete:i})]})},BU=Lr("/sgk")({component:LU});function zU(){const e=Fl(),{patientId:t}=zu({strict:!1}),[r,s]=F.useState(""),[n,a]=F.useState(!1),[i,l]=F.useState([]),[u,c]=F.useState(!1),{patients:d,isLoading:f,error:h}=LN(),p={total:(d==null?void 0:d.length)||0,active:(d==null?void 0:d.filter(b=>b.status==="active").length)||0,inactive:(d==null?void 0:d.filter(b=>b.status==="inactive").length)||0,withDevices:0},m=b=>{s(b)},x=()=>{window.location.reload()},y=()=>{c(!0)},g=(b,D)=>{l(D?A=>[...A,b]:A=>A.filter(_=>_!==b))},v=b=>{e({to:`/patients/${b.id}`})},w=d.filter(b=>{var A,_,S,k;if(!r)return!0;const D=r.toLowerCase();return((A=b.firstName)==null?void 0:A.toLowerCase().includes(D))||((_=b.lastName)==null?void 0:_.toLowerCase().includes(D))||((S=b.tcNumber)==null?void 0:S.toLowerCase().includes(D))||((k=b.phone)==null?void 0:k.toLowerCase().includes(D))});return t?o.jsx(Vf,{}):o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Hastalar"}),o.jsx("p",{className:"text-gray-600",children:"Hasta kaytlarn ynetin"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(de,{variant:"outline",onClick:x,disabled:f,children:[o.jsx(Kf,{className:`w-4 h-4 mr-2 ${f?"animate-spin":""}`}),"Yenile"]}),o.jsxs(de,{onClick:y,children:[o.jsx(pa,{className:"w-4 h-4 mr-2"}),"Yeni Hasta"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-white p-4 rounded-lg border",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(qs,{className:"w-8 h-8 text-blue-500"}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Toplam Hasta"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.total})]})]})}),o.jsx("div",{className:"bg-white p-4 rounded-lg border",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Za,{className:"w-8 h-8 text-green-500"}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aktif"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.active})]})]})}),o.jsx("div",{className:"bg-white p-4 rounded-lg border",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(_F,{className:"w-8 h-8 text-orange-500"}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pasif"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.inactive})]})]})}),o.jsx("div",{className:"bg-white p-4 rounded-lg border",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Xb,{className:"w-8 h-8 text-purple-500"}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cihazl"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.withDevices})]})]})})]}),o.jsxs(Hr,{defaultValue:"list",className:"w-full",children:[o.jsxs(qb,{className:"grid w-full grid-cols-4",children:[o.jsx(cc,{value:"list",children:"Hasta Listesi"}),o.jsx(cc,{value:"bulk",children:"Toplu lemler"}),o.jsx(cc,{value:"search",children:"Gelimi Arama"}),o.jsx(cc,{value:"matching",children:"Hasta Eletirme"})]}),o.jsxs(uc,{value:"list",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(qe,{placeholder:"Hasta ara (ad, soyad, TC, telefon)...",value:r,onChange:b=>m(b.target.value),className:"pl-10"})]})}),o.jsxs(de,{variant:"outline",onClick:()=>a(!n),children:[o.jsx(cu,{className:"w-4 h-4 mr-2"}),"Filtreler"]})]}),o.jsxs("div",{className:"bg-white rounded-lg border",children:[h&&o.jsx("div",{className:"p-4 bg-red-50 border-b border-red-200",children:o.jsxs("p",{className:"text-red-600",children:["Hata: ",typeof h=="string"?h:"Bir hata olutu"]})}),f?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Hastalar ykleniyor..."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left",children:o.jsx("input",{type:"checkbox",className:"rounded border-gray-300",onChange:b=>{b.target.checked?l(w.map(D=>D.id)):l([])}})}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Ad Soyad"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"TC Kimlik"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Telefon"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Durum"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Kayt Tarihi"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:"lemler"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:w.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:r?"Arama kriterlerine uygun hasta bulunamad.":"Henz hasta kayd bulunmuyor."})}):w.map(b=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:i.includes(b.id),onChange:D=>g(b.id,D.target.checked)})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"font-medium text-gray-900",children:[b.firstName," ",b.lastName]})}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:b.tcNumber}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:b.phone}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.status==="active"?"Aktif":"Pasif"})}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:b.createdAt?new Date(b.createdAt).toLocaleDateString("tr-TR"):"-"}),o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsx(de,{variant:"outline",size:"sm",onClick:()=>v(b),children:"Grntle"})})]},b.id))})]})})]})]}),o.jsx(uc,{value:"bulk",className:"space-y-4",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Toplu lemler"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CSV Dosyas Ykle"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[o.jsx(G0,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"CSV dosyasn srkleyip brakn veya sein"}),o.jsx(de,{variant:"outline",className:"mt-2",children:"Dosya Se"})]})]})})]})}),o.jsx(uc,{value:"search",className:"space-y-4",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Gelimi Arama"}),o.jsx("p",{className:"text-gray-600",children:"Gelimi arama zellikleri yaknda eklenecek."})]})}),o.jsx(uc,{value:"matching",className:"space-y-4",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Hasta Eletirme"}),o.jsx("p",{className:"text-gray-600",children:"Hasta eletirme zellikleri yaknda eklenecek."})]})})]})]})}const UU=Lr("/patients")({component:zU}),$U=Lr("/invoices")({component:VU});function VU(){return o.jsx(Vf,{})}const HU=Lr("/inventory")({component:WU});function WU(){return o.jsx(oF,{})}const KU=Lr("/appointments")({component:GU});function GU(){return o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Randevular"}),o.jsx("div",{className:"border rounded-lg p-4",children:o.jsx("p",{children:"Randevu takvimi burada grntlenecek..."})})]})}const qU=({stats:e,onCardClick:t})=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(Fa,{title:"Toplam Hasta",value:e.totalPatients.toString(),icon:o.jsx(qs,{className:"w-6 h-6"}),color:"blue",trend:{value:"+12%",direction:"up"},onClick:()=>t==null?void 0:t("patients")}),o.jsx(Fa,{title:"Aktif Denemeler",value:e.activeTrials.toString(),icon:o.jsx(uF,{className:"w-6 h-6"}),color:"green",trend:{value:"+5%",direction:"up"},onClick:()=>t==null?void 0:t("trials")}),o.jsx(Fa,{title:"Aylk Ciro",value:`${e.monthlyRevenue.toLocaleString()}`,icon:o.jsx(KF,{className:"w-6 h-6"}),color:"purple",trend:{value:"+8%",direction:"up"},onClick:()=>t==null?void 0:t("revenue")}),o.jsx(Fa,{title:"Bugnk Randevular",value:e.todayAppointments.toString(),icon:o.jsx(Xn,{className:"w-6 h-6"}),color:"yellow",trend:{value:"3 bekleyen",direction:"neutral"},onClick:()=>t==null?void 0:t("appointments")})]}),YU=({stats:e})=>{const t=n=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),r=[{label:"Aktif Hastalar",value:e.activePatients,icon:qs,color:"blue"},{label:"Gnlk Ciro",value:t(e.dailyRevenue),icon:kg,color:"green"},{label:"Bekleyen Randevular",value:e.pendingAppointments,icon:Xn,color:"orange"},{label:"Biten Denemeler",value:e.endingTrials,icon:Qi,color:"yellow"}],s=n=>({blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",orange:"bg-orange-100 text-orange-600",yellow:"bg-yellow-100 text-yellow-600"})[n]||"bg-gray-100 text-gray-600";return o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hzl statistikler"}),o.jsx("div",{className:"space-y-4",children:r.map((n,a)=>{const i=n.icon;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${s(n.color)}`,children:o.jsx(i,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-sm text-gray-600",children:n.label})]}),o.jsx("span",{className:`text-lg font-semibold ${n.color==="green"?"text-green-600":n.color==="orange"?"text-orange-600":n.color==="yellow"?"text-yellow-600":"text-gray-900"}`,children:n.value})]},a)})})]})},XU=({lastTransaction:e,onClick:t})=>o.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg p-8 cursor-pointer hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:t,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-4 bg-green-100 rounded-full",children:o.jsx(Qb,{className:"w-8 h-8 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xl font-bold text-gray-900",children:"Kasa Kayd"}),o.jsx("p",{className:"text-lg text-green-700 font-medium",children:"Hzl Giri"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gelir ve gider ilemlerinizi kolayca kaydedin"})]})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Son ilem"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(e==null?void 0:e.amount)||"-"}),o.jsx("p",{className:"text-xs text-gray-500",children:(e==null?void 0:e.date)||"-"})]}),o.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm",children:o.jsx(pa,{className:"w-6 h-6 text-green-600"})})]})]})}),QU=({lastCalculation:e,onClick:t})=>o.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-lg p-8 cursor-pointer hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:t,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-4 bg-blue-100 rounded-full",children:o.jsx(Yb,{className:"w-8 h-8 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xl font-bold text-gray-900",children:"Fiyat Hesapla"}),o.jsx("p",{className:"text-lg text-blue-700 font-medium",children:"SGK Destei"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cihaz fiyatlarn SGK destekleriyle hesaplayn"})]})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Son hesaplama"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(e==null?void 0:e.amount)||"-"}),o.jsx("p",{className:"text-xs text-gray-500",children:(e==null?void 0:e.date)||"-"})]}),o.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm",children:o.jsx(Qi,{className:"w-6 h-6 text-blue-600"})})]})]})}),ZU=({isOpen:e,onClose:t,onSubmit:r})=>{const[s,n]=F.useState({type:"income",recordType:"cash",amount:0,description:""}),a=()=>{s.amount>0&&s.description.trim()&&(r(s),t(),n({type:"income",recordType:"cash",amount:0,description:""}))};return o.jsx(ar,{isOpen:e,onClose:t,onSave:a,title:"Kasa lemi",size:"md",saveButtonText:"Kaydet",cancelButtonText:"ptal",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"lem Tr"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx(de,{type:"button",onClick:()=>n({...s,type:"income"}),className:`flex-1 py-2 px-4 rounded-lg border ${s.type==="income"?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 text-gray-700"}`,variant:"default",children:"Gelir"}),o.jsx(de,{type:"button",onClick:()=>n({...s,type:"expense"}),className:`flex-1 py-2 px-4 rounded-lg border ${s.type==="expense"?"bg-red-50 border-red-200 text-red-700":"bg-gray-50 border-gray-200 text-gray-700"}`,variant:"default",children:"Gider"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kayt Tr"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"cash",label:"Nakit",icon:kg},{value:"card",label:"Kart",icon:wg},{value:"transfer",label:"Havale",icon:VF}].map(({value:i,label:l,icon:u})=>o.jsxs(de,{type:"button",onClick:()=>n({...s,recordType:i}),className:`flex flex-col items-center py-3 px-2 rounded-lg border ${s.recordType===i?"bg-blue-50 border-blue-200 text-blue-700":"bg-gray-50 border-gray-200 text-gray-700"}`,variant:"default",children:[o.jsx(u,{className:"w-5 h-5 mb-1"}),o.jsx("span",{className:"text-sm",children:l})]},i))})]}),o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(ur,{label:"Hasta (Opsiyonel)",value:s.patientId||"",onChange:i=>n({...s,patientId:i.target.value||void 0}),options:[{value:"",label:"Hasta sein..."},{value:"1",label:"Ahmet Ylmaz"},{value:"2",label:"Aye Kaya"},{value:"3",label:"Mehmet Demir"}],className:"pl-10",fullWidth:!0})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tutar ()"}),o.jsx(qe,{type:"number",value:s.amount||"",onChange:i=>n({...s,amount:parseFloat(i.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",min:"0",step:"0.01"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aklama"}),o.jsx(Uu,{value:s.description,onChange:i=>n({...s,description:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"lem aklamas...",rows:3})]})]})})},JU=({isOpen:e,onClose:t,onCalculate:r})=>{const[s,n]=F.useState(0),[a,i]=F.useState(0),[l,u]=F.useState(0),[c,d]=F.useState(1),[f,h]=F.useState({devicePrice:0,discountPercent:0,discountAmount:0,finalPrice:0}),p=[{name:"Temel Model",price:15e3},{name:"Orta Seviye",price:25e3},{name:"Premium Model",price:45e3},{name:"Lks Model",price:65e3}];F.useEffect(()=>{const v=s-l,w=c>1?v/c:v;h({devicePrice:s,discountPercent:a,discountAmount:l,finalPrice:Math.max(0,v),installments:c>1?c:void 0,installmentAmount:c>1?w:void 0})},[s,a,l,c]);const m=v=>{i(v),u(s*v/100)},x=v=>{u(v),i(s>0?v/s*100:0)},y=v=>{if(v.preventDefault(),s<=0){alert("Ltfen geerli bir cihaz fiyat giriniz");return}r(f),t()},g=()=>{n(0),i(0),u(0),d(1)};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[o.jsx(Yb,{className:"w-6 h-6 mr-2 text-blue-600"}),"Fiyat Hesaplama"]}),o.jsx(de,{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",variant:"default",children:o.jsx(fs,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hzl Cihaz Seimi"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(v=>o.jsxs(de,{type:"button",onClick:()=>n(v.price),className:"p-2 text-sm border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",variant:"default",children:[o.jsx("div",{className:"font-medium",children:v.name}),o.jsxs("div",{className:"text-gray-600",children:[v.price.toLocaleString("tr-TR")," "]})]},v.name))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(kg,{className:"w-4 h-4 inline mr-1"}),"Cihaz Fiyat ()"]}),o.jsx(qe,{type:"number",step:"0.01",min:"0",value:s,onChange:v=>n(parseFloat(v.target.value)||0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(BF,{className:"w-4 h-4 inline mr-1"}),"ndirim (%)"]}),o.jsx(qe,{type:"number",step:"0.1",min:"0",max:"100",value:a,onChange:v=>m(parseFloat(v.target.value)||0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ndirim Tutar ()"}),o.jsx(qe,{type:"number",step:"0.01",min:"0",value:l,onChange:v=>x(parseFloat(v.target.value)||0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]})]}),o.jsx("div",{children:o.jsx(ur,{label:"Taksit Says",value:c,onChange:v=>d(parseInt(v.target.value)),options:[{value:"1",label:"Pein"},{value:"2",label:"2 Taksit"},{value:"3",label:"3 Taksit"},{value:"6",label:"6 Taksit"},{value:"9",label:"9 Taksit"},{value:"12",label:"12 Taksit"}],fullWidth:!0})}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Hesaplama Sonucu"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Cihaz Fiyat:"}),o.jsxs("span",{className:"font-medium",children:[s.toLocaleString("tr-TR")," "]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"ndirim:"}),o.jsxs("span",{className:"font-medium text-red-600",children:["-",l.toLocaleString("tr-TR"),"  (",a.toFixed(1),"%)"]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-2",children:[o.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[o.jsx("span",{children:"Toplam:"}),o.jsxs("span",{className:"text-green-600",children:[f.finalPrice.toLocaleString("tr-TR")," "]})]}),f.installmentAmount&&o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mt-1",children:[o.jsx("span",{children:"Taksit Tutar:"}),o.jsxs("span",{children:[f.installmentAmount.toLocaleString("tr-TR"),"  x ",c]})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(de,{type:"button",onClick:g,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",variant:"default",children:"Temizle"}),o.jsx(de,{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",variant:"default",children:"ptal"}),o.jsx(de,{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",variant:"default",children:"Hesaplamay Kaydet"})]})]})]})}):null},e$=()=>{const[e,t]=F.useState({stats:{totalPatients:0,todayAppointments:0,monthlyRevenue:0,activeTrials:0,activePatients:0,dailyRevenue:0,pendingAppointments:0,endingTrials:0},loading:!0,error:null});return F.useEffect(()=>{(async()=>{try{await new Promise(i=>setTimeout(i,500)),t({stats:{totalPatients:156,todayAppointments:8,monthlyRevenue:485e3,activeTrials:23,activePatients:142,dailyRevenue:12500,pendingAppointments:5,endingTrials:3},lastTransaction:{amount:"2,500",date:"2 saat nce"},lastCalculation:{amount:"8,750",date:"1 gn nce"},loading:!1,error:null})}catch(s){t(n=>({...n,loading:!1,error:s instanceof Error?s.message:"Veri yklenirken hata olutu"}))}})()},[]),e},t$=Lr("/")({component:r$});function r$(){const{stats:e,lastTransaction:t,lastCalculation:r,loading:s,error:n}=e$(),[a,i]=F.useState("week"),[l,u]=F.useState(!1),[c,d]=F.useState(!1),f=g=>{switch(g){case"patients":window.location.href="/patients";break;case"trials":window.location.href="/patients?filter=trial";break;case"revenue":window.location.href="/reports";break;case"appointments":window.location.href="/appointments";break}},h=()=>{u(!0)},p=()=>{d(!0)},m=g=>{console.log("Cash register data:",g)},x=g=>{console.log("Pricing calculation data:",g)},y=()=>{window.location.reload()};return s?o.jsx("div",{className:"flex items-center justify-center min-h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n?o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-red-600",children:["Hata: ",n]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4 rounded-lg shadow-sm",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(ur,{value:a,onChange:g=>i(g.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",options:[{value:"today",label:"Bugn"},{value:"week",label:"Son 1 Hafta"},{value:"month",label:"Son 1 Ay"},{value:"quarter",label:"Son eyrek"}]}),o.jsx(de,{onClick:y,className:"p-2 text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",variant:"secondary",children:o.jsx(Kf,{className:"w-5 h-5"})})]})})}),o.jsx(qU,{stats:{totalPatients:e.totalPatients,todayAppointments:e.todayAppointments,monthlyRevenue:e.monthlyRevenue,activeTrials:e.activeTrials},onCardClick:f}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(XU,{lastTransaction:t,onClick:h}),o.jsx(QU,{lastCalculation:r,onClick:p}),o.jsx(YU,{stats:{activePatients:e.activePatients,dailyRevenue:e.dailyRevenue,pendingAppointments:e.pendingAppointments,endingTrials:e.endingTrials}})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Trend Analizi"}),o.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:o.jsx("p",{className:"text-gray-500",children:"Chart component will be implemented here"})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hasta Dalm"}),o.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:o.jsx("p",{className:"text-gray-500",children:"Chart component will be implemented here"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cihaz Dalm"}),o.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:o.jsx("p",{className:"text-gray-500",children:"Device distribution chart"})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Son Aktiviteler"}),o.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:o.jsx("p",{className:"text-gray-500",children:"Recent activities list"})})]})]}),o.jsx(ZU,{isOpen:l,onClose:()=>u(!1),onSubmit:m}),o.jsx(JU,{isOpen:c,onClose:()=>d(!1),onCalculate:x})]})}class s${constructor(){mt(this,"STORAGE_KEYS",{messages:"communication_messages",templates:"communication_templates",outbox:"communication_outbox",syncMetadata:"communication_sync_metadata"});mt(this,"syncInProgress",!1);mt(this,"listeners",new Set)}addListener(t){this.listeners.add(t)}removeListener(t){this.listeners.delete(t)}notifyListeners(){this.listeners.forEach(t=>t())}async saveMessage(t){const r=this.getMessages(),s={...t,syncStatus:"pending",updatedAt:new Date().toISOString()};r.push(s),localStorage.setItem(this.STORAGE_KEYS.messages,JSON.stringify(r)),this.addToOutbox("create","message",t.id,s),this.notifyListeners(),navigator.onLine&&this.syncOutbox()}async updateMessage(t,r){const s=this.getMessages(),n=s.findIndex(a=>a.id===t);if(n===-1)throw new Error("Message not found");s[n]={...s[n],...r,syncStatus:"pending",updatedAt:new Date().toISOString()},localStorage.setItem(this.STORAGE_KEYS.messages,JSON.stringify(s)),this.addToOutbox("update","message",t,r),this.notifyListeners(),navigator.onLine&&this.syncOutbox()}getMessages(t){const r=localStorage.getItem(this.STORAGE_KEYS.messages);let s=r?JSON.parse(r):[];if(t!=null&&t.type&&(s=s.filter(n=>n.type===t.type)),t!=null&&t.status&&(s=s.filter(n=>n.status===t.status)),t!=null&&t.patientId&&(s=s.filter(n=>n.patientId===t.patientId)),s.sort((n,a)=>new Date(a.createdAt).getTime()-new Date(n.createdAt).getTime()),t!=null&&t.offset||t!=null&&t.limit){const n=t.offset||0,a=t.limit?n+t.limit:void 0;s=s.slice(n,a)}return s}async saveTemplate(t){const r=this.getTemplates(),s={...t,syncStatus:"pending"};r.push(s),localStorage.setItem(this.STORAGE_KEYS.templates,JSON.stringify(r)),this.addToOutbox("create","template",t.id,s),this.notifyListeners(),navigator.onLine&&this.syncOutbox()}async updateTemplate(t,r){const s=this.getTemplates(),n=s.findIndex(a=>a.id===t);if(n===-1)throw new Error("Template not found");s[n]={...s[n],...r,syncStatus:"pending",updatedAt:new Date().toISOString()},localStorage.setItem(this.STORAGE_KEYS.templates,JSON.stringify(s)),this.addToOutbox("update","template",t,r),this.notifyListeners(),navigator.onLine&&this.syncOutbox()}async deleteTemplate(t){const s=this.getTemplates().filter(n=>n.id!==t);localStorage.setItem(this.STORAGE_KEYS.templates,JSON.stringify(s)),this.addToOutbox("delete","template",t,null),this.notifyListeners(),navigator.onLine&&this.syncOutbox()}getTemplates(t){const r=localStorage.getItem(this.STORAGE_KEYS.templates);let s=r?JSON.parse(r):[];return t!=null&&t.type&&(s=s.filter(n=>n.templateType===t.type)),t!=null&&t.category&&(s=s.filter(n=>n.category===t.category)),(t==null?void 0:t.active)!==void 0&&(s=s.filter(n=>n.isActive===t.active)),s.sort((n,a)=>n.name.localeCompare(a.name)),s}addToOutbox(t,r,s,n){const a=localStorage.getItem(this.STORAGE_KEYS.outbox),i=a?JSON.parse(a):[];i.push({id:`${r}_${t}_${s}_${Date.now()}`,action:t,entityType:r,entityId:s,data:n,createdAt:new Date().toISOString(),retryCount:0}),localStorage.setItem(this.STORAGE_KEYS.outbox,JSON.stringify(i))}async syncOutbox(){if(!(this.syncInProgress||!navigator.onLine)){this.syncInProgress=!0,this.notifyListeners();try{const t=localStorage.getItem(this.STORAGE_KEYS.outbox),r=t?JSON.parse(t):[],s=[];for(const n of r)try{await this.syncOutboxItem(n)}catch(a){console.error("Failed to sync outbox item:",n.id,a),n.retryCount++,n.lastRetryAt=new Date().toISOString(),n.error=a instanceof Error?a.message:"Unknown error",s.push(n)}localStorage.setItem(this.STORAGE_KEYS.outbox,JSON.stringify(s))}finally{this.syncInProgress=!1,this.notifyListeners()}}}async syncOutboxItem(t){const r="/api/communications",s=t.action==="create"?`${r}/${t.entityType}s`:`${r}/${t.entityType}s/${t.entityId}`,n=t.action==="create"?"POST":t.action==="update"?"PUT":"DELETE",a=await fetch(s,{method:n,headers:{"Content-Type":"application/json","Idempotency-Key":`offline_${t.id}`},body:t.action!=="delete"?JSON.stringify(t.data):void 0});if(!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);if(t.action!=="delete"){if(t.entityType==="message"){const i=this.getMessages(),l=i.findIndex(u=>u.id===t.entityId);l!==-1&&(i[l].syncStatus="synced",localStorage.setItem(this.STORAGE_KEYS.messages,JSON.stringify(i)))}else if(t.entityType==="template"){const i=this.getTemplates(),l=i.findIndex(u=>u.id===t.entityId);l!==-1&&(i[l].syncStatus="synced",localStorage.setItem(this.STORAGE_KEYS.templates,JSON.stringify(i)))}}}async syncFromServer(){if(navigator.onLine)try{await Promise.all([this.syncMessagesFromServer(),this.syncTemplatesFromServer()]),this.notifyListeners()}catch(t){console.error("Failed to sync from server:",t)}}async syncMessagesFromServer(){const t=await fetch("/api/communications/messages?limit=1000");if(!t.ok)return;const r=await t.json();if(!r.success)return;const s=r.data.map(i=>({...i,syncStatus:"synced"})),n=this.getMessages(),a=[...s];n.forEach(i=>{s.find(l=>l.id===i.id)||a.push(i)}),localStorage.setItem(this.STORAGE_KEYS.messages,JSON.stringify(a))}async syncTemplatesFromServer(){const t=await fetch("/api/communications/templates?limit=1000");if(!t.ok)return;const r=await t.json();if(!r.success)return;const s=r.data.map(i=>({...i,syncStatus:"synced"})),n=this.getTemplates(),a=[...s];n.forEach(i=>{s.find(l=>l.id===i.id)||a.push(i)}),localStorage.setItem(this.STORAGE_KEYS.templates,JSON.stringify(a))}getPendingSyncCount(){const t=this.getMessages().filter(a=>a.syncStatus==="pending"),r=this.getTemplates().filter(a=>a.syncStatus==="pending"),s=localStorage.getItem(this.STORAGE_KEYS.outbox),n=s?JSON.parse(s):[];return{messages:t.length,templates:r.length,outbox:n.length}}isOnline(){return navigator.onLine}isSyncInProgress(){return this.syncInProgress}}const er=new s$,n$=()=>{const[e,t]=F.useState({isOnline:navigator.onLine,isSyncing:!1,pendingCount:{messages:0,templates:0,outbox:0}}),r=F.useCallback(()=>{t({isOnline:er.isOnline(),isSyncing:er.isSyncInProgress(),pendingCount:er.getPendingSyncCount()})},[]);F.useEffect(()=>{r();const f=()=>{r(),er.syncOutbox(),er.syncFromServer()},h=()=>{r()};window.addEventListener("online",f),window.addEventListener("offline",h),er.addListener(r);const p=setInterval(()=>{navigator.onLine&&(er.syncOutbox(),er.syncFromServer())},3e4);return()=>{window.removeEventListener("online",f),window.removeEventListener("offline",h),er.removeListener(r),clearInterval(p)}},[r]);const s=F.useCallback(async f=>{await er.saveMessage(f),r()},[r]),n=F.useCallback(async(f,h)=>{await er.updateMessage(f,h),r()},[r]),a=F.useCallback(f=>er.getMessages(f),[]),i=F.useCallback(async f=>{await er.saveTemplate(f),r()},[r]),l=F.useCallback(async(f,h)=>{await er.updateTemplate(f,h),r()},[r]),u=F.useCallback(async f=>{await er.deleteTemplate(f),r()},[r]),c=F.useCallback(f=>er.getTemplates(f),[]),d=F.useCallback(async()=>{await er.syncOutbox(),await er.syncFromServer(),r()},[r]);return{syncStatus:e,saveMessage:s,updateMessage:n,getMessages:a,saveTemplate:i,updateTemplate:l,deleteTemplate:u,getTemplates:c,forcSync:d}},Ew=[{id:"appointment_reminder",name:"Randevu Hatrlatmas",type:"sms",content:"Sayn {{patientName}}, {{appointmentDate}} tarihinde saat {{appointmentTime}}'da randevunuz bulunmaktadr. Teekkrler.",category:"appointment"},{id:"follow_up",name:"Tedavi Sonras Takip",type:"sms",content:"Sayn {{patientName}}, tedaviniz sonras durumunuz nasl? Herhangi bir sorunuz varsa bize ulaabilirsiniz.",category:"follow_up"},{id:"payment_reminder",name:"deme Hatrlatmas",type:"sms",content:"Sayn {{patientName}}, {{amount}} TL tutarndaki demenizin son tarihi {{dueDate}}'dir. Teekkrler.",category:"reminder"},{id:"welcome_email",name:"Ho Geldiniz E-postas",type:"email",subject:"Kliniimize Ho Geldiniz",content:`Sayn {{patientName}},

Kliniimizi tercih ettiiniz iin teekkr ederiz. Size en iyi hizmeti sunmak iin buradayz.

Sayglarmzla,
Klinik Ekibi`,category:"general"}],a$=({patient:e,onClose:t})=>{const[r,s]=F.useState("send"),[n,a]=F.useState("sms"),[i,l]=F.useState(""),[u,c]=F.useState(""),[d,f]=F.useState(""),[h,p]=F.useState(""),[m,x]=F.useState(""),[y,g]=F.useState(!1),[v,w]=F.useState(!1),[b,D]=F.useState(""),[A,_]=F.useState("all"),{getMessages:S,getTemplates:k,saveMessage:N,syncStatus:C}=n$(),{success:E,error:M}=Wf(),Q=F.useMemo(()=>S().filter(T=>T.patientId===e.id||T.recipient===e.phone||T.recipient===e.email),[S,e.id,e.phone,e.email]),Y=F.useMemo(()=>Q.filter(U=>{var T,j;if(A!=="all"&&U.status!==A)return!1;if(b){const L=b.toLowerCase();if(!(((T=U.content)==null?void 0:T.toLowerCase().includes(L))||((j=U.subject)==null?void 0:j.toLowerCase().includes(L))))return!1}return!0}),[Q,A,b]),X=F.useCallback(U=>{l(U);const T=Ew.find(j=>j.id===U);if(T){let j=T.content;const L=`${e.firstName||""} ${e.lastName||""}`.trim();j=j.replace(/\{\{patientName\}\}/g,L||""),j=j.replace(/\{\{patientPhone\}\}/g,e.phone||""),j=j.replace(/\{\{patientEmail\}\}/g,e.email||""),c(j),f(T.subject||""),a(T.type)}},[e]),ee=F.useCallback(async()=>{if(!u.trim()){M("Mesaj ierii bo olamaz");return}const U=n==="sms"?e.phone:e.email;if(!U){M(`Hasta ${n==="sms"?"telefon numaras":"e-posta adresi"} bulunamad`);return}w(!0);try{const T=y&&h&&m?new Date(`${h}T${m}`).toISOString():void 0,j={type:n,recipient:U,recipientName:`${e.firstName||""} ${e.lastName||""}`.trim()||"simsiz Hasta",patientId:e.id,subject:n==="email"?d:void 0,content:u,templateId:i||void 0,scheduledAt:T,status:T?"scheduled":"sent",messageType:"manual",sentAt:T?void 0:new Date().toISOString()};await N({...j,id:`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()}),E(T?"Mesaj zamanland":"Mesaj gnderildi"),c(""),f(""),l(""),g(!1),p(""),x("")}catch(T){M("Mesaj gnderme srasnda hata olutu: "+(T instanceof Error?T.message:"Bilinmeyen hata"))}finally{w(!1)}},[u,n,e,d,y,h,m,i,N,E,M]),te=U=>{switch(U){case"sent":return o.jsx(o0,{className:"w-4 h-4 text-blue-500"});case"delivered":return o.jsx(Za,{className:"w-4 h-4 text-green-500"});case"failed":return o.jsx(ou,{className:"w-4 h-4 text-red-500"});case"scheduled":return o.jsx(Qi,{className:"w-4 h-4 text-yellow-500"});default:return o.jsx(Qi,{className:"w-4 h-4 text-gray-500"})}},R=U=>{switch(U){case"sent":return"Gnderildi";case"delivered":return"Teslim Edildi";case"failed":return"Baarsz";case"scheduled":return"Zamanland";case"draft":return"Taslak";default:return U}},se=U=>{switch(U){case"sent":return"bg-blue-100 text-blue-800";case"delivered":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"scheduled":return"bg-yellow-100 text-yellow-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return C?o.jsxs("div",{className:"space-y-6",children:[o.jsx(Ot,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:o.jsx(ss,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:`${e.firstName||""} ${e.lastName||""}`.trim()||"simsiz Hasta"}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[e.phone&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(yl,{className:"w-4 h-4"}),o.jsx("span",{children:e.phone})]}),e.email&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(hF,{className:"w-4 h-4"}),o.jsx("span",{children:e.email})]})]})]}),t&&o.jsx(de,{variant:"outline",size:"sm",onClick:t,children:"Kapat"})]})}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>s("send"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="send"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(o0,{className:"w-4 h-4"}),o.jsx("span",{children:"Mesaj Gnder"})]})}),o.jsx("button",{onClick:()=>s("history"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(EF,{className:"w-4 h-4"}),o.jsxs("span",{children:["Mesaj Gemii (",Q.length,")"]})]})})]})}),r==="send"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ot,{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Mesaj Tr"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"messageType",value:"sms",checked:n==="sms",onChange:U=>a(U.target.value),className:"mr-2"}),o.jsx(Ga,{className:"w-4 h-4 mr-1"}),"SMS"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"messageType",value:"email",checked:n==="email",onChange:U=>a(U.target.value),className:"mr-2"}),o.jsx(gl,{className:"w-4 h-4 mr-1"}),"E-posta"]})]})]}),o.jsxs(Ot,{className:"p-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Hzl ablonlar"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Ew.filter(U=>U.type===n).map(U=>o.jsxs("button",{onClick:()=>X(U.id),className:`p-3 text-left border rounded-lg hover:bg-gray-50 transition-colors ${i===U.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[o.jsx("div",{className:"font-medium text-sm text-gray-900",children:U.name}),o.jsx("div",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:U.content})]},U.id))})]}),o.jsx(Ot,{className:"p-4",children:o.jsxs("div",{className:"space-y-4",children:[n==="email"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),o.jsx(qe,{value:d,onChange:U=>f(U.target.value),placeholder:"E-posta konusu"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesaj erii"}),o.jsx(Uu,{value:u,onChange:U=>c(U.target.value),placeholder:`${n==="sms"?"SMS":"E-posta"} ieriini yazn...`,rows:n==="sms"?4:8,className:"resize-none"}),n==="sms"&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.length,"/160 karakter"]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx($n,{checked:y,onChange:U=>g(U.target.checked)}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mesaj zamanla"})]}),y&&o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih"}),o.jsx(qe,{type:"date",value:h,onChange:U=>p(U.target.value),min:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saat"}),o.jsx(qe,{type:"time",value:m,onChange:U=>x(U.target.value)})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(de,{onClick:ee,disabled:v||!u.trim(),className:"flex items-center space-x-2",children:[v?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):o.jsx(o0,{className:"w-4 h-4"}),o.jsx("span",{children:y?"Zamanla":"Gnder"})]})})]})})]}),r==="history"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ot,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(qe,{placeholder:"Mesajlarda ara...",value:b,onChange:U=>D(U.target.value),className:"w-full"})}),o.jsx(ur,{value:A,onChange:U=>_(U.target.value),options:[{value:"all",label:"Tm Durumlar"},{value:"sent",label:"Gnderildi"},{value:"delivered",label:"Teslim Edildi"},{value:"failed",label:"Baarsz"},{value:"scheduled",label:"Zamanland"}]})]})}),Y.length>0?o.jsx("div",{className:"space-y-3",children:Y.map(U=>o.jsx(Ot,{className:"p-4",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[U.type==="sms"?o.jsx(Ga,{className:"w-4 h-4 text-blue-500"}):o.jsx(gl,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{className:"font-medium text-sm",children:U.type.toUpperCase()})]}),o.jsx(Qr,{className:se(U.status),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[te(U.status),o.jsx("span",{children:R(U.status)})]})})]}),U.subject&&o.jsx("div",{className:"font-medium text-gray-900 mb-1",children:U.subject}),o.jsx("div",{className:"text-sm text-gray-700 mb-2 line-clamp-3",children:U.content}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[o.jsxs("span",{children:["Oluturulma: ",new Date(U.createdAt).toLocaleString("tr-TR")]}),U.sentAt&&o.jsxs("span",{children:["Gnderilme: ",new Date(U.sentAt).toLocaleString("tr-TR")]}),U.deliveredAt&&o.jsxs("span",{children:["Teslim: ",new Date(U.deliveredAt).toLocaleString("tr-TR")]})]})]})})},U.id))}):o.jsxs(Ot,{className:"p-8 text-center",children:[o.jsx(Ga,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Mesaj bulunamad"}),o.jsx("p",{className:"text-gray-600",children:b||A!=="all"?"Arama kriterlerinize uygun mesaj bulunamad.":"Bu hasta ile henz mesaj alverii yaplmam."})]})]})]}):o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"letiim sistemi ykleniyor..."})]})})};function rc({field:e,label:t,sortBy:r,sortOrder:s,onSort:n}){const a=r===e;return o.jsxs("button",{onClick:()=>n==null?void 0:n(e),className:`flex items-center space-x-1 text-left font-medium text-gray-700 hover:text-gray-900 ${a?"text-blue-600":""}`,children:[o.jsx("span",{children:t}),a&&o.jsx("span",{className:"text-xs",children:s==="asc"?"":""})]})}function i$({patients:e,loading:t=!1,selectedPatients:r=[],onPatientSelect:s,onPatientClick:n,onEdit:a,onDelete:i,onBulkAction:l,showSelection:u=!1,showActions:c=!0,viewMode:d="list",sortBy:f,sortOrder:h,onSort:p,className:m=""}){const[x,y]=F.useState(null),[g,v]=F.useState(null),w=F.useMemo(()=>e.length>0&&e.every(k=>k.id&&r.includes(k.id)),[e,r]),b=F.useMemo(()=>r.length>0&&!w,[r,w]),D=F.useCallback(()=>{w?e.forEach(k=>k.id&&(s==null?void 0:s(k.id))):e.forEach(k=>{k.id&&!r.includes(k.id)&&(s==null||s(k.id))})},[e,r,w,s]),A=k=>{switch(k){case"active":return o.jsx(Qr,{variant:"success",size:"sm",children:"Aktif"});case"inactive":return o.jsx(Qr,{variant:"warning",size:"sm",children:"Pasif"});default:return o.jsx(Qr,{variant:"secondary",size:"sm",children:"Bilinmiyor"})}},_=k=>{if(!k)return"-";try{return new Date(k).toLocaleDateString("tr-TR")}catch{return"-"}},S=k=>{if(!k)return"-";const N=k.replace(/\D/g,"");return N.length===11&&N.startsWith("0")?`${N.slice(0,4)} ${N.slice(4,7)} ${N.slice(7,9)} ${N.slice(9)}`:k};return t?o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(wp,{size:"lg"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Hastalar ykleniyor..."})]}):e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ss,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Hasta bulunamad"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Arama kriterlerinizi deitirmeyi deneyin."})]}):d==="grid"?o.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 ${m}`,children:e.map(k=>o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>n==null?void 0:n(k),onMouseEnter:()=>y(k.id||null),onMouseLeave:()=>y(null),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[u&&o.jsx($n,{checked:k.id?r.includes(k.id):!1,onChange:()=>k.id&&(s==null?void 0:s(k.id)),onClick:N=>N.stopPropagation()}),o.jsxs("h3",{className:"text-sm font-medium text-gray-900",children:[k.firstName," ",k.lastName]})]}),o.jsxs("div",{className:"mt-2 space-y-1",children:[k.tcNumber&&o.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[o.jsx(wg,{className:"h-3 w-3 mr-1"}),k.tcNumber]}),k.phone&&o.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[o.jsx(yl,{className:"h-3 w-3 mr-1"}),S(k.phone)]}),k.email&&o.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[o.jsx(gl,{className:"h-3 w-3 mr-1"}),k.email]})]}),o.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[A(k.status),k.createdAt&&o.jsx("span",{className:"text-xs text-gray-400",children:_(k.createdAt)})]})]}),c&&x===k.id&&o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(de,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),a==null||a(k)},children:o.jsx(K0,{className:"h-3 w-3"})}),o.jsx(de,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),i==null||i(k)},children:o.jsx(_n,{className:"h-3 w-3"})})]})]})},k.id))}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`bg-white shadow-sm border border-gray-200 rounded-lg overflow-hidden ${m}`,children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[u&&o.jsx("th",{className:"px-4 py-3 text-left w-12",children:o.jsx($n,{checked:w,indeterminate:b,onChange:D})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:o.jsx(rc,{field:"firstName",label:"Ad Soyad",sortBy:f,sortOrder:h,onSort:p})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:o.jsx(rc,{field:"tcNumber",label:"TC Kimlik",sortBy:f,sortOrder:h,onSort:p})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px]",children:o.jsx(rc,{field:"phone",label:"Telefon",sortBy:f,sortOrder:h,onSort:p})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:o.jsx(rc,{field:"status",label:"Durum",sortBy:f,sortOrder:h,onSort:p})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:o.jsx(rc,{field:"createdAt",label:"Kayt Tarihi",sortBy:f,sortOrder:h,onSort:p})}),c&&o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[160px]",children:"lemler"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(k=>o.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors duration-150",onClick:()=>n==null?void 0:n(k),onMouseEnter:()=>y(k.id||null),onMouseLeave:()=>y(null),children:[u&&o.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:o.jsx($n,{checked:k.id?r.includes(k.id):!1,onChange:()=>k.id&&(s==null?void 0:s(k.id)),onClick:N=>N.stopPropagation()})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:o.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:o.jsx(ss,{className:"h-5 w-5 text-blue-600"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[k.firstName," ",k.lastName]}),k.email&&o.jsx("div",{className:"text-sm text-gray-500 truncate max-w-[180px]",children:k.email})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-mono",children:k.tcNumber||"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S(k.phone)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A(k.status)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(k.createdAt)}),c&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[o.jsx(de,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),n==null||n(k)},className:"h-8 w-8 p-0 hover:bg-blue-50 hover:text-blue-600",title:"Grntle",children:o.jsx(Vu,{className:"h-4 w-4"})}),o.jsx(de,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),v(k)},className:"h-8 w-8 p-0 hover:bg-green-50 hover:text-green-600",title:"letiim",children:o.jsx(Ga,{className:"h-4 w-4"})}),o.jsx(de,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),a==null||a(k)},className:"h-8 w-8 p-0 hover:bg-yellow-50 hover:text-yellow-600",title:"Dzenle",children:o.jsx(K0,{className:"h-4 w-4"})}),o.jsx(de,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),i==null||i(k)},className:"h-8 w-8 p-0 hover:bg-red-50 hover:text-red-600",title:"Sil",children:o.jsx(_n,{className:"h-4 w-4"})})]})})]},k.id))})]})})}),g&&o.jsx(ar,{isOpen:!0,onClose:()=>v(null),title:`letiim - ${g.firstName} ${g.lastName}`,size:"xl",children:o.jsx(a$,{patient:g,onClose:()=>v(null)})})]})}function o$({value:e,onChange:t,onSearch:r,onFiltersChange:s,onClear:n,results:a=[],isSearching:i=!1,placeholder:l="Hasta ara... (ad, soyad, telefon, TC)",className:u="",debounceMs:c=300,disabled:d=!1,showRecentSearches:f=!0,showFilters:h=!1,initialFilters:p={}}){const[m,x]=F.useState(e),[y,g]=F.useState(!1),[v,w]=F.useState(!1),[b,D]=F.useState(!1),[A,_]=F.useState(p),[S,k]=F.useState([]),N=F.useRef(null),C=F.useRef(null);F.useEffect(()=>{if(f){const j=localStorage.getItem("patient-recent-searches");if(j)try{const L=JSON.parse(j);k(L.map(z=>({...z,timestamp:new Date(z.timestamp)})))}catch(L){console.error("Failed to load recent searches:",L)}}},[f]),F.useEffect(()=>{const j=setTimeout(()=>{m!==e&&(t(m),r&&m.trim().length>=2&&r(m.trim()))},c);return()=>clearTimeout(j)},[m,t,e,c,r]),F.useEffect(()=>{e!==m&&x(e)},[e]);const E=F.useCallback((j,L)=>{if(!f||!j.trim()||j.length<2)return;const I=[{id:Date.now().toString(),query:j.trim(),timestamp:new Date,resultCount:L},...S.filter(J=>J.query!==j.trim())].slice(0,10);k(I),localStorage.setItem("patient-recent-searches",JSON.stringify(I))},[S,f]),M=F.useCallback(j=>{const L=j.target.value;x(L);const z={...A,query:L};_(z),s==null||s(z),L.length>0||f&&S.length>0?w(!0):w(!1)},[f,S.length,A,s]),Q=F.useCallback((j,L)=>{const z={...A,[j]:L};_(z),s==null||s(z)},[A,s]),Y=F.useCallback(()=>{const j={query:m};_(j),s==null||s(j)},[m,s]),X=gt.useMemo(()=>Object.entries(A).filter(([j,L])=>j!=="query"&&L&&(Array.isArray(L)?L.length>0:!0)).length,[A]),ee=F.useCallback(()=>{var j;x(""),t(""),n==null||n(),w(!1),(j=N.current)==null||j.focus()},[t,n]),te=F.useCallback(()=>{g(!0),(m.length>0||f&&S.length>0)&&w(!0)},[m,f,S.length]),R=F.useCallback(()=>{g(!1),setTimeout(()=>w(!1),200)},[]),se=F.useCallback(j=>{var L;j.key==="Enter"?(j.preventDefault(),r&&m.trim()&&(r(m.trim()),E(m.trim(),a.length),w(!1))):j.key==="Escape"&&(w(!1),(L=N.current)==null||L.blur())},[r,m,E,a.length]),U=F.useCallback(j=>{x(j),t(j),r&&r(j),w(!1)},[t,r]),T=F.useCallback(()=>{k([]),localStorage.removeItem("patient-recent-searches")},[]);return F.useEffect(()=>{const j=L=>{C.current&&!C.current.contains(L.target)&&N.current&&!N.current.contains(L.target)&&w(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),o.jsxs("div",{className:`relative ${u}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i?o.jsx(wp,{className:"h-5 w-5 text-gray-400"}):o.jsx(Zi,{className:"h-5 w-5 text-gray-400"})}),o.jsx(qe,{ref:N,type:"text",value:m,onChange:M,onKeyDown:se,onFocus:te,onBlur:R,placeholder:l,disabled:d,className:`pl-10 ${m?"pr-20":"pr-4"} ${h?"pr-28":""} ${y?"ring-2 ring-blue-500":""}`}),m&&o.jsx("button",{type:"button",onClick:ee,className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:d,children:o.jsx(fs,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})}),h&&o.jsx("button",{type:"button",onClick:()=>D(!b),className:`absolute inset-y-0 ${m?"right-8":"right-0"} pr-3 flex items-center`,disabled:d,children:o.jsxs("div",{className:"relative",children:[o.jsx(cu,{className:`h-5 w-5 ${b?"text-blue-600":"text-gray-400"} hover:text-gray-600`}),X>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:X})]})})]}),h&&b&&o.jsxs("div",{className:"absolute z-40 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Gelimi Filtreler"}),o.jsx(de,{variant:"ghost",size:"sm",onClick:Y,className:"text-xs",children:"Temizle"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Durum"}),o.jsxs("select",{value:A.status||"",onChange:j=>Q("status",j.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Tm"}),o.jsx("option",{value:"active",children:"Aktif"}),o.jsx("option",{value:"inactive",children:"Pasif"}),o.jsx("option",{value:"pending",children:"Beklemede"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Segment"}),o.jsxs("select",{value:A.segment||"",onChange:j=>Q("segment",j.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Tm"}),o.jsx("option",{value:"trial",children:"Deneme"}),o.jsx("option",{value:"purchased",children:"Satn Alnm"}),o.jsx("option",{value:"lead",children:"Potansiyel"}),o.jsx("option",{value:"follow_up",children:"Takip"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Kazanm Tr"}),o.jsxs("select",{value:A.acquisitionType||"",onChange:j=>Q("acquisitionType",j.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Tm"}),o.jsx("option",{value:"referral",children:"Referans"}),o.jsx("option",{value:"online",children:"Online"}),o.jsx("option",{value:"walk-in",children:"Yryerek Gelen"}),o.jsx("option",{value:"social-media",children:"Sosyal Medya"}),o.jsx("option",{value:"advertisement",children:"Reklam"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Balang Tarihi"}),o.jsx("input",{type:"date",value:A.dateFrom||"",onChange:j=>Q("dateFrom",j.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Biti Tarihi"}),o.jsx("input",{type:"date",value:A.dateTo||"",onChange:j=>Q("dateTo",j.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"ube"}),o.jsxs("select",{value:A.branchId||"",onChange:j=>Q("branchId",j.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Tm ubeler"}),o.jsx("option",{value:"branch-1",children:"Merkez ube"}),o.jsx("option",{value:"branch-2",children:"Kadky ube"}),o.jsx("option",{value:"branch-3",children:"Beikta ube"})]})]})]})]}),v&&!b&&o.jsxs("div",{ref:C,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:[m.length>0&&o.jsx("div",{children:i?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(wp,{className:"h-6 w-6 mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Aranyor..."})]}):a.length>0?o.jsxs("div",{children:[o.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 bg-gray-50 border-b",children:["Arama Sonular (",a.length,")"]}),a.slice(0,8).map(j=>o.jsx("div",{className:"px-3 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>console.log("Select patient:",j.id),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ss,{className:"h-4 w-4 text-gray-400"}),o.jsxs("span",{className:"font-medium text-gray-900",children:[j.firstName," ",j.lastName]}),o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${j.status==="active"?"bg-green-100 text-green-800":j.status==="inactive"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:j.status==="active"?"Aktif":j.status==="inactive"?"Pasif":"Ariv"})]}),o.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[j.phone&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(yl,{className:"h-3 w-3"}),o.jsx("span",{children:j.phone})]}),o.jsxs("span",{children:["Kayt: ",new Date(j.registrationDate).toLocaleDateString("tr-TR")]}),j.deviceCount>0&&o.jsxs("span",{className:"text-blue-600",children:[j.deviceCount," cihaz"]})]})]}),o.jsxs("div",{className:"text-right",children:[j.priority>0&&o.jsxs("div",{className:"text-xs text-orange-600 font-medium",children:["ncelik: ",j.priority]}),j.outstandingBalance>0&&o.jsxs("div",{className:"text-xs text-red-600",children:["Bor: ",j.outstandingBalance.toLocaleString("tr-TR")]})]})]})},j.id)),a.length>8&&o.jsxs("div",{className:"px-3 py-2 text-center text-sm text-gray-500 bg-gray-50",children:["+",a.length-8," hasta daha"]})]}):m.length>=2?o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx(ss,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),o.jsx("p",{className:"text-sm",children:"Hasta bulunamad"}),o.jsx("p",{className:"text-xs mt-1",children:"Farkl arama terimleri deneyin"})]}):null}),f&&m.length===0&&S.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs font-medium text-gray-500 bg-gray-50 border-b",children:[o.jsx("span",{children:"Son Aramalar"}),o.jsx(de,{variant:"ghost",size:"sm",onClick:T,className:"text-xs p-1 h-auto",children:"Temizle"})]}),S.slice(0,5).map(j=>o.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>U(j.query),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Qi,{className:"h-4 w-4 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-900",children:j.query})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[j.resultCount," sonu"]})]})},j.id))]}),m.length===0&&S.length===0&&o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx(Zi,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),o.jsx("p",{className:"text-sm",children:"Hasta aramaya balayn"}),o.jsx("p",{className:"text-xs mt-1",children:"Ad, soyad, telefon veya TC ile arayabilirsiniz"})]})]})]})}function l$({filters:e,onChange:t,onClearFilters:r,patientCount:s=0,loading:n=!1,className:a="",showCompact:i=!1}){const[l,u]=F.useState(!i),c=F.useCallback((g,v)=>{t({...e,[g]:v})},[e,t]),d=Object.entries(e).some(([g,v])=>g==="query"?!1:Array.isArray(v)?v.length>0:v!=null&&v!==""),f=[{value:"active",label:"Aktif"},{value:"inactive",label:"Pasif"},{value:"pending",label:"Beklemede"}],h=[{value:"trial",label:"Deneme"},{value:"purchased",label:"Satn Alnm"},{value:"lead",label:"Potansiyel"},{value:"follow_up",label:"Takip"}],p=[{value:"referral",label:"Referans"},{value:"online",label:"Online"},{value:"walk-in",label:"Yryerek Gelen"},{value:"social-media",label:"Sosyal Medya"},{value:"advertisement",label:"Reklam"}],m=[{value:"branch-1",label:"Merkez ube"},{value:"branch-2",label:"Kadky ube"},{value:"branch-3",label:"Beikta ube"}],x=F.useCallback(g=>{const v=e.tags||[];v.includes(g)||c("tags",[...v,g])},[e.tags,c]),y=F.useCallback(g=>{const v=e.tags||[];c("tags",v.filter(w=>w!==g))},[e.tags,c]);return i&&!l?o.jsxs("div",{className:`flex items-center space-x-2 ${a}`,children:[o.jsxs(de,{variant:"outline",size:"sm",onClick:()=>u(!0),className:"flex items-center space-x-2",children:[o.jsx(cu,{className:"h-4 w-4"}),o.jsx("span",{children:"Filtreler"}),d&&o.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-0.5",children:Object.entries(e).filter(([g,v])=>g!=="query"&&v&&(Array.isArray(v)?v.length>0:!0)).length})]}),d&&o.jsxs(de,{variant:"ghost",size:"sm",onClick:r,className:"text-gray-500 hover:text-gray-700",children:[o.jsx(fs,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Filtreleri temizle"})]})]}):o.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg ${a}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(cu,{className:"w-5 h-5 text-gray-500"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filtreler"}),d&&o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Aktif"}),o.jsxs("span",{className:"text-sm text-gray-500",children:["(",s," hasta)"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[d&&o.jsxs(de,{variant:"outline",size:"sm",onClick:r,disabled:n,className:"flex items-center space-x-1",children:[o.jsx(fs,{className:"w-4 h-4"}),o.jsx("span",{children:"Temizle"})]}),i&&o.jsx(de,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:o.jsx(kF,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(qs,{className:"h-4 w-4 text-gray-500"}),o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Durum"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(g=>o.jsxs("button",{onClick:()=>c("status",e.status===g.value?void 0:g.value),className:`px-3 py-1.5 text-sm rounded-full border transition-colors ${e.status===g.value?"bg-blue-100 border-blue-300 text-blue-800":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[g.label,g.count!==void 0&&g.count>0&&o.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",g.count,")"]})]},g.value))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(vl,{className:"h-4 w-4 text-gray-500"}),o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Segment"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(g=>o.jsxs("button",{onClick:()=>c("segment",e.segment===g.value?void 0:g.value),className:`px-3 py-1.5 text-sm rounded-full border transition-colors ${e.segment===g.value?"bg-green-100 border-green-300 text-green-800":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[g.label,g.count!==void 0&&g.count>0&&o.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",g.count,")"]})]},g.value))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(kp,{className:"h-4 w-4 text-gray-500"}),o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Kazanm Tr"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(g=>o.jsxs("button",{onClick:()=>c("acquisitionType",e.acquisitionType===g.value?void 0:g.value),className:`px-3 py-1.5 text-sm rounded-full border transition-colors ${e.acquisitionType===g.value?"bg-purple-100 border-purple-300 text-purple-800":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[g.label,g.count!==void 0&&g.count>0&&o.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",g.count,")"]})]},g.value))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(Xn,{className:"h-4 w-4 text-gray-500"}),o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tarih Aral"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Balang"}),o.jsx("input",{type:"date",value:e.dateFrom||"",onChange:g=>c("dateFrom",g.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Biti"}),o.jsx("input",{type:"date",value:e.dateTo||"",onChange:g=>c("dateTo",g.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(kp,{className:"h-4 w-4 text-gray-500"}),o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ube"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(g=>o.jsxs("button",{onClick:()=>c("branchId",e.branchId===g.value?void 0:g.value),className:`px-3 py-1.5 text-sm rounded-full border transition-colors ${e.branchId===g.value?"bg-orange-100 border-orange-300 text-orange-800":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[g.label,g.count!==void 0&&g.count>0&&o.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",g.count,")"]})]},g.value))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(vl,{className:"h-4 w-4 text-gray-500"}),o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Etiketler"})]}),e.tags&&e.tags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.map(g=>o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[g,o.jsx("button",{onClick:()=>y(g),className:"ml-1 hover:text-blue-600",children:o.jsx(fs,{className:"h-3 w-3"})})]},g))}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("input",{type:"text",placeholder:"Etiket ekle...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:g=>{if(g.key==="Enter"){const v=g.target,w=v.value.trim();w&&(x(w),v.value="")}}}),o.jsx(de,{variant:"outline",size:"sm",onClick:g=>{var b;const v=(b=g.target.parentElement)==null?void 0:b.querySelector("input"),w=v==null?void 0:v.value.trim();w&&v&&(x(w),v.value="")},children:"Ekle"})]})]})]})]})}const c$=({selectedPatients:e,totalPatients:t,onSelectAll:r,onDeselectAll:s,onBulkAddTag:n,onBulkRemoveTag:a,onBulkSendSMS:i,onBulkSendEmail:l,onBulkExport:u,onBulkStatusChange:c,onBulkDelete:d,onBulkScheduleAppointment:f,onBulkAssignToSegment:h,availableTags:p=[],availableSegments:m=[],className:x="",loading:y=!1,disabled:g=!1})=>{var se;const[v,w]=F.useState(!1),[b,D]=F.useState(null),[A,_]=F.useState(""),[S,k]=F.useState({}),[N,C]=F.useState(!1),E=e.length,M=F.useMemo(()=>[{id:"add-tag",name:"Etiket Ekle",icon:vl,color:"text-blue-600",bgColor:"bg-blue-100",description:"Seili hastalara etiket ekle",requiresInput:!0,inputType:"select",inputPlaceholder:"Etiket sein veya yeni etiket yazn",inputOptions:p.map(U=>({value:U,label:U})),category:"organization",minSelection:1},{id:"remove-tag",name:"Etiket Kaldr",icon:vl,color:"text-orange-600",bgColor:"bg-orange-100",description:"Seili hastalardan etiket kaldr",requiresInput:!0,inputType:"select",inputPlaceholder:"Kaldrlacak etiketi sein",inputOptions:p.map(U=>({value:U,label:U})),category:"organization",minSelection:1},{id:"send-sms",name:"SMS Gnder",icon:Ga,color:"text-green-600",bgColor:"bg-green-100",description:"Seili hastalara SMS gnder",requiresInput:!0,inputType:"textarea",inputPlaceholder:"SMS mesajnz yazn...",category:"communication",minSelection:1,maxSelection:100},{id:"send-email",name:"E-posta Gnder",icon:gl,color:"text-purple-600",bgColor:"bg-purple-100",description:"Seili hastalara e-posta gnder",requiresInput:!0,inputType:"textarea",inputPlaceholder:"E-posta mesajnz yazn...",category:"communication",minSelection:1,maxSelection:50},{id:"export-csv",name:"CSV Da Aktar",icon:$u,color:"text-indigo-600",bgColor:"bg-indigo-100",description:"Seili hastalar CSV formatnda da aktar",category:"data",minSelection:1},{id:"export-excel",name:"Excel Da Aktar",icon:ii,color:"text-indigo-600",bgColor:"bg-indigo-100",description:"Seili hastalar Excel formatnda da aktar",category:"data",minSelection:1},{id:"activate",name:"Aktifletir",icon:GF,color:"text-green-600",bgColor:"bg-green-100",description:"Seili hastalar aktif duruma getir",requiresConfirmation:!0,category:"status",minSelection:1},{id:"deactivate",name:"Pasifletir",icon:qF,color:"text-yellow-600",bgColor:"bg-yellow-100",description:"Seili hastalar pasif duruma getir",requiresConfirmation:!0,category:"status",minSelection:1},{id:"archive",name:"Arivle",icon:dF,color:"text-gray-600",bgColor:"bg-gray-100",description:"Seili hastalar arivle",requiresConfirmation:!0,category:"status",minSelection:1},{id:"assign-segment",name:"Segment Ata",icon:qs,color:"text-cyan-600",bgColor:"bg-cyan-100",description:"Seili hastalar bir segmente ata",requiresInput:!0,inputType:"select",inputPlaceholder:"Segment sein",inputOptions:m.map(U=>({value:U,label:U})),category:"organization",minSelection:1},{id:"schedule-appointment",name:"Randevu Planla",icon:Xn,color:"text-pink-600",bgColor:"bg-pink-100",description:"Seili hastalar iin randevu planla",requiresInput:!0,inputType:"text",inputPlaceholder:"Randevu notlar (opsiyonel)",category:"organization",minSelection:1,maxSelection:20},{id:"delete",name:"Sil",icon:_n,color:"text-red-600",bgColor:"bg-red-100",description:"Seili hastalar kalc olarak sil",requiresConfirmation:!0,category:"dangerous",minSelection:1}],[p,m]),Q=F.useMemo(()=>M.filter(U=>!(U.minSelection&&E<U.minSelection||U.maxSelection&&E>U.maxSelection)),[M,E]),Y=F.useMemo(()=>{const U={};return Q.forEach(T=>{U[T.category]||(U[T.category]=[]),U[T.category].push(T)}),U},[Q]),X={communication:"letiim",data:"Veri lemleri",status:"Durum Deiiklikleri",organization:"Organizasyon",dangerous:"Tehlikeli lemler"},ee=F.useCallback(U=>{g||y||(D(U),_(""),k({}),U.requiresInput||U.requiresConfirmation?w(!0):te(U))},[g,y]),te=F.useCallback(async(U,T)=>{if(!(!U||E===0)){C(!0);try{switch(U.id){case"add-tag":await n(T||A);break;case"remove-tag":await a(T||A);break;case"send-sms":await i(T||A,[]);break;case"send-email":await l("Toplu E-posta",T||A,[]);break;case"export-csv":await u("csv");break;case"export-excel":await u("excel");break;case"activate":await c("active");break;case"deactivate":await c("inactive");break;case"archive":await c("archived");break;case"assign-segment":await h(T||A);break;case"schedule-appointment":await f({notes:T||A});break;case"delete":await d();break}w(!1),D(null)}catch(j){console.error("Bulk action failed:",j)}finally{C(!1)}}},[E,A,n,a,i,l,u,c,d,f,h]),R=F.useCallback(()=>{b&&te(b,A)},[b,A,te]);return E===0?o.jsx("div",{className:`bg-gray-50 border border-gray-200 rounded-lg p-4 ${x}`,children:o.jsxs("div",{className:"flex items-center justify-center text-gray-500",children:[o.jsx(sv,{className:"w-5 h-5 mr-2"}),o.jsx("span",{children:"Toplu ilem yapmak iin hasta sein"})]})}):o.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg shadow-sm ${x}`,children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-blue-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(sv,{className:"w-5 h-5 text-blue-600 mr-2"}),o.jsxs("span",{className:"font-medium text-blue-900",children:[E," hasta seili"]}),E<t&&o.jsxs("button",{onClick:r,className:"ml-3 text-sm text-blue-600 hover:text-blue-800 underline",disabled:g||y,children:["Tmn se (",t,")"]})]}),o.jsxs("button",{onClick:s,className:"text-sm text-gray-600 hover:text-gray-800 flex items-center",disabled:g||y,children:[o.jsx(fs,{className:"w-4 h-4 mr-1"}),"Seimi temizle"]})]})}),o.jsx("div",{className:"p-4",children:Object.entries(Y).map(([U,T])=>o.jsxs("div",{className:"mb-6 last:mb-0",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:X[U]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3",children:T.map(j=>{const L=j.icon,z=g||y||N,I=j.category==="dangerous";return o.jsxs("button",{onClick:()=>ee(j),disabled:z,className:`
                      relative p-3 rounded-lg border transition-all duration-200
                      ${z?"opacity-50 cursor-not-allowed":"hover:shadow-md hover:-translate-y-0.5"}
                      ${I?"border-red-200 hover:border-red-300 hover:bg-red-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
                    `,title:j.description,children:[o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:`w-8 h-8 ${j.bgColor} rounded-full flex items-center justify-center mb-2`,children:o.jsx(L,{className:`w-4 h-4 ${j.color}`})}),o.jsx("span",{className:"text-xs font-medium text-gray-700 leading-tight",children:j.name})]}),(j.minSelection||j.maxSelection)&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:j.maxSelection?`${j.maxSelection}`:`${j.minSelection}`})]},j.id)})})]},U))}),v&&b&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b.name}),o.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",disabled:N,children:o.jsx(fs,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"px-6 py-4",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b.description}),b.category==="dangerous"&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(lu,{className:"w-5 h-5 text-red-600 mr-2"}),o.jsx("span",{className:"text-sm font-medium text-red-800",children:"Bu ilem geri alnamaz!"})]})}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:o.jsxs("span",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:E})," hasta etkilenecek"]})}),b.requiresInput&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b.inputPlaceholder}),b.inputType==="textarea"?o.jsx("textarea",{value:A,onChange:U=>_(U.target.value),placeholder:b.inputPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,disabled:N}):b.inputType==="select"?o.jsxs("div",{children:[o.jsxs("select",{value:A,onChange:U=>_(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:N,children:[o.jsx("option",{value:"",children:"Sein..."}),(se=b.inputOptions)==null?void 0:se.map(U=>o.jsx("option",{value:U.value,children:U.label},U.value))]}),(b.id==="add-tag"||b.id==="remove-tag")&&o.jsx("div",{className:"mt-2",children:o.jsx("input",{type:"text",value:A,onChange:U=>_(U.target.value),placeholder:"Veya yeni etiket yazn...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:N})})]}):o.jsx("input",{type:"text",value:A,onChange:U=>_(U.target.value),placeholder:b.inputPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:N})]})]}),o.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:N,children:"ptal"}),o.jsx("button",{onClick:R,disabled:N||b.requiresInput&&!A.trim(),className:`
                  px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2
                  ${b.category==="dangerous"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}
                  ${N||b.requiresInput&&!A.trim()?"opacity-50 cursor-not-allowed":""}
                `,children:N?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"leniyor..."]}):o.jsxs(o.Fragment,{children:[o.jsx(o0,{className:"w-4 h-4 mr-2 inline"}),b.name]})})]})]})})]})},u$=({onUpload:e,className:t=""})=>{const[r,s]=F.useState({status:"idle"}),[n,a]=F.useState(!1),i=F.useRef(null),l=p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?a(!0):p.type==="dragleave"&&a(!1)},u=p=>{p.preventDefault(),p.stopPropagation(),a(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&d(p.dataTransfer.files[0])},c=p=>{p.preventDefault(),p.target.files&&p.target.files[0]&&d(p.target.files[0])},d=async p=>{if(!p.name.toLowerCase().endsWith(".csv")){s({status:"error",message:"Ltfen sadece CSV dosyas ykleyin"});return}if(p.size>10*1024*1024){s({status:"error",message:"Dosya boyutu 10MB'dan kk olmaldr"});return}try{s({status:"uploading",progress:0});const m=setInterval(()=>{s(x=>({...x,progress:Math.min((x.progress||0)+10,90)}))},200);e&&await e(p),clearInterval(m),s({status:"success",message:`${p.name} baaryla yklendi`}),setTimeout(()=>{s({status:"idle"}),i.current&&(i.current.value="")},3e3)}catch{s({status:"error",message:"Dosya yklenirken hata olutu"})}},f=()=>{var p;(p=i.current)==null||p.click()},h=()=>{s({status:"idle"}),i.current&&(i.current.value="")};return o.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-6 ${t}`,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"CSV Dosyas Ykle"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Hasta verilerini toplu olarak ie aktarmak iin CSV dosyas ykleyin"})]}),r.status==="idle"&&o.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors ${n?"border-indigo-400 bg-indigo-50":"border-gray-300"}`,onDragEnter:l,onDragLeave:l,onDragOver:l,onDrop:u,children:[o.jsx("input",{ref:i,type:"file",accept:".csv",onChange:c,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.jsx(G0,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("button",{type:"button",onClick:f,className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Dosya sein"})," ","veya srkleyip brakn"]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"CSV dosyas, maksimum 10MB"})]})]}),r.status==="uploading"&&o.jsxs("div",{className:"text-center py-6",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-4"}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Dosya ykleniyor..."}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${r.progress||0}%`}})}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["%",r.progress||0," tamamland"]})]}),r.status==="success"&&o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Za,{className:"mx-auto h-12 w-12 text-green-500 mb-4"}),o.jsx("p",{className:"text-sm text-green-600 font-medium",children:r.message}),o.jsx("button",{onClick:h,className:"mt-3 text-sm text-gray-500 hover:text-gray-700",children:"Yeni dosya ykle"})]}),r.status==="error"&&o.jsxs("div",{className:"text-center py-6",children:[o.jsx(ou,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),o.jsx("p",{className:"text-sm text-red-600 font-medium mb-3",children:r.message}),o.jsxs("div",{className:"flex justify-center space-x-3",children:[o.jsx("button",{onClick:h,className:"text-sm text-gray-500 hover:text-gray-700",children:"ptal"}),o.jsx("button",{onClick:f,className:"text-sm text-indigo-600 hover:text-indigo-500 font-medium",children:"Tekrar dene"})]})]}),o.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(ii,{className:"h-5 w-5 text-gray-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"CSV Format Bilgisi"}),o.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"CSV dosyanz aadaki stunlar iermelidir:"}),o.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[o.jsxs("div",{children:[" ",o.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"firstName"})," - Ad (zorunlu)"]}),o.jsxs("div",{children:[" ",o.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"lastName"})," - Soyad (zorunlu)"]}),o.jsxs("div",{children:[" ",o.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"tcNumber"})," - TC Kimlik No"]}),o.jsxs("div",{children:[" ",o.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"phone"})," - Telefon"]}),o.jsxs("div",{children:[" ",o.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"email"})," - E-posta"]}),o.jsxs("div",{children:[" ",o.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"birthDate"})," - Doum Tarihi (YYYY-MM-DD)"]}),o.jsxs("div",{children:[" ",o.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"gender"})," - Cinsiyet (M/F)"]})]})]})]})})]})},d$=()=>{const[e,t]=F.useState(()=>{try{const i=localStorage.getItem(ow);return i?JSON.parse(i):{}}catch{return{}}});F.useEffect(()=>{localStorage.setItem(ow,JSON.stringify(e))},[e]);const r=F.useCallback((i,l)=>{t(u=>({...u,[i]:l}))},[]),s=F.useCallback(i=>{t(l=>{const u={...l};return delete u[i],u})},[]),n=F.useCallback(()=>{t({})},[]),a=F.useCallback(()=>{t({})},[]);return{filters:e,updateFilter:r,clearFilter:s,clearAllFilters:n,resetFilters:a,setFilters:t}},f$=({className:e=""})=>{const{filters:t,setFilters:r}=d$(),[s,n]=F.useState([{id:"1",name:"Aktif Hastalar",filters:{status:"active"},isDefault:!0,createdAt:"2024-01-15"},{id:"2",name:"Bu Ay Kayt Olanlar",filters:{dateRange:{from:new Date().toISOString().slice(0,7)+"-01",to:new Date().toISOString().slice(0,10)}},createdAt:"2024-01-10"},{id:"3",name:"stanbul Hastalar",filters:{city:"stanbul"},createdAt:"2024-01-05"}]),[a,i]=F.useState(!1),[l,u]=F.useState(""),[c,d]=F.useState(null),f=y=>{r(y.filters)},h=()=>{if(!l.trim())return;const y={id:Date.now().toString(),name:l.trim(),filters:{...t},createdAt:new Date().toISOString().slice(0,10)};n(g=>[...g,y]),u(""),i(!1)},p=(y,g)=>{n(v=>v.map(w=>w.id===y?{...w,name:g,filters:{...t}}:w)),d(null)},m=y=>{window.confirm("Bu grnm silmek istediinizden emin misiniz?")&&n(g=>g.filter(v=>v.id!==y))},x=Object.keys(t).some(y=>y!=="search"&&t[y]);return o.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg ${e}`,children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rv,{className:"h-5 w-5 text-gray-400"}),o.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Kaytl Grnmler"})]}),x&&o.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-indigo-600 bg-indigo-50 rounded hover:bg-indigo-100",children:[o.jsx(pa,{className:"h-3 w-3 mr-1"}),"Kaydet"]})]})}),o.jsx("div",{className:"p-2",children:s.length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(rv,{className:"mx-auto h-8 w-8 text-gray-300 mb-2"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Henz kaytl grnm yok"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filtre uygulayp kaydet butonuna tklayn"})]}):o.jsx("div",{className:"space-y-1",children:s.map(y=>o.jsxs("div",{className:"group flex items-center justify-between p-2 rounded hover:bg-gray-50",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[(c==null?void 0:c.id)===y.id?o.jsx("input",{type:"text",value:c.name,onChange:g=>d({...c,name:g.target.value}),onBlur:()=>p(y.id,c.name),onKeyDown:g=>{g.key==="Enter"?p(y.id,c.name):g.key==="Escape"&&d(null)},className:"w-full text-sm font-medium text-gray-900 bg-transparent border-none outline-none focus:ring-1 focus:ring-indigo-500 rounded px-1",autoFocus:!0}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f(y),className:"text-sm font-medium text-gray-900 hover:text-indigo-600 truncate",children:y.name}),y.isDefault&&o.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Varsaylan"})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[Object.keys(y.filters).length," filtre  ",y.createdAt]})]}),o.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>f(y),className:"p-1 text-gray-400 hover:text-indigo-600 rounded",title:"Grnm uygula",children:o.jsx(Vu,{className:"h-3 w-3"})}),o.jsx("button",{onClick:()=>d(y),className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Dzenle",children:o.jsx(LF,{className:"h-3 w-3"})}),!y.isDefault&&o.jsx("button",{onClick:()=>m(y.id),className:"p-1 text-gray-400 hover:text-red-600 rounded",title:"Sil",children:o.jsx(_n,{className:"h-3 w-3"})})]})]},y.id))})}),a&&o.jsx("div",{className:"border-t border-gray-200 p-3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Grnm Ad"}),o.jsx("input",{type:"text",value:l,onChange:y=>u(y.target.value),placeholder:"rn: Aktif stanbul Hastalar",className:"block w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",autoFocus:!0}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-1",children:[o.jsx("button",{onClick:()=>{i(!1),u("")},className:"px-2 py-1 text-xs text-gray-600 hover:text-gray-800",children:"ptal"}),o.jsx("button",{onClick:h,disabled:!l.trim(),className:"px-2 py-1 text-xs font-medium text-white bg-indigo-600 rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Kaydet"})]})]})})]})},h$=[{id:"export-csv",label:"CSV Da Aktar",icon:o.jsx($u,{className:"w-4 h-4"}),description:"Seili hastalar CSV formatnda da aktar",requiresConfirmation:!1,color:"primary"},{id:"bulk-tag",label:"Toplu Etiketleme",icon:o.jsx(vl,{className:"w-4 h-4"}),description:"Seili hastalara toplu etiket ekle/kar",requiresConfirmation:!1,color:"secondary"},{id:"bulk-sms",label:"Toplu SMS",icon:o.jsx(Ga,{className:"w-4 h-4"}),description:"Seili hastalara toplu SMS gnder",requiresConfirmation:!0,color:"primary"},{id:"bulk-delete",label:"Toplu Silme",icon:o.jsx(_n,{className:"w-4 h-4"}),description:"Seili hastalar kalc olarak sil",requiresConfirmation:!0,color:"danger"}],m$={name:"Ad Soyad",phone:"Telefon",email:"E-posta",birthDate:"Doum Tarihi",address:"Adres",notes:"Notlar",tags:"Etiketler",segment:"Segment",status:"Durum"},p$=({selectedPatients:e,onClearSelection:t,onRefresh:r})=>{const{success:s,error:n,warning:a}=Wf(),[i,l]=F.useState(null),[u,c]=F.useState(!1),[d,f]=F.useState({file:null,mapping:{},preview:[],errors:[]}),[h,p]=F.useState({action:"add",tags:[],newTag:""}),[m,x]=F.useState({message:"",template:"",sendTime:"now",scheduledTime:""}),y=mn(),g=mn(),v=mn(),w=mn(),b=mn(),D=F.useCallback(E=>{switch(l(E),E){case"export-csv":y.openModal();break;case"import-csv":g.openModal();break;case"bulk-tag":v.openModal();break;case"bulk-sms":w.openModal();break;case"bulk-delete":b.openModal();break}},[y,g,v,w,b]),A=F.useCallback(async()=>{try{c(!0);const E=e.map(te=>({"Ad Soyad":`${te.firstName} ${te.lastName}`,Telefon:te.phone||"","E-posta":te.email||"","TC No":te.tcNumber||"","Doum Tarihi":te.birthDate||"",Adres:te.address||"",Durum:te.status||"active"})),M=Object.keys(E[0]||{}),Q=[M.join(","),...E.map(te=>M.map(R=>`"${te[R]||""}"`).join(","))].join(`
`),Y=new Blob([Q],{type:"text/csv;charset=utf-8;"}),X=document.createElement("a"),ee=URL.createObjectURL(Y);X.setAttribute("href",ee),X.setAttribute("download",`hastalar_export_${new Date().toISOString().split("T")[0]}.csv`),X.style.visibility="hidden",document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(ee),s(`${e.length} hasta verisi CSV formatnda da aktarld`),y.closeModal()}catch(E){console.error("CSV export error:",E),n("CSV da aktarma srasnda hata olutu")}finally{c(!1)}},[e,s,n,y]),_=F.useCallback(async E=>{try{c(!0);const Q=(await E.text()).split(`
`).filter(ee=>ee.trim());if(Q.length<2)throw new Error("CSV dosyas en az 2 satr iermelidir (balk + veri)");const Y=Q[0].split(",").map(ee=>ee.replace(/"/g,"").trim()),X=Q.slice(1,6).map(ee=>{const te=ee.split(",").map(R=>R.replace(/"/g,"").trim());return Y.reduce((R,se,U)=>(R[se]=te[U]||"",R),{})});f({file:E,mapping:{},preview:X,errors:[]})}catch(M){console.error("CSV read error:",M),n("CSV dosyas okunurken hata olutu")}finally{c(!1)}},[n]),S=F.useCallback(async()=>{if(d.file)try{c(!0),await new Promise(M=>setTimeout(M,2e3));const E={created:Math.floor(Math.random()*10)+1,updated:Math.floor(Math.random()*5),errors:[]};E.errors.length>0?a(`${E.created+E.updated} hasta ilendi, ${E.errors.length} hata olutu`):s(`${E.created} yeni hasta eklendi, ${E.updated} hasta gncellendi`),g.closeModal(),r(),f({file:null,mapping:{},preview:[],errors:[]})}catch(E){console.error("CSV import error:",E),n("CSV ie aktarma srasnda hata olutu")}finally{c(!1)}},[d.file,s,a,n,g,r]),k=F.useCallback(async()=>{try{c(!0),await new Promise(M=>setTimeout(M,1e3));const E=h.action==="add"?"eklendi":"kaldrld";s(`${e.length} hastaya etiket ${E}`),v.closeModal(),r()}catch{n("Toplu etiketleme srasnda hata olutu")}finally{c(!1)}},[h,e.length,s,n,v,r]),N=F.useCallback(async()=>{try{c(!0),await new Promise(E=>setTimeout(E,2e3)),s(`${e.length} hastaya SMS gnderildi`),w.closeModal(),r()}catch{n("Toplu SMS gnderimi srasnda hata olutu")}finally{c(!1)}},[e.length,s,n,w,r]),C=F.useCallback(async()=>{try{c(!0),await new Promise(E=>setTimeout(E,1500)),s(`${e.length} hasta silindi`),b.closeModal(),t(),r()}catch{n("Toplu silme srasnda hata olutu")}finally{c(!1)}},[e.length,s,n,b,t,r]);return e.length===0?null:o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qs,{className:"w-5 h-5 text-blue-600"}),o.jsxs("span",{className:"font-medium text-blue-900",children:[e.length," hasta seildi"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[h$.map(E=>o.jsxs(de,{variant:E.color==="danger"?"danger":E.color==="primary"?"primary":"secondary",size:"sm",onClick:()=>D(E.id),disabled:u,children:[E.icon,E.label]},E.id)),o.jsxs(de,{variant:"outline",size:"sm",onClick:()=>D("import-csv"),disabled:u,children:[o.jsx(G0,{className:"w-4 h-4"}),"CSV e Aktar"]})]})]}),o.jsx(de,{variant:"ghost",size:"sm",onClick:t,children:"Seimi Temizle"})]})}),o.jsx(ar,{isOpen:y.isOpen,onClose:y.closeModal,title:"CSV Da Aktarma",size:"md",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Da Aktarlacak Veriler"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:Object.values(m$).map(E=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ii,{className:"w-3 h-3"}),o.jsx("span",{children:E})]},E))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(de,{variant:"outline",onClick:y.closeModal,children:"ptal"}),o.jsxs(de,{onClick:A,loading:u,children:[o.jsx($u,{className:"w-4 h-4 mr-2"}),"Da Aktar"]})]})]})}),o.jsx(ar,{isOpen:g.isOpen,onClose:g.closeModal,title:"CSV e Aktarma",size:"lg",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CSV Dosyas Se"}),o.jsx("input",{type:"file",accept:".csv",onChange:E=>{var Q;const M=(Q=E.target.files)==null?void 0:Q[0];M&&_(M)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),d.preview.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"nizleme"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:Object.keys(d.preview[0]).map(E=>o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:E},E))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.preview.map((E,M)=>o.jsx("tr",{children:Object.values(E).map((Q,Y)=>o.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:Q},Y))},M))})]})})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(de,{variant:"outline",onClick:g.closeModal,children:"ptal"}),o.jsxs(de,{disabled:!d.file,loading:u,onClick:S,children:[o.jsx(G0,{className:"w-4 h-4 mr-2"}),"e Aktar"]})]})]})}),o.jsx(ar,{isOpen:v.isOpen,onClose:v.closeModal,title:"Toplu Etiketleme",size:"md",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"lem Tr"}),o.jsx(ur,{value:h.action,onChange:E=>p(M=>({...M,action:E.target.value})),options:[{label:"Etiket Ekle",value:"add"},{label:"Etiket Kaldr",value:"remove"}]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yeni Etiket Ekle"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(qe,{value:h.newTag,onChange:E=>p(M=>({...M,newTag:E.target.value})),placeholder:"Etiket ad..."}),o.jsx(de,{variant:"outline",onClick:()=>{h.newTag.trim()&&p(E=>({...E,tags:[...E.tags,E.newTag.trim()],newTag:""}))},children:"Ekle"})]})]}),h.tags.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seili Etiketler"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:h.tags.map((E,M)=>o.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-gray-200",onClick:()=>p(Q=>({...Q,tags:Q.tags.filter((Y,X)=>X!==M)})),children:[E," "]},M))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(de,{variant:"outline",onClick:v.closeModal,children:"ptal"}),o.jsxs(de,{onClick:k,loading:u,disabled:h.tags.length===0,children:[o.jsx(vl,{className:"w-4 h-4 mr-2"}),"Uygula"]})]})]})}),o.jsx(ar,{isOpen:w.isOpen,onClose:w.closeModal,title:"Toplu SMS Gnderimi",size:"md",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMS Mesaj"}),o.jsx(Uu,{value:m.message,onChange:E=>x(M=>({...M,message:E.target.value})),placeholder:"SMS mesajnz yazn...",rows:4}),o.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[m.message.length,"/160 karakter"]})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(ou,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-800",children:[o.jsx("strong",{children:"Uyar:"})," ",e.length," hastaya SMS gnderilecek. Bu ilem geri alnamaz ve SMS creti uygulanacaktr."]})]})}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(de,{variant:"outline",onClick:w.closeModal,children:"ptal"}),o.jsxs(de,{onClick:N,loading:u,disabled:!m.message.trim(),children:[o.jsx(Ga,{className:"w-4 h-4 mr-2"}),"SMS Gnder"]})]})]})}),o.jsx(ar,{isOpen:b.isOpen,onClose:b.closeModal,title:"Toplu Silme Onay",size:"md",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(ou,{className:"w-6 h-6 text-red-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-red-900",children:"Dikkat!"}),o.jsxs("p",{className:"text-sm text-red-800 mt-1",children:[e.length," hasta kalc olarak silinecek. Bu ilem geri alnamaz ve tm hasta verileri kaybolacaktr."]})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h5",{className:"font-medium text-gray-900",children:"Silinecek Hastalar:"}),o.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.slice(0,10).map(E=>o.jsxs("div",{className:"text-sm text-gray-600",children:[" ",`${E.firstName||""} ${E.lastName||""}`.trim()||"simsiz Hasta"," (",E.phone,")"]},E.id)),e.length>10&&o.jsxs("div",{className:"text-sm text-gray-500",children:["... ve ",e.length-10," hasta daha"]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(de,{variant:"outline",onClick:b.closeModal,children:"ptal"}),o.jsxs(de,{variant:"danger",onClick:C,loading:u,children:[o.jsx(_n,{className:"w-4 h-4 mr-2"}),"Sil"]})]})]})})]})};function ix(e,t){const r=Array(t.length+1).fill(null).map(()=>Array(e.length+1).fill(null));for(let s=0;s<=e.length;s++)r[0][s]=s;for(let s=0;s<=t.length;s++)r[s][0]=s;for(let s=1;s<=t.length;s++)for(let n=1;n<=e.length;n++){const a=e[n-1]===t[s-1]?0:1;r[s][n]=Math.min(r[s][n-1]+1,r[s-1][n]+1,r[s-1][n-1]+a)}return r[t.length][e.length]}function x$(e,t){if(e===t)return 1;if(!e||!t)return 0;const r=Math.max(e.length,t.length);return r===0?1:1-ix(e.toLowerCase(),t.toLowerCase())/r}function g$(e,t,r={}){const{threshold:s=.3,caseSensitive:n=!1,includeScore:a=!0,keys:i=[]}=r;if(!t.trim())return e.map(c=>({item:c,score:1,matches:[]}));const l=n?t:t.toLowerCase(),u=[];for(const c of e){let d=0;const f=[],h=i.length>0?i:Object.keys(c).filter(p=>typeof c[p]=="string");for(const p of h){const m=c[p];if(typeof m!="string")continue;const x=n?m:m.toLowerCase();let y=0;x===l?y=1:x.startsWith(l)?y=.9:x.includes(l)?y=.8:y=x$(x,l),y>=s&&(f.push({key:p,value:m,score:y}),d=Math.max(d,y))}d>=s&&u.push({item:c,score:d,matches:f})}return u.sort((c,d)=>d.score-c.score),u}const y$={maxQueries:50,storageKey:"patient-saved-queries"};class v${constructor(t={}){mt(this,"options");this.options={...y$,...t}}loadQueries(){try{const t=localStorage.getItem(this.options.storageKey);return t?JSON.parse(t).map(s=>({...s,createdAt:new Date(s.createdAt),updatedAt:new Date(s.updatedAt),lastUsed:s.lastUsed?new Date(s.lastUsed):void 0})):[]}catch(t){return console.error("Failed to load saved queries:",t),[]}}saveQueries(t){try{localStorage.setItem(this.options.storageKey,JSON.stringify(t))}catch(r){throw console.error("Failed to save queries:",r),new Error("Sorgu kaydedilemedi")}}createQuery(t,r,s,n={}){const a=this.loadQueries();if(a.some(l=>l.name===t))throw new Error("Bu isimde bir sorgu zaten mevcut");a.length>=this.options.maxQueries&&(a.sort((l,u)=>{var c,d;return((c=l.lastUsed)==null?void 0:c.getTime())||0-(((d=u.lastUsed)==null?void 0:d.getTime())||0)}),a.splice(0,a.length-this.options.maxQueries+1));const i={id:this.generateId(),name:t,description:n.description,query:r,filters:s,createdAt:new Date,updatedAt:new Date,usageCount:0,isDefault:n.isDefault||!1,tags:n.tags||[]};return a.push(i),this.saveQueries(a),i}updateQuery(t,r){const s=this.loadQueries(),n=s.findIndex(i=>i.id===t);if(n===-1)throw new Error("Sorgu bulunamad");const a={...s[n],...r,updatedAt:new Date};return s[n]=a,this.saveQueries(s),a}deleteQuery(t){const r=this.loadQueries(),s=r.filter(n=>n.id!==t);if(s.length===r.length)throw new Error("Sorgu bulunamad");this.saveQueries(s)}getQuery(t){return this.loadQueries().find(s=>s.id===t)||null}useQuery(t){const r=this.loadQueries(),s=r.findIndex(n=>n.id===t);if(s===-1)throw new Error("Sorgu bulunamad");return r[s].usageCount++,r[s].lastUsed=new Date,this.saveQueries(r),r[s]}getPopularQueries(t=10){return this.loadQueries().sort((s,n)=>n.usageCount-s.usageCount).slice(0,t)}getRecentQueries(t=10){return this.loadQueries().filter(s=>s.lastUsed).sort((s,n)=>{var a,i;return(((a=n.lastUsed)==null?void 0:a.getTime())||0)-(((i=s.lastUsed)==null?void 0:i.getTime())||0)}).slice(0,t)}getDefaultQueries(){return this.loadQueries().filter(r=>r.isDefault)}searchQueries(t){const r=this.loadQueries(),s=t.toLowerCase();return r.filter(n=>n.name.toLowerCase().includes(s)||n.description&&n.description.toLowerCase().includes(s)||n.tags&&n.tags.some(a=>a.toLowerCase().includes(s)))}exportQueries(){const t=this.loadQueries();return JSON.stringify(t,null,2)}importQueries(t,r={}){try{const s=JSON.parse(t);if(!Array.isArray(s))throw new Error("Geersiz format");const a=[...r.merge?this.loadQueries():[]];for(const i of s){if(!i.id||!i.name||!i.query)continue;const l=a.findIndex(u=>u.id===i.id);l!==-1?a[l]={...i,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt),lastUsed:i.lastUsed?new Date(i.lastUsed):void 0}:a.push({...i,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt),lastUsed:i.lastUsed?new Date(i.lastUsed):void 0})}this.saveQueries(a)}catch(s){throw console.error("Failed to import queries:",s),new Error("Sorgu ie aktarma baarsz")}}clearAllQueries(){localStorage.removeItem(this.options.storageKey)}generateId(){return`query_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}const la=new v$,fi={load:()=>la.loadQueries(),create:(e,t,r,s)=>la.createQuery(e,t,r,s),update:(e,t)=>la.updateQuery(e,t),delete:e=>la.deleteQuery(e),use:e=>la.useQuery(e),getPopular:e=>la.getPopularQueries(e),getRecent:e=>la.getRecentQueries(e),search:e=>la.searchQueries(e)},Nw={query:"",fuzzySearch:!0,fuzzyThreshold:.6,ageRange:{min:null,max:null},dateRange:{start:"",end:""},location:"",tags:[],segment:"",status:"",hasPhone:null,hasEmail:null,hasNotes:null,sortBy:"name",sortOrder:"asc"},w$=({patients:e,onFilteredResults:t,onClearFilters:r})=>{const[s,n]=F.useState(Nw),[a,i]=F.useState(!1);F.useState([]);const[l,u]=F.useState([]),[c,d]=F.useState(!1),[f,h]=F.useState(null),p=mn();mn();const{success:m,error:x,warning:y}=Wf(),[g,v]=F.useState({name:"",description:"",isDefault:!1,tags:[]});F.useEffect(()=>{u(fi.load())},[]),F.useMemo(()=>{const C=new Set;return e.forEach(E=>{var M;(M=E.tags)==null||M.forEach(Q=>C.add(Q))}),Array.from(C).sort()},[e]);const w=F.useMemo(()=>{let C=[...e];if(s.query.trim())if(s.fuzzySearch){const E={threshold:s.fuzzyThreshold,keys:["name","phone","email","address","tcNumber"],includeScore:!0};C=g$(C,s.query,E).map(Q=>Q.item)}else{const E=s.query.toLowerCase();C=C.filter(M=>{var Q,Y,X,ee,te;return((Q=M.firstName)==null?void 0:Q.toLowerCase().includes(E))||((Y=M.lastName)==null?void 0:Y.toLowerCase().includes(E))||((X=M.phone)==null?void 0:X.toLowerCase().includes(E))||((ee=M.email)==null?void 0:ee.toLowerCase().includes(E))||((te=M.address)==null?void 0:te.toLowerCase().includes(E))})}if((s.ageRange.min!==null||s.ageRange.max!==null)&&(C=C.filter(E=>{if(!E.birthDate)return!1;const M=new Date().getFullYear()-new Date(E.birthDate).getFullYear();return!(s.ageRange.min!==null&&M<s.ageRange.min||s.ageRange.max!==null&&M>s.ageRange.max)})),(s.dateRange.start||s.dateRange.end)&&(C=C.filter(E=>{if(!E.createdAt)return!1;const M=new Date(E.createdAt);return!(s.dateRange.start&&M<new Date(s.dateRange.start)||s.dateRange.end&&M>new Date(s.dateRange.end))})),s.location.trim()){const E=s.location.toLowerCase();C=C.filter(M=>{var Q;return(Q=M.address)==null?void 0:Q.toLowerCase().includes(E)})}return s.tags.length>0&&(C=C.filter(E=>s.tags.some(M=>{var Q;return(Q=E.tags)==null?void 0:Q.includes(M)}))),s.segment&&(C=C.filter(E=>E.segment===s.segment)),s.status&&(C=C.filter(E=>E.status===s.status)),s.hasPhone!==null&&(C=C.filter(E=>s.hasPhone?!!E.phone:!E.phone)),s.hasEmail!==null&&(C=C.filter(E=>s.hasEmail?!!E.email:!E.email)),s.hasNotes!==null&&(C=C.filter(E=>s.hasNotes?E.notes&&E.notes.length>0:!E.notes||E.notes.length===0)),C.sort((E,M)=>{let Q,Y;return s.sortBy==="name"?(Q=`${E.firstName} ${E.lastName}`.toLowerCase(),Y=`${M.firstName} ${M.lastName}`.toLowerCase()):s.sortBy==="age"?(Q=E.birthDate?new Date().getFullYear()-new Date(E.birthDate).getFullYear():0,Y=M.birthDate?new Date().getFullYear()-new Date(M.birthDate).getFullYear():0):(Q=E[s.sortBy],Y=M[s.sortBy]),typeof Q=="string"&&(Q=Q.toLowerCase(),Y=(Y==null?void 0:Y.toLowerCase())||""),Q<Y?s.sortOrder==="asc"?-1:1:Q>Y?s.sortOrder==="asc"?1:-1:0}),C},[e,s]),b=F.useCallback(async()=>{try{if(!g.name.trim()){x("Sorgu ad gereklidir");return}const C=fi.create(g.name,s.query,s,{description:g.description,isDefault:g.isDefault,tags:g.tags});u(fi.load()),m("Sorgu baaryla kaydedildi"),p.closeModal(),v({name:"",description:"",isDefault:!1,tags:[]})}catch(C){x(C.message||"Sorgu kaydedilemedi")}},[g,s,m,x,p]),D=F.useCallback(C=>{try{fi.use(C.id),n(C.filters),h(C),m(`"${C.name}" sorgusu yklendi`),u(fi.load())}catch(E){x(E.message||"Sorgu yklenemedi")}},[m,x]),A=F.useCallback(C=>{try{fi.delete(C),u(fi.load()),m("Sorgu silindi")}catch(E){x(E.message||"Sorgu silinemedi")}},[m,x]),_=F.useCallback(()=>{t(w)},[w,t]),S=F.useCallback(()=>{n(Nw),h(null),r()},[r]),k=F.useCallback((C,E)=>{n(M=>({...M,[C]:E})),h(null)},[]);F.useCallback(C=>{n(E=>({...E,tags:E.tags.includes(C)?E.tags.filter(M=>M!==C):[...E.tags,C]})),h(null)},[]);const N=F.useMemo(()=>{let C=0;return s.query.trim()&&C++,(s.ageRange.min!==null||s.ageRange.max!==null)&&C++,(s.dateRange.start||s.dateRange.end)&&C++,s.location.trim()&&C++,s.tags.length>0&&C++,s.segment&&C++,s.status&&C++,s.hasPhone!==null&&C++,s.hasEmail!==null&&C++,s.hasNotes!==null&&C++,C},[s]);return gt.useEffect(()=>{_()},[_]),o.jsx(Ot,{className:"mb-6",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(qe,{value:s.query,onChange:C=>k("query",C.target.value),placeholder:"Hasta ara... (fuzzy search aktif)",className:"pl-10 pr-4"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($n,{checked:s.fuzzySearch,onChange:C=>k("fuzzySearch",C)}),o.jsx("span",{className:"text-sm text-gray-600",children:"Fuzzy Search"})]}),o.jsxs(de,{variant:"outline",size:"sm",onClick:()=>d(!c),className:"relative",children:[o.jsx(nv,{className:"w-4 h-4 mr-1"}),"Kaytl Sorgular",l.length>0&&o.jsx(Qr,{variant:"secondary",className:"ml-2",children:l.length})]}),o.jsxs(de,{variant:"outline",size:"sm",onClick:p.openModal,disabled:!s.query.trim()&&Object.values(s).every(C=>C===""||C===null||C===!1||Array.isArray(C)&&C.length===0),children:[o.jsx(Sp,{className:"w-4 h-4 mr-1"}),"Kaydet"]}),o.jsxs(de,{variant:"ghost",size:"sm",onClick:()=>i(!a),children:[o.jsx(cu,{className:"w-4 h-4 mr-1"}),a?"Gizle":"Filtreler",N>0&&o.jsx(Qr,{variant:"primary",className:"ml-2",children:N})]}),N>0&&o.jsxs(de,{variant:"ghost",size:"sm",onClick:S,className:"text-gray-500 hover:text-gray-700",children:[o.jsx(fs,{className:"w-4 h-4"}),"Temizle"]})]}),s.fuzzySearch&&o.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"text-sm font-medium text-blue-900",children:["Fuzzy Search Hassasiyeti: ",Math.round(s.fuzzyThreshold*100),"%"]}),o.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:s.fuzzyThreshold,onChange:C=>k("fuzzyThreshold",parseFloat(C.target.value)),className:"w-32"})]}),o.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Dk deer: Daha esnek arama, Yksek deer: Daha kesin arama"})]}),c&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Kaytl Sorgular"}),o.jsx(de,{variant:"ghost",size:"sm",onClick:()=>d(!1),children:o.jsx(fs,{className:"w-4 h-4"})})]}),l.length===0?o.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Henz kaytl sorgu yok"}):o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.map(C=>o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${(f==null?void 0:f.id)===C.id?"border-blue-300 bg-blue-50":"border-gray-200 bg-white"}`,children:[o.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>D(C),children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-medium text-sm",children:C.name}),C.isDefault&&o.jsx(Qr,{variant:"primary",size:"sm",children:"Varsaylan"}),o.jsxs(Qr,{variant:"secondary",size:"sm",children:[C.usageCount," kullanm"]})]}),C.description&&o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:C.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-1",children:[o.jsxs("span",{children:['"',C.query,'"']}),C.lastUsed&&o.jsxs("span",{className:"flex items-center",children:[o.jsx(Qi,{className:"w-3 h-3 mr-1"}),C.lastUsed.toLocaleDateString()]})]})]}),o.jsx("div",{className:"flex items-center space-x-1",children:o.jsx(de,{variant:"ghost",size:"sm",onClick:()=>A(C.id),className:"text-red-600 hover:text-red-700",children:o.jsx(_n,{className:"w-4 h-4"})})})]},C.id))})]}),o.jsx(ar,{isOpen:p.isOpen,onClose:p.closeModal,title:"Sorguyu Kaydet",size:"md",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sorgu Ad *"}),o.jsx(qe,{value:g.name,onChange:C=>v(E=>({...E,name:C.target.value})),placeholder:"rn: VIP mteriler, Aktif hastalar..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aklama"}),o.jsx(Uu,{value:g.description,onChange:C=>v(E=>({...E,description:C.target.value})),placeholder:"Bu sorgunun ne iin kullanldn aklayn...",rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($n,{checked:g.isDefault,onChange:C=>v(E=>({...E,isDefault:C.target.checked}))}),o.jsx("span",{className:"text-sm text-gray-700",children:"Varsaylan sorgu olarak iaretle"})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Kaydedilecek Filtreler:"}),o.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.query&&o.jsxs("div",{children:[' Arama: "',s.query,'"']}),s.segment&&o.jsxs("div",{children:[" Segment: ",s.segment]}),s.status&&o.jsxs("div",{children:[" Durum: ",s.status]}),s.tags.length>0&&o.jsxs("div",{children:[" Etiketler: ",s.tags.join(", ")]}),s.location&&o.jsxs("div",{children:[" Konum: ",s.location]}),(s.ageRange.min||s.ageRange.max)&&o.jsxs("div",{children:[" Ya: ",s.ageRange.min||0,"-",s.ageRange.max||""]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(de,{variant:"outline",onClick:p.closeModal,children:"ptal"}),o.jsxs(de,{onClick:b,children:[o.jsx(Sp,{className:"w-4 h-4 mr-2"}),"Kaydet"]})]})]})}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mt-4",children:[o.jsxs("span",{children:[w.length," hasta bulundu",e.length!==w.length&&` (${e.length} toplam)`]}),f&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(nv,{className:"w-4 h-4 text-yellow-500"}),o.jsxs("span",{className:"text-blue-600",children:['"',f.name,'" sorgusu aktif']})]})]})]})})},BN={weights:{tcNumber:.35,phone:.25,email:.15,name:.15,birthDate:.07,address:.03},thresholds:{high:.85,medium:.65,low:.45},fuzzyMatching:{enabled:!0,nameThreshold:.8,phoneThreshold:.9,addressThreshold:.7},exactMatching:{tcNumber:!0,phone:!0,email:!0}};class k${constructor(t=BN){mt(this,"config");this.config=t}findAllMatches(t){const r=[],s=new Set;for(let n=0;n<t.length;n++)for(let a=n+1;a<t.length;a++){const i=t[n],l=t[a],u=`${Math.min(n,a)}-${Math.max(n,a)}`;if(s.has(u))continue;s.add(u);const c=this.comparePatients(i,l);c&&c.similarity>=this.config.thresholds.low&&r.push({...c,id:`match-${n}-${a}`,patients:[i,l]})}return r.sort((n,a)=>a.similarity-n.similarity)}comparePatients(t,r){let s=0,n=0;const a=[];let i="partial",l=!1;if(t.tcNumber&&r.tcNumber&&(t.tcNumber===r.tcNumber&&(s+=this.config.weights.tcNumber,a.push("Ayn TC Kimlik Numaras"),l=!0,i="exact"),n+=this.config.weights.tcNumber),t.phone&&r.phone){const f=this.comparePhones(t.phone,r.phone);f.isExact?(a.push("Ayn telefon numaras"),l=!0,i!=="exact"&&(i="exact")):f.isFuzzy&&(a.push(`Benzer telefon numaras (${Math.round(f.similarity*100)}% benzerlik)`),i==="partial"&&(i="fuzzy")),s+=f.similarity*this.config.weights.phone,n+=this.config.weights.phone}if(t.email&&r.email){const f=this.compareEmails(t.email,r.email);f.isExact&&(a.push("Ayn e-posta adresi"),l=!0,i!=="exact"&&(i="exact")),s+=f.similarity*this.config.weights.email,n+=this.config.weights.email}if(t.name&&r.name){const f=this.compareNames(t.name,r.name);f.isExact?(a.push("Ayn isim"),l=!0):f.isFuzzy&&(a.push(`Benzer isim (${Math.round(f.similarity*100)}% benzerlik)`),i==="partial"&&(i="fuzzy")),s+=f.similarity*this.config.weights.name,n+=this.config.weights.name}if(t.birthDate&&r.birthDate&&(t.birthDate===r.birthDate&&(s+=this.config.weights.birthDate,a.push("Ayn doum tarihi"),l=!0),n+=this.config.weights.birthDate),t.address&&r.address){const f=this.compareAddresses(t.address,r.address);f.isFuzzy&&(a.push(`Benzer adres (${Math.round(f.similarity*100)}% benzerlik)`),i==="partial"&&(i="fuzzy")),s+=f.similarity*this.config.weights.address,n+=this.config.weights.address}if(n===0||a.length===0)return null;const u=s/n,c=this.getConfidenceLevel(u),d=this.getRiskLevel(u,a,l);return{similarity:u,matchReasons:a,confidence:c,status:"pending",matchType:i,riskLevel:d}}comparePhones(t,r){const s=this.cleanPhone(t),n=this.cleanPhone(r);if(s===n)return{similarity:1,isExact:!0,isFuzzy:!1};if(this.config.fuzzyMatching.enabled){const a=1-ix(s,n)/Math.max(s.length,n.length),i=a>=this.config.fuzzyMatching.phoneThreshold;return{similarity:i?a:0,isExact:!1,isFuzzy:i}}return{similarity:0,isExact:!1,isFuzzy:!1}}compareEmails(t,r){const s=t.toLowerCase().trim(),n=r.toLowerCase().trim();return{similarity:s===n?1:0,isExact:s===n}}compareNames(t,r){const s=this.cleanName(t),n=this.cleanName(r);if(s===n)return{similarity:1,isExact:!0,isFuzzy:!1};if(this.config.fuzzyMatching.enabled){const a=this.calculateNameSimilarity(s,n),i=a>=this.config.fuzzyMatching.nameThreshold;return{similarity:i?a:0,isExact:!1,isFuzzy:i}}return{similarity:0,isExact:!1,isFuzzy:!1}}compareAddresses(t,r){if(!this.config.fuzzyMatching.enabled)return{similarity:0,isFuzzy:!1};const s=this.cleanAddress(t),n=this.cleanAddress(r),a=this.calculateAddressSimilarity(s,n),i=a>=this.config.fuzzyMatching.addressThreshold;return{similarity:i?a:0,isFuzzy:i}}calculateNameSimilarity(t,r){const s=t.split(" ").filter(l=>l.length>1),n=r.split(" ").filter(l=>l.length>1);if(s.length===0||n.length===0)return 0;let a=0,i=0;for(const l of s){let u=0;for(const c of n){const d=1-ix(l,c)/Math.max(l.length,c.length);u=Math.max(u,d)}a+=u,i++}return i>0?a/i:0}calculateAddressSimilarity(t,r){const s=t.toLowerCase().split(/\s+/).filter(l=>l.length>2),n=r.toLowerCase().split(/\s+/).filter(l=>l.length>2);if(s.length===0||n.length===0)return 0;const a=s.filter(l=>n.includes(l)),i=new Set([...s,...n]).size;return i>0?a.length/i:0}getConfidenceLevel(t){return t>=this.config.thresholds.high?"high":t>=this.config.thresholds.medium?"medium":"low"}getRiskLevel(t,r,s){return s&&r.some(n=>n.includes("TC Kimlik")||n.includes("telefon"))||t>=.9?"critical":t>=.8?"high":t>=.6?"medium":"low"}cleanPhone(t){return t.replace(/\D/g,"")}cleanName(t){return t.toLowerCase().trim().replace(/[^\w\s]/g,"").replace(/\s+/g," ")}cleanAddress(t){return t.toLowerCase().trim().replace(/[^\w\s]/g," ").replace(/\s+/g," ")}updateConfig(t){this.config={...this.config,...t}}findMatchesForPatient(t,r){const s=[];for(let n=0;n<r.length;n++){const a=r[n];if(a.id===t.id)continue;const i=this.comparePatients(t,a);i&&i.similarity>=this.config.thresholds.low&&s.push({...i,id:`match-${t.id}-${a.id}`,patients:[t,a]})}return s.sort((n,a)=>a.similarity-n.similarity)}}const Cw=e=>{switch(e){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},Tw=e=>{switch(e){case"critical":return"text-red-700 bg-red-100 border-red-300";case"high":return"text-orange-700 bg-orange-100 border-orange-300";case"medium":return"text-yellow-700 bg-yellow-100 border-yellow-300";case"low":return"text-green-700 bg-green-100 border-green-300";default:return"text-gray-700 bg-gray-100 border-gray-300"}},S$=({patients:e,onMergePatients:t,onRefresh:r})=>{const[s,n]=F.useState([]),[a,i]=F.useState(null),[l,u]=F.useState(null),[c,d]=F.useState(!1),[f,h]=F.useState("all"),[p,m]=F.useState("all"),[x,y]=F.useState("all"),[g,v]=F.useState(""),[w,b]=F.useState(BN),[D,A]=F.useState(!1),_=mn(),S=mn(),k=mn(),{success:N,error:C}=Wf(),E=F.useMemo(()=>new k$(w),[w]),M=F.useCallback(async()=>{d(!0);try{const T=E.findAllMatches(e);n(T),N(`${T.length} potansiyel eleme bulundu`)}catch{C("Eleme analizi srasnda hata olutu")}finally{d(!1)}},[e,E,N,C]),Q=F.useCallback(T=>{const[j,...L]=T.patients,z=[],I={...j};return["name","phone","email","birthDate","address"].forEach(ne=>{const re=T.patients.map(ae=>({patientId:ae.id,value:ae[ne],patientName:ae.name||`${ae.firstName||""} ${ae.lastName||""}`.trim()||"Unknown"})).filter(ae=>ae.value);re.length>1&&[...new Set(re.map(q=>q.value))].length>1&&z.push({field:ne,values:re})}),{primary:j,duplicates:L,mergedData:I,conflicts:z}},[]),Y=F.useCallback(T=>{i(T),_.openModal()},[_]),X=F.useCallback(T=>{const j=Q(T);u(j),i(T),S.openModal()},[Q,S]),ee=F.useCallback(async()=>{if(!(!a||!l))try{const T=l.primary.id,j=l.duplicates.map(L=>L.id);await t(T,j),n(L=>L.map(z=>z.id===a.id?{...z,status:"merged"}:z)),N("Hastalar baaryla birletirildi"),S.closeModal(),r()}catch{C("Hasta birletirme srasnda hata olutu")}},[a,l,t,N,C,S,r]),te=F.useCallback(T=>{n(j=>j.map(L=>L.id===T?{...L,status:"ignored"}:L))},[]),R=F.useMemo(()=>s.filter(T=>{if(f!=="all"&&T.status!==f||p!=="all"&&T.confidence!==p||x!=="all"&&T.riskLevel!==x)return!1;if(g){const j=g.toLowerCase();if(!T.patients.some(z=>{var I,J,ne,re;return((I=z.firstName)==null?void 0:I.toLowerCase().includes(j))||((J=z.lastName)==null?void 0:J.toLowerCase().includes(j))||((ne=z.phone)==null?void 0:ne.includes(g))||((re=z.email)==null?void 0:re.toLowerCase().includes(j))}))return!1}return!0}),[s,f,p,x,g]),se=F.useMemo(()=>R.filter(T=>T.status==="pending"),[R]),U=T=>{switch(T){case"high":return"Yksek";case"medium":return"Orta";case"low":return"Dk";default:return"Bilinmeyen"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Hasta Eletirme"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Potansiyel duplikat hastalar tespit edin ve birletirin"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($n,{checked:D,onChange:T=>A(T.target.checked)}),o.jsx("span",{className:"text-sm text-gray-700",children:"Otomatik birletirme"})]}),o.jsxs(de,{variant:"outline",onClick:()=>k.openModal(),children:[o.jsx(bp,{className:"w-4 h-4 mr-2"}),"Ayarlar"]}),o.jsxs(de,{onClick:M,loading:c,disabled:e.length<2,children:[o.jsx(qs,{className:"w-4 h-4 mr-2"}),"Analiz Et"]})]})]}),s.length>0&&o.jsx(Ot,{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arama"}),o.jsxs("div",{className:"relative",children:[o.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(qe,{placeholder:"Hasta ara...",value:g,onChange:T=>v(T.target.value),className:"pl-10"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durum"}),o.jsx(ur,{value:f,onChange:T=>h(T.target.value),options:[{value:"all",label:"Tm"},{value:"pending",label:"Beklemede"},{value:"reviewed",label:"ncelendi"},{value:"merged",label:"Birletirildi"},{value:"ignored",label:"Yoksayld"}]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gven Seviyesi"}),o.jsx(ur,{value:p,onChange:T=>m(T.target.value),options:[{value:"all",label:"Tm"},{value:"high",label:"Yksek"},{value:"medium",label:"Orta"},{value:"low",label:"Dk"}]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Risk Seviyesi"}),o.jsx(ur,{value:x,onChange:T=>y(T.target.value),options:[{value:"all",label:"Tm"},{value:"critical",label:"Kritik"},{value:"high",label:"Yksek"},{value:"medium",label:"Orta"},{value:"low",label:"Dk"}]})]})]})}),s.length>0&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(Ot,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(qs,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Eleme"}),o.jsx("p",{className:"text-xl font-semibold",children:s.length})]})]})}),o.jsx(Ot,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:o.jsx(lu,{className:"w-5 h-5 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Yksek Gven"}),o.jsx("p",{className:"text-xl font-semibold",children:s.filter(T=>T.confidence==="high").length})]})]})}),o.jsx(Ot,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(Za,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Birletirildi"}),o.jsx("p",{className:"text-xl font-semibold",children:s.filter(T=>T.status==="merged").length})]})]})}),o.jsx(Ot,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:o.jsx(fs,{className:"w-5 h-5 text-yellow-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Beklemede"}),o.jsx("p",{className:"text-xl font-semibold",children:se.length})]})]})})]}),R.length>0?o.jsx("div",{className:"space-y-4",children:R.map(T=>o.jsx(Ot,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsxs(Qr,{className:Cw(T.confidence),children:[U(T.confidence)," Gven"]}),o.jsxs(Qr,{className:Tw(T.riskLevel),children:[T.riskLevel," Risk"]}),o.jsxs("span",{className:"text-sm text-gray-600",children:["%",Math.round(T.similarity*100)," benzerlik"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:T.patients.map((j,L)=>o.jsxs("div",{className:"border rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(ss,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{className:"font-medium",children:[j.firstName," ",j.lastName]})]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[j.phone&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(yl,{className:"w-3 h-3"}),o.jsx("span",{children:j.phone})]}),j.email&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gl,{className:"w-3 h-3"}),o.jsx("span",{children:j.email})]}),j.birthDate&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Xn,{className:"w-3 h-3"}),o.jsx("span",{children:j.birthDate})]})]})]},j.id))}),o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Eleme Nedenleri:"})," ",T.matchReasons.join(", ")]})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsx(de,{variant:"outline",size:"sm",onClick:()=>Y(T),children:o.jsx(Vu,{className:"w-4 h-4"})}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>X(T),disabled:T.status!=="pending",children:o.jsx(PF,{className:"w-4 h-4"})}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>te(T.id),disabled:T.status!=="pending",children:o.jsx(fs,{className:"w-4 h-4"})})]})]})},T.id))}):s.length>0?o.jsxs(Ot,{className:"p-8 text-center",children:[o.jsx(Za,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Filtre kriterlerine uygun eleme bulunamad"}),o.jsx("p",{className:"text-gray-600",children:"Farkl filtre seeneklerini deneyin veya filtreleri temizleyin."})]}):o.jsxs(Ot,{className:"p-8 text-center",children:[o.jsx(qs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henz analiz yaplmad"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Potansiyel duplikat hastalar bulmak iin analiz balatn."}),o.jsxs(de,{onClick:M,disabled:e.length<2,children:[o.jsx(qs,{className:"w-4 h-4 mr-2"}),"Analiz Et"]})]}),o.jsx(ar,{isOpen:_.isOpen,onClose:_.closeModal,title:"Eleme Detaylar",size:"lg",children:a&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(Qr,{className:Cw(a.confidence),children:[U(a.confidence)," Gven"]}),o.jsxs(Qr,{className:Tw(a.riskLevel),children:[a.riskLevel," Risk"]}),o.jsxs("span",{className:"text-sm text-gray-600",children:["%",Math.round(a.similarity*100)," benzerlik"]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Eleme Nedenleri:"}),o.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:a.matchReasons.map((T,j)=>o.jsx("li",{children:T},j))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Hasta Bilgileri:"}),o.jsx("div",{className:"space-y-3",children:a.patients.map((T,j)=>o.jsxs("div",{className:"border rounded-lg p-3",children:[o.jsxs("h5",{className:"font-medium mb-2",children:["Hasta ",j+1,": ",T.firstName," ",T.lastName]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Telefon:"})," ",T.phone||"Yok"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"E-posta:"})," ",T.email||"Yok"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Doum Tarihi:"})," ",T.birthDate||"Yok"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Adres:"})," ",T.address||"Yok"]})]})]},T.id))})]})]})}),o.jsx(ar,{isOpen:S.isOpen,onClose:S.closeModal,title:"Hastalar Birletir",size:"lg",children:l&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(lu,{className:"w-5 h-5 text-yellow-600"}),o.jsx("span",{className:"font-medium text-yellow-800",children:"Dikkat"})]}),o.jsx("p",{className:"text-yellow-700 mt-1",children:"Bu ilem geri alnamaz. Seilen hastalar birletirilecek ve duplikat kaytlar silinecektir."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Ana Hasta (Korunacak):"}),o.jsxs("div",{className:"border rounded-lg p-3 bg-green-50",children:[o.jsx("div",{className:"font-medium",children:l.primary.name}),o.jsxs("div",{className:"text-sm text-gray-600",children:[l.primary.phone,"  ",l.primary.email]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Silinecek Hastalar:"}),o.jsx("div",{className:"space-y-2",children:l.duplicates.map(T=>o.jsxs("div",{className:"border rounded-lg p-3 bg-red-50",children:[o.jsxs("div",{className:"font-medium",children:[T.firstName," ",T.lastName]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[T.phone,"  ",T.email]})]},T.id))})]}),l.conflicts.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2 text-orange-600",children:"akan Alanlar:"}),o.jsx("div",{className:"space-y-2",children:l.conflicts.map((T,j)=>o.jsxs("div",{className:"border rounded-lg p-3 bg-orange-50",children:[o.jsx("div",{className:"font-medium capitalize",children:T.field}),o.jsx("div",{className:"space-y-1 mt-1",children:T.values.map((L,z)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("strong",{children:[L.patientName,":"]})," ",L.value]},z))})]},j))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(de,{variant:"outline",onClick:S.closeModal,children:"ptal"}),o.jsx(de,{onClick:ee,className:"bg-red-600 hover:bg-red-700",children:"Birletir"})]})]})})]})};function b$(){var k,N;const[e,t]=F.useState([]);F.useState(!1),F.useState(null);const[r,s]=F.useState(""),[n,a]=F.useState({}),[i,l]=F.useState([]);e!=null&&e.length,(k=e==null?void 0:e.filter(C=>C.status==="active"))!=null&&k.length,(N=e==null?void 0:e.filter(C=>C.status==="inactive"))!=null&&N.length;const u=async C=>{console.log("CSV upload:",C)},c=(C,E)=>{console.log("Save view:",C,E)},d=C=>{console.log("Select view:",C)},f=(C,E,M)=>{console.log("Update view:",C,E,M)},h=C=>{console.log("Delete view:",C)},p=()=>{a({})},m=()=>{l(e.map(C=>C.id))},x=()=>{l([])},y=async C=>{console.log("Bulk add tag:",C,i)},g=async C=>{console.log("Bulk remove tag:",C,i)},v=async(C,E)=>{console.log("Bulk send SMS:",C,E)},w=async(C,E,M)=>{console.log("Bulk send email:",C,E,M)},b=async C=>{console.log("Bulk export:",C,i)},D=async C=>{console.log("Bulk status change:",C,i)},A=async()=>{console.log("Bulk delete:",i)},_=async C=>{console.log("Bulk schedule appointment:",C,i)},S=async C=>{console.log("Bulk assign to segment:",C,i)};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[o.jsx("h1",{className:"text-2xl font-semibold",children:"Hastalar"}),o.jsx(u$,{onUpload:u})]}),o.jsxs(Hr,{defaultValue:"list",className:"flex-1 flex flex-col",children:[o.jsxs(Hr.List,{className:"px-6 pt-4",children:[o.jsx(Hr.Trigger,{value:"list",children:"Hasta Listesi"}),o.jsx(Hr.Trigger,{value:"bulk",children:"Toplu lemler"}),o.jsx(Hr.Trigger,{value:"search",children:"Gelimi Arama"}),o.jsx(Hr.Trigger,{value:"matching",children:"Hasta Eletirme"})]}),o.jsxs(Hr.Content,{value:"list",className:"flex-1 flex flex-col",children:[o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx(f$,{savedViews:[],onSelectView:d,onSaveView:c,onUpdateView:f,onDeleteView:h,currentFilters:n}),o.jsx(o$,{value:r,onChange:s}),o.jsx(l$,{filters:n,onChange:a,onClearFilters:p}),o.jsx(c$,{selectedPatients:i,totalPatients:(e==null?void 0:e.length)||0,onSelectAll:m,onDeselectAll:x,onBulkAddTag:y,onBulkRemoveTag:g,onBulkSendSMS:v,onBulkSendEmail:w,onBulkExport:b,onBulkStatusChange:D,onBulkDelete:A,onBulkScheduleAppointment:_,onBulkAssignToSegment:S})]}),o.jsx("div",{className:"flex-1 p-6",children:o.jsx(i$,{patients:e||[]})})]}),o.jsx(Hr.Content,{value:"bulk",className:"flex-1 p-6",children:o.jsx(p$,{selectedPatients:i,onClearSelection:()=>l([]),onRefresh:()=>{}})}),o.jsx(Hr.Content,{value:"search",className:"flex-1 p-6",children:o.jsx(w$,{patients:e||[],onFilteredResults:C=>t(C),onClearFilters:()=>a({})})}),o.jsx(Hr.Content,{value:"matching",className:"flex-1 p-6",children:o.jsx(S$,{patients:e||[],onMergePatients:(C,E)=>console.log("Merge:",C,E),onRefresh:()=>{}})})]})]})}const _$=Lr("/patients/")({component:b$});function zN(){return o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Invoices"}),o.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:[o.jsx("p",{children:" This page is temporarily disabled due to TypeScript refactoring."}),o.jsx("p",{children:"Please check back later or contact the development team."})]})]})}const E$=Lr("/invoices/")({component:zN});function Aw(e){const t=(e==null?void 0:e.id)??"",r=(e==null?void 0:e.firstName)??(e==null?void 0:e.first_name)??"",s=(e==null?void 0:e.lastName)??(e==null?void 0:e.last_name)??"",n=(e==null?void 0:e.phone)??"",a=((e==null?void 0:e.addressFull)??(e==null?void 0:e.address_full)??[e==null?void 0:e.addressCity,e==null?void 0:e.addressDistrict].filter(Boolean).join(", "))||void 0,i=(e==null?void 0:e.status)??"active",l=(e==null?void 0:e.segment)??"new";return{id:t,firstName:r,lastName:s,phone:n,tcNumber:(e==null?void 0:e.tcNumber)??(e==null?void 0:e.tc_number)??void 0,birthDate:(e==null?void 0:e.birthDate)??(e==null?void 0:e.birth_date)??void 0,email:(e==null?void 0:e.email)??void 0,address:a,status:i,segment:l,label:"yeni",acquisitionType:(e==null?void 0:e.acquisitionType)??"diger",tags:Array.isArray(e==null?void 0:e.tags)?e.tags:[],priorityScore:typeof(e==null?void 0:e.priorityScore)=="number"?e.priorityScore:void 0,deviceTrial:void 0,trialDevice:void 0,trialDate:void 0,priceGiven:void 0,purchased:void 0,purchaseDate:void 0,deviceType:void 0,deviceModel:void 0,overdueAmount:void 0,sgkStatus:void 0,sgkSubmittedDate:void 0,sgkDeadline:void 0,deviceReportRequired:void 0,batteryReportRequired:void 0,batteryReportDue:void 0,lastContactDate:void 0,lastAppointmentDate:void 0,missedAppointments:void 0,lastPriorityTaskDate:void 0,renewalContactMade:void 0,assignedClinician:void 0,createdAt:(e==null?void 0:e.createdAt)??new Date().toISOString(),updatedAt:(e==null?void 0:e.updatedAt)??new Date().toISOString(),devices:[],notes:[],communications:void 0,reports:void 0,ereceiptHistory:void 0,appointments:void 0,installments:void 0,sales:void 0,sgkInfo:(e==null?void 0:e.sgkInfo)??(e==null?void 0:e.sgk_info)??{},sgkWorkflow:void 0}}class N${async fetchAllPatients(){const t=[];let r;try{for(;;){const n={per_page:100};r&&(n.cursor=r);const a=await TN(n),i=a==null?void 0:a.data;if(!i||!Array.isArray(i.data))break;const l=i.data;t.push(...l);const u=i.pagination;if(!(u!=null&&u.hasNext)||!(u!=null&&u.nextCursor))break;if(r=u.nextCursor,t.length>1e4){console.warn(" Reached safety limit of 10,000 patients");break}}return console.log(` Fetched ${t.length} patients from API`),t}catch(n){throw console.error(" Failed to fetch patients from API:",n),n}}async fetchPatient(t){try{return(await this.fetchAllPatients()).find(s=>s.id===t)||null}catch(r){return console.error(` Failed to fetch patient ${t}:`,r),null}}async createPatient(t){try{return{...t,id:this.generateId(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(r){throw console.error(" Failed to create patient:",r),r}}async updatePatient(t,r){try{const s=await this.fetchPatient(t);return s?{...s,...r,updatedAt:new Date().toISOString()}:null}catch(s){throw console.error(` Failed to update patient ${t}:`,s),s}}async deletePatient(t){try{return console.log(` Simulated deletion of patient ${t}`),!0}catch(r){return console.error(` Failed to delete patient ${t}:`,r),!1}}async createNote(t,r){throw new Error("createNote API method not implemented yet")}async deleteNote(t,r){throw new Error("deleteNote API method not implemented yet")}async getTimeline(t){throw new Error("getTimeline API method not implemented yet")}async getSales(t){throw new Error("getSales API method not implemented yet")}async bulkUpload(t){throw new Error("bulkUpload API method not implemented yet")}async search(t){throw new Error("search API method not implemented yet")}async exportCsv(t){throw new Error("exportCsv API method not implemented yet")}async list(t){throw new Error("list API method not implemented yet")}async getPatients(t){try{let s=await this.fetchAllPatients();if(t!=null&&t.search){const c=t.search.toLowerCase();s=s.filter(d=>{var f,h,p,m;return((f=d.firstName)==null?void 0:f.toLowerCase().includes(c))||((h=d.lastName)==null?void 0:h.toLowerCase().includes(c))||((p=d.tcNumber)==null?void 0:p.includes(t.search))||((m=d.phone)==null?void 0:m.includes(t.search))})}t!=null&&t.status&&(s=s.filter(c=>c.status===t.status));const n=(t==null?void 0:t.page)||1,a=(t==null?void 0:t.per_page)||10,i=(n-1)*a,l=i+a;return{data:{data:s.slice(i,l),meta:{total:s.length,page:n,per_page:a,total_pages:Math.ceil(s.length/a)}}}}catch(r){throw console.error("Failed to get patients:",r),r}}generateId(){return`patient_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}class C${constructor(){mt(this,"CACHE_KEY_PREFIX","patient_");this.init()}async init(){await ut.init()}async storePatients(t){await ut.savePatients(t)}async getAllPatients(){return await ut.getPatients()}async getPatientById(t){return(await this.getAllPatients()).find(s=>s.id===t)||null}async searchPatients(t){let s=await this.getAllPatients();if(t.search){const c=t.search.toLowerCase();s=s.filter(d=>{var f,h,p,m;return((f=d.firstName)==null?void 0:f.toLowerCase().includes(c))||((h=d.lastName)==null?void 0:h.toLowerCase().includes(c))||d.phone.includes(c)||((p=d.tcNumber)==null?void 0:p.includes(c))||((m=d.email)==null?void 0:m.toLowerCase().includes(c))})}t.status&&(s=s.filter(c=>c.status===t.status)),t.segment&&(s=s.filter(c=>c.segment===t.segment)),t.label&&(s=s.filter(c=>c.label===t.label)),t.tags&&t.tags.length>0&&(s=s.filter(c=>t.tags.some(d=>c.tags.includes(d))));const n=t.page||1,a=t.limit||50,i=(n-1)*a,l=i+a;return{patients:s.slice(i,l),total:s.length,page:n,pageSize:a,hasMore:l<s.length}}async updatePatient(t){const r=await this.getAllPatients(),s=r.findIndex(n=>n.id===t.id);s>=0?r[s]={...t,updatedAt:new Date().toISOString()}:r.push({...t,updatedAt:new Date().toISOString()}),await this.storePatients(r)}async deletePatient(t){const s=(await this.getAllPatients()).filter(n=>n.id!==t);await this.storePatients(s)}async clearAllPatients(){await this.storePatients([])}async getPatientCount(){return(await this.getAllPatients()).length}async patientExists(t){return await this.getPatientById(t)!==null}async cachePatientData(t,r,s){const n=`${this.CACHE_KEY_PREFIX}${t}`;await ut.setCache(n,r,s)}async getCachedPatientData(t){const r=`${this.CACHE_KEY_PREFIX}${t}`;return await ut.getCache(r)}async clearCachedPatientData(t){const r=`${this.CACHE_KEY_PREFIX}${t}`;await ut.deleteCache(r)}}function T$(e){const[t,r]=F.useState(null),[s,n]=F.useState(!1),[a,i]=F.useState(null),l=new N$,u=new C$,c=F.useCallback(async p=>{n(!0),i(null);try{const m=await l.fetchPatient(p);if(m){const x=Aw(m);r(x)}else{const x=await u.getPatientById(p);r(x)}}catch(m){i(m instanceof Error?m:new Error(String(m)));try{const x=await u.getPatientById(p);r(x)}catch(x){console.error("Failed to load from local storage:",x)}}finally{n(!1)}},[l,u]),d=F.useCallback(async p=>{if(!t)return null;n(!0),i(null);try{const m=await l.updatePatient(t.id,p);if(m){const x=Aw(m);return r(x),x}return null}catch(m){return i(m instanceof Error?m:new Error(String(m))),null}finally{n(!1)}},[t,l]),f=F.useCallback(async()=>{if(!t)return!1;n(!0),i(null);try{return await l.deletePatient(t.id)?(r(null),!0):!1}catch(p){return i(p instanceof Error?p:new Error(String(p))),!1}finally{n(!1)}},[t,l]),h=F.useCallback(()=>{i(null)},[]);return F.useEffect(()=>{e&&c(e)},[e,c]),{patient:t,data:t,loading:s,isLoading:s,error:a,loadPatient:c,updatePatient:d,deletePatient:f,clearError:h}}const jw=({variant:e="secondary",size:t="md",children:r})=>{const s="inline-flex items-center font-medium rounded-full",n={success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",secondary:"bg-gray-100 text-gray-800"},a={sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm"};return o.jsx("span",{className:`${s} ${n[e]} ${a[t]}`,children:r})},A$=({patient:e,onEdit:t,onCall:r,onDelete:s,onPrint:n,onExport:a,onSendSMS:i,onCopyInfo:l,onGenerateReport:u})=>{const c=m=>({active:{label:"Aktif",variant:"success"},inactive:{label:"Pasif",variant:"secondary"},pending:{label:"Beklemede",variant:"warning"},archived:{label:"Arivlenmi",variant:"danger"}})[m]||{label:m,variant:"secondary"},d=m=>m?m>=80?"Yksek":m>=50?"Orta":"Dk":"Dk",f=m=>m?new Date(m).toLocaleDateString("tr-TR"):"Belirtilmemi",h=m=>m?m.replace(/(\d{3})(\d{3})(\d{2})(\d{2})/,"($1) $2 $3 $4"):"Belirtilmemi",p=c(e.status);return o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(ss,{className:"w-8 h-8 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[e.firstName||""," ",e.lastName||""]}),o.jsx(jw,{variant:p.variant,children:p.label}),o.jsxs("span",{className:"text-sm text-gray-500",children:["ncelik: ",d(e.priorityScore)]})]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[o.jsx("span",{className:"font-medium",children:"Segment:"})," ",e.segment||"Belirtilmemi"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(yl,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:h(e.phone)})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ss,{className:"w-4 h-4 text-gray-400"}),o.jsxs("span",{children:["TC: ",e.tcNumber||"Belirtilmemi"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Xn,{className:"w-4 h-4 text-gray-400"}),o.jsxs("span",{children:["Doum: ",f(e.birthDate)]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gl,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:e.email||"Belirtilmemi"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(FF,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:e.address||"Belirtilmemi"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Xn,{className:"w-4 h-4 text-gray-400"}),o.jsxs("span",{children:["Kazanm: ",e.acquisitionType||"Belirtilmemi"]})]})]}),o.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-gray-500",children:[o.jsxs("span",{children:["Kayt: ",f(e.createdAt)]}),e.tags&&e.tags.length>0&&o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:"Etiketler:"}),e.tags.map((m,x)=>o.jsx(jw,{variant:"secondary",size:"sm",children:m},x))]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[r&&o.jsx(de,{variant:"outline",size:"sm",onClick:r,icon:o.jsx(yl,{className:"w-4 h-4"}),iconPosition:"left",children:"Ara"}),i&&o.jsx(de,{variant:"outline",size:"sm",onClick:i,icon:o.jsx(Ga,{className:"w-4 h-4"}),iconPosition:"left",children:"SMS"}),t&&o.jsx(de,{variant:"primary",size:"sm",onClick:t,icon:o.jsx(K0,{className:"w-4 h-4"}),iconPosition:"left",children:"Dzenle"}),o.jsxs("div",{className:"relative group",children:[o.jsx(de,{variant:"outline",size:"sm",icon:o.jsx(IF,{className:"w-4 h-4"}),children:"Dier"}),o.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white rounded-md shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:o.jsxs("div",{className:"py-1",children:[n&&o.jsxs(de,{variant:"ghost",onClick:n,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 justify-start",children:[o.jsx(UF,{className:"w-4 h-4 mr-3"}),"Yazdr"]}),a&&o.jsxs(de,{variant:"ghost",onClick:a,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 justify-start",children:[o.jsx($u,{className:"w-4 h-4 mr-3"}),"Da Aktar"]}),u&&o.jsxs(de,{variant:"ghost",onClick:u,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 justify-start",children:[o.jsx(ii,{className:"w-4 h-4 mr-3"}),"Rapor Olutur"]}),l&&o.jsxs(de,{variant:"ghost",onClick:l,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 justify-start",children:[o.jsx(SF,{className:"w-4 h-4 mr-3"}),"Bilgileri Kopyala"]}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border-t border-gray-100 my-1"}),o.jsxs(de,{variant:"ghost",onClick:s,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 justify-start",children:[o.jsx(_n,{className:"w-4 h-4 mr-3"}),"Sil"]})]})]})})]})]})]})})},zc=({value:e,onValueChange:t,className:r,children:s})=>o.jsx("div",{className:r,children:gt.Children.map(s,n=>gt.isValidElement(n)?gt.cloneElement(n,{activeValue:e,onValueChange:t}):n)}),j$=({className:e,children:t,activeValue:r,onValueChange:s})=>o.jsx("div",{className:`border-b border-gray-200 ${e||""}`,children:o.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:gt.Children.map(t,n=>gt.isValidElement(n)?gt.cloneElement(n,{activeValue:r,onValueChange:s}):n)})}),F$=({value:e,disabled:t,className:r,children:s,activeValue:n,onValueChange:a})=>{const i=n===e;return o.jsx(de,{onClick:()=>!t&&(a==null?void 0:a(e)),disabled:t,className:`
        group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap
        ${i?"border-blue-500 text-blue-600":t?"border-transparent text-gray-400 cursor-not-allowed":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
        ${r||""}
      `,variant:"outline",children:s})};zc.List=j$;zc.Trigger=F$;const R$=({patient:e,activeTab:t,onTabChange:r})=>{var n,a,i,l,u;const s=[{id:"general",label:"Genel Bilgiler",icon:o.jsx(ss,{className:"w-4 h-4"}),count:null},{id:"devices",label:"Cihazlar",icon:o.jsx(Xb,{className:"w-4 h-4"}),count:((n=e.devices)==null?void 0:n.length)||0},{id:"sales",label:"Satlar",icon:o.jsx(wg,{className:"w-4 h-4"}),count:((a=e.installments)==null?void 0:a.length)||0},{id:"sgk",label:"SGK lemleri",icon:o.jsx($F,{className:"w-4 h-4"}),count:null,disabled:!((i=e.sgkInfo)!=null&&i.hasInsurance)},{id:"documents",label:"Belgeler",icon:o.jsx(ii,{className:"w-4 h-4"}),count:((l=e.reports)==null?void 0:l.length)||0},{id:"timeline",label:"Zaman izelgesi",icon:o.jsx(Qi,{className:"w-4 h-4"}),count:null},{id:"notes",label:"Notlar",icon:o.jsx(HF,{className:"w-4 h-4"}),count:((u=e.notes)==null?void 0:u.length)||0},{id:"appointments",label:"Randevular",icon:o.jsx(Xn,{className:"w-4 h-4"}),count:0}];return o.jsx(zc,{value:t,onValueChange:c=>{["general","devices","sales","sgk","documents","timeline","notes","appointments"].includes(c)&&r(c)},className:"w-full",children:o.jsx(zc.List,{className:"grid w-full grid-cols-4 lg:grid-cols-8",children:s.map(c=>o.jsxs(zc.Trigger,{value:c.id,disabled:c.disabled,className:"flex items-center space-x-2 text-sm",children:[c.icon,o.jsx("span",{className:"hidden sm:inline",children:c.label}),c.count!==null&&c.count>0&&o.jsx("span",{className:"ml-1 bg-blue-100 text-blue-800 text-xs rounded-full px-2 py-0.5",children:c.count})]},c.id))})})};function D$({isOpen:e,title:t,description:r,onClose:s,onConfirm:n,confirmLabel:a="Onayla",cancelLabel:i="ptal"}){return o.jsx(ar,{isOpen:e,onClose:s,title:t||"Onay",size:"sm",children:o.jsxs("div",{children:[r&&o.jsx("p",{className:"text-sm text-gray-700",children:r}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[o.jsx(de,{variant:"outline",onClick:s,children:i}),o.jsx(de,{variant:"primary",onClick:async()=>{await n()},children:a})]})]})})}const P$={API_BASE:"/api/patients",PAGINATION:{DEFAULT_PAGE_SIZE:50,MAX_PAGE_SIZE:100},CACHE:{STALE_TIME:5*60*1e3,GC_TIME:10*60*1e3},TC_NUMBER_LENGTH:11,MIN_NAME_LENGTH:1,STATUS_OPTIONS:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],GENDER_OPTIONS:[{value:"M",label:"Male"},{value:"F",label:"Female"}],SORT_OPTIONS:[{value:"firstName",label:"First Name"},{value:"lastName",label:"Last Name"},{value:"createdAt",label:"Created Date"},{value:"priorityScore",label:"Priority Score"}],FORM_FIELDS:{TC_NUMBER:"tcNumber",FIRST_NAME:"firstName",LAST_NAME:"lastName",PHONE:"phone",EMAIL:"email",BIRTH_DATE:"birthDate",GENDER:"gender",ADDRESS_CITY:"addressCity",ADDRESS_DISTRICT:"addressDistrict",ADDRESS_FULL:"addressFull",STATUS:"status",SEGMENT:"segment",ACQUISITION_TYPE:"acquisitionType",CONVERSION_STEP:"conversionStep",REFERRED_BY:"referredBy",PRIORITY_SCORE:"priorityScore",TAGS:"tags"},ERROR_MESSAGES:{TC_NUMBER_REQUIRED:"TC Number is required",TC_NUMBER_INVALID:"TC Number must be 11 digits",TC_NUMBER_FORMAT:"Invalid TC Number format",FIRST_NAME_REQUIRED:"First name is required",LAST_NAME_REQUIRED:"Last name is required",PHONE_REQUIRED:"Phone number is required",PHONE_INVALID:"Invalid phone number format",EMAIL_INVALID:"Invalid email format",BIRTH_DATE_INVALID:"Invalid birth date"},SUCCESS_MESSAGES:{PATIENT_CREATED:"Patient created successfully",PATIENT_UPDATED:"Patient updated successfully",PATIENT_DELETED:"Patient deleted successfully",NOTE_ADDED:"Note added successfully",NOTE_DELETED:"Note deleted successfully"}},Bs={all:["patients"],lists:()=>[...Bs.all,"list"],list:e=>[...Bs.lists(),e],details:()=>[...Bs.all,"detail"],detail:e=>[...Bs.details(),e],notes:e=>[...Bs.all,"notes",e],ereceipts:e=>[...Bs.all,"ereceipts",e],hearingTests:e=>[...Bs.all,"hearingTests",e],sales:e=>[...Bs.all,"sales",e],timeline:e=>[...Bs.all,"timeline",e]},O$=()=>{const e=Mf();return lg({mutationFn:async({patientId:t,updates:r})=>{throw new Error("Patient update API not yet implemented. Please update patient data manually through the backend.")},onSuccess:(t,{patientId:r})=>{e.setQueryData(Bs.detail(r),t),e.invalidateQueries({queryKey:Bs.lists()}),console.log(P$.SUCCESS_MESSAGES.PATIENT_UPDATED)},onError:t=>{var r,s;console.error("Failed to update patient:",t),console.error(((s=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to update patient")}})},I$=({patient:e,activeTab:t,onPatientUpdate:r})=>{const[s,n]=F.useState(!1),[a,i]=F.useState(null),[l,u]=F.useState(null),[c,d]=F.useState(!1),[f,h]=F.useState(""),[p,m]=F.useState(new Date().toISOString().slice(0,10)),[x,y]=F.useState(""),[g,v]=F.useState(null),[w,b]=F.useState(""),[D,A]=F.useState("cash"),[_,S]=F.useState(""),[k,N]=F.useState(!1),[C,E]=F.useState({id:void 0,date:new Date().toISOString().slice(0,16),note:"",status:"scheduled"}),[M,Q]=F.useState(!1),[Y,X]=F.useState({open:!1}),[ee,te]=F.useState(null),[R,se]=F.useState(""),[U,T]=F.useState(!1),[j,L]=F.useState({type:"device",title:""}),[z,I]=F.useState({brand:"",model:"",serialNumber:"",status:"active"}),[J,ne]=F.useState(null),re=O$(),ae=()=>{switch(t){case"general":return o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Genel Bilgiler"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Ad Soyad"}),o.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:`${e.firstName||""} ${e.lastName||""}`.trim()||"simsiz Hasta"})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"TC Kimlik No"}),o.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})})]}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.tcNumber||"Belirtilmemi"})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Telefon"}),o.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})]}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.phone||"Belirtilmemi"})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"E-posta"}),o.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})]}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.email||"Belirtilmemi"})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Doum Tarihi"}),o.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.birthDate?new Date(e.birthDate).toLocaleDateString("tr-TR"):"Belirtilmemi"})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Adres"}),o.jsxs("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})]}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.address||"Belirtilmemi"})]})]})]});case"devices":return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cihazlar"}),o.jsx(de,{variant:"primary",size:"sm",onClick:()=>n(!0),icon:o.jsx(pa,{className:"w-4 h-4"}),iconPosition:"left",children:"Cihaz Ekle"})]}),s&&o.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[o.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Yeni Cihaz Ekle"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marka"}),o.jsx("input",{type:"text",value:z.brand,onChange:q=>I({...z,brand:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"rn: Phonak"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),o.jsx("input",{type:"text",value:z.model,onChange:q=>I({...z,model:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"rn: Audo Paradise"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seri No"}),o.jsx("input",{type:"text",value:z.serialNumber,onChange:q=>I({...z,serialNumber:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Seri numaras"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durum"}),o.jsxs("select",{value:z.status,onChange:q=>{const O=q.target.value,we=["active","trial","returned","replaced"];I(Se=>({...Se,status:we.includes(O)?O:"active"}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"active",children:"Aktif"}),o.jsx("option",{value:"trial",children:"Deneme"}),o.jsx("option",{value:"returned",children:"ade"}),o.jsx("option",{value:"replaced",children:"Deitirildi"})]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(de,{variant:"primary",size:"sm",onClick:async()=>{if(ne(null),!z.brand.trim()||!z.model.trim()){ne("Marka ve model zorunludur.");return}try{const q={id:`device-${Date.now()}`,brand:z.brand,model:z.model,serialNumber:z.serialNumber,status:z.status,type:["hearing_aid","cochlear_implant","bone_anchored","middle_ear"].includes(e.deviceType)?e.deviceType:"hearing_aid",side:"both"},O=await re.mutateAsync({patientId:e.id,updates:{devices:[...e.devices||[],q]}});O?(n(!1),I({brand:"",model:"",serialNumber:"",status:"active"}),r&&r(O)):X({open:!0,title:"Cihaz eklenemedi",description:"Cihaz eklenemedi. Ltfen tekrar deneyin.",onConfirm:async()=>{}})}catch(q){console.error("Failed to add device:",q),X({open:!0,title:"Cihaz eklenirken hata",description:"Cihaz eklenirken bir hata olutu. Konsolu kontrol edin.",onConfirm:async()=>{}})}},icon:o.jsx(Sp,{className:"w-4 h-4"}),iconPosition:"left",disabled:!z.brand.trim()||!z.model.trim(),children:"Kaydet"}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>{n(!1),I({brand:"",model:"",serialNumber:"",status:"active"})},icon:o.jsx(fs,{className:"w-4 h-4"}),iconPosition:"left",children:"ptal"})]}),J&&o.jsx("div",{className:"mt-2 text-sm text-red-600",children:J})]}),e.devices&&e.devices.length>0?o.jsx("div",{className:"space-y-4",children:e.devices.map((q,O)=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 flex-1",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marka/Model"}),o.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[q.brand," ",q.model]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seri No"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:q.serialNumber})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Durum"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:q.status})]})]}),o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsx(de,{variant:"outline",size:"sm",onClick:()=>i(q),icon:o.jsx(K0,{className:"w-4 h-4"}),children:"Dzenle"}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>X({open:!0,title:"Cihaz sil",description:"Bu cihaz silmek istediinizden emin misiniz? Bu ilem geri alnamaz.",onConfirm:async()=>{try{const we=(e.devices||[]).filter(be=>be.id!==q.id);await re.mutateAsync({patientId:e.id,updates:{devices:we}})||X({open:!0,title:"Cihaz silinemedi",description:"Cihaz silinemedi.",onConfirm:async()=>{}})}catch(we){console.error("Failed to delete device:",we),X({open:!0,title:"Silme hatas",description:"Cihaz silinirken bir hata olutu.",onConfirm:async()=>{}})}}}),icon:o.jsx(_n,{className:"w-4 h-4 text-red-500"}),children:"Sil"})]})]})},O))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-gray-500 mb-4",children:"Henz cihaz kayd bulunmuyor."}),o.jsx(de,{variant:"outline",onClick:()=>n(!0),icon:o.jsx(pa,{className:"w-4 h-4"}),iconPosition:"left",children:"lk Cihaz Ekle"})]})]});case"sales":return o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Satlar"}),e.sales&&e.sales.length>0?o.jsx("div",{className:"space-y-4",children:e.sales.map((q,O)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Toplam"}),o.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[q.totalAmount," TL"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Durum"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:q.status||"draft"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sat Tarihi"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:q.saleDate?new Date(q.saleDate).toLocaleDateString("tr-TR"):""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"deme Kaytlar"}),o.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[(q.payments||[]).length," kayt"]})]})]}),o.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[o.jsx(de,{variant:"outline",size:"sm",onClick:()=>X({open:!0,title:"Sat denmi olarak iaretle",description:"Bu sat tamamen denmi olarak iaretlemek istiyor musunuz?",onConfirm:async()=>{try{const we=(e.sales||[]).map(Se=>Se.id===q.id?{...Se,status:"paid",updatedAt:new Date().toISOString()}:Se);await re.mutateAsync({patientId:e.id,updates:{sales:we}})}catch(we){console.error("Failed to mark sale paid",we),X({open:!0,title:"lem baarsz",description:"Sat durumu gncellenemedi.",onConfirm:async()=>{}})}}}),children:"dendi"}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>{v(q.id||null),b(""),A("cash"),S("")},children:"deme Ekle"}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>{te(q.id||null),se(q.notes||"")},children:"Not"}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>X({open:!0,title:"Sat iptal et",description:"Bu sat iptal etmek istiyor musunuz? Bu ilem sat silecektir.",onConfirm:async()=>{try{const we=(e.sales||[]).filter(Se=>Se.id!==q.id);await re.mutateAsync({patientId:e.id,updates:{sales:we}})}catch(we){console.error("Failed to delete sale",we),X({open:!0,title:"Sat silinemedi",description:"Sat silinirken bir hata olutu.",onConfirm:async()=>{}})}}}),children:"ptal / Sil"}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>{var we,Se;try{(Se=(we=window.invoiceWidget)==null?void 0:we.openForSale)==null||Se.call(we,q.id,e.id)}catch(be){console.warn("invoice widget not available",be),X({open:!0,title:"Fatura modl yok",description:"Fatura oluturma modl bulunamad.",onConfirm:async()=>{}})}},children:"Fatura"})]})]},q.id||O))}):o.jsx("p",{className:"text-gray-500",children:"Henz sat kayd bulunmuyor."}),o.jsx("div",{className:"mt-4",children:o.jsx(de,{variant:"primary",onClick:()=>d(!0),icon:o.jsx(pa,{className:"w-4 h-4"}),children:"Yeni Sat"})})]});case"sgk":return o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"SGK lemleri"}),e.sgkInfo?o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sigorta Durumu"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.sgkInfo.hasInsurance?"Var":"Yok"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sigorta Numaras"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.sgkInfo.insuranceNumber||"Belirtilmemi"})]})]})}):o.jsx("p",{className:"text-gray-500",children:"SGK bilgisi bulunmuyor."})]});case"documents":return o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Belgeler"}),e.reports&&e.reports.length>0?o.jsx("div",{className:"space-y-4",children:e.reports.map((q,O)=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Belge Tr"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:q.type})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Balk"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:q.title})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Oluturulma Tarihi"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(q.createdAt).toLocaleDateString("tr-TR")})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(de,{variant:"outline",size:"sm",onClick:()=>{q.fileUrl?window.open(q.fileUrl,"_blank"):X({open:!0,title:"Dosya yok",description:"Dosya mevcut deil.",onConfirm:async()=>{}})},children:"ndir"}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>X({open:!0,title:"Belgeyi sil",description:"Bu belgeyi silmek istediinize emin misiniz?",onConfirm:async()=>{try{const we=(e.reports||[]).filter(Se=>Se.id!==q.id);await re.mutateAsync({patientId:e.id,updates:{reports:we}})}catch(we){console.error("Failed to delete report",we),X({open:!0,title:"Silme baarsz",description:"Belge silinirken bir hata olutu.",onConfirm:async()=>{}})}}}),children:"Sil"})]})]})},O))}):o.jsx("p",{className:"text-gray-500",children:"Henz belge bulunmuyor."}),o.jsx("div",{className:"mt-4",children:o.jsx(de,{variant:"primary",onClick:()=>{L({type:"device",title:""}),T(!0)},icon:o.jsx(pa,{className:"w-4 h-4"}),children:"Belge Ekle"})})]});case"timeline":return o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Zaman izelgesi"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Hasta Kayd Oluturuldu"}),o.jsx("p",{className:"text-sm text-gray-500",children:e.createdAt?new Date(e.createdAt).toLocaleDateString("tr-TR"):"Bilinmiyor"})]}),e.updatedAt&&o.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Son Gncelleme"}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.updatedAt).toLocaleDateString("tr-TR")})]}),e.notes&&e.notes.length>0&&o.jsx("div",{className:"mt-4 space-y-2",children:e.notes.map(q=>o.jsx("div",{className:"border-l-4 border-gray-200 pl-4",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-700",children:q.text}),o.jsx("p",{className:"text-xs text-gray-500",children:new Date(q.date).toLocaleString("tr-TR")})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(de,{variant:"outline",size:"sm",onClick:()=>u(q),children:"Dzenle"}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>X({open:!0,title:"Notu sil",description:"Bu notu silmek istediinize emin misiniz?",onConfirm:async()=>{try{const O=(e.notes||[]).filter(we=>we.id!==q.id);await re.mutateAsync({patientId:e.id,updates:{notes:O}})}catch(O){console.error("Failed to delete note",O),X({open:!0,title:"Silme hatas",description:"Not silinirken bir hata olutu.",onConfirm:async()=>{}})}}}),children:"Sil"})]})]})},q.id))})]})]});case"appointments":return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Randevular"}),o.jsx(de,{variant:"primary",size:"sm",onClick:()=>{Q(!1),E({id:void 0,date:new Date().toISOString().slice(0,16),note:"",status:"scheduled"}),N(!0)},icon:o.jsx(pa,{className:"w-4 h-4"}),children:"Randevu Ekle"})]}),e.appointments&&e.appointments.length>0?o.jsx("div",{className:"space-y-4",children:e.appointments.map(q=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(q.date).toLocaleString("tr-TR")}),q.note&&o.jsx("p",{className:"text-sm text-gray-700",children:q.note}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Durum: ",q.status]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[q.status!=="completed"&&o.jsx(de,{variant:"outline",size:"sm",onClick:async()=>{try{const O=(e.appointments||[]).map(we=>we.id===q.id?{...we,status:"completed"}:we);await re.mutateAsync({patientId:e.id,updates:{appointments:O}})}catch(O){console.error("Failed to mark appointment completed",O),X({open:!0,title:"lem baarsz",description:"Randevu durumu gncellenemedi.",onConfirm:async()=>{}})}},children:"Tamamland"}),q.status!=="cancelled"&&o.jsx(de,{variant:"outline",size:"sm",onClick:()=>X({open:!0,title:"Randevuyu iptal et",description:"Randevuyu iptal etmek istediinize emin misiniz?",onConfirm:async()=>{try{const O=(e.appointments||[]).map(we=>we.id===q.id?{...we,status:"cancelled"}:we);await re.mutateAsync({patientId:e.id,updates:{appointments:O}})}catch(O){console.error("Failed to cancel appointment",O),X({open:!0,title:"lem baarsz",description:"Randevu iptal edilemedi.",onConfirm:async()=>{}})}}}),children:"ptal"}),o.jsx(de,{variant:"outline",size:"sm",onClick:async()=>{Q(!0),E({id:q.id,date:new Date(q.date).toISOString().slice(0,16),note:q.note||"",status:q.status||"scheduled"}),N(!0)},children:"Dzenle"}),o.jsx(de,{variant:"outline",size:"sm",onClick:()=>X({open:!0,title:"Randevuyu sil",description:"Bu randevuyu silmek istediinize emin misiniz?",onConfirm:async()=>{try{const O=(e.appointments||[]).filter(we=>we.id!==q.id);await re.mutateAsync({patientId:e.id,updates:{appointments:O}})}catch(O){console.error("Failed to delete appointment",O),X({open:!0,title:"Randevu silinemedi",description:"Randevu silinirken bir hata olutu.",onConfirm:async()=>{}})}}}),icon:o.jsx(_n,{className:"w-4 h-4 text-red-500"}),children:"Sil"})]})]})},q.id))}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500 mb-4",children:"Henz randevu bulunmuyor."})})]});default:return o.jsx("div",{className:"p-6",children:o.jsx("p",{className:"text-gray-500",children:"erik bulunamad."})})}};return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[ae(),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h4",{className:"text-lg font-medium mb-4",children:"Yeni Sat Olutur"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Toplam Tutar (TL)"}),o.jsx("input",{value:f,onChange:q=>h(q.target.value),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Sat Tarihi"}),o.jsx("input",{type:"date",value:p,onChange:q=>m(q.target.value),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Notlar (opsiyonel)"}),o.jsx("input",{value:x,onChange:q=>y(q.target.value),className:"w-full px-3 py-2 border rounded"})]})]}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[o.jsx(de,{variant:"outline",onClick:()=>d(!1),children:"ptal"}),o.jsx(de,{variant:"primary",onClick:async()=>{try{const q=parseFloat(f.replace(",","."));if(Number.isNaN(q)||q<=0)return X({open:!0,title:"Geersiz tutar",description:"Geerli pozitif bir tutar girin.",onConfirm:async()=>{}});const O={id:`sale_${Date.now()}`,totalAmount:q,saleDate:new Date(p).toISOString(),status:"confirmed",notes:x||void 0,payments:[],createdAt:new Date().toISOString()};await re.mutateAsync({patientId:e.id,updates:{sales:[...e.sales||[],O]}}),d(!1),h(""),m(new Date().toISOString().slice(0,10)),y("")}catch(q){console.error("Failed to create sale",q),X({open:!0,title:"Sat oluturulamad",description:"Sat oluturulamad.",onConfirm:async()=>{}})}},disabled:!f.trim()||Number.isNaN(parseFloat(f.replace(",",".")))||parseFloat(f.replace(",","."))<=0,children:"Olutur"})]})]})}),ee&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h4",{className:"text-lg font-medium mb-4",children:"Sat Notu Dzenle"}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Not"}),o.jsx("textarea",{value:R,onChange:q=>se(q.target.value),className:"w-full px-3 py-2 border rounded",rows:4})]})}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[o.jsx(de,{variant:"outline",onClick:()=>{te(null),se("")},children:"ptal"}),o.jsx(de,{variant:"primary",onClick:async()=>{try{const q=(e.sales||[]).map(O=>O.id===ee?{...O,notes:R,updatedAt:new Date().toISOString()}:O);await re.mutateAsync({patientId:e.id,updates:{sales:q}}),te(null),se("")}catch(q){console.error("Failed to update sale note",q),X({open:!0,title:"Gncelleme baarsz",description:"Sat notu gncellenemedi.",onConfirm:async()=>{}})}},children:"Kaydet"})]})]})}),U&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h4",{className:"text-lg font-medium mb-4",children:"Belge Olutur"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Belge Tr"}),o.jsxs("select",{value:j.type,onChange:q=>L(O=>({...O,type:q.target.value})),className:"w-full px-3 py-2 border rounded",children:[o.jsx("option",{value:"audiogram",children:"audiogram"}),o.jsx("option",{value:"battery",children:"battery"}),o.jsx("option",{value:"device",children:"device"}),o.jsx("option",{value:"sgk",children:"sgk"}),o.jsx("option",{value:"medical",children:"medical"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Balk"}),o.jsx("input",{value:j.title,onChange:q=>L(O=>({...O,title:q.target.value})),className:"w-full px-3 py-2 border rounded"})]})]}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[o.jsx(de,{variant:"outline",onClick:()=>T(!1),children:"ptal"}),o.jsx(de,{variant:"primary",onClick:async()=>{try{const q={id:`rep_${Date.now()}`,type:j.type,title:j.title,createdAt:new Date().toISOString(),createdBy:"System"};await re.mutateAsync({patientId:e.id,updates:{reports:[...e.reports||[],q]}}),T(!1)}catch(q){console.error("Failed to add report",q),X({open:!0,title:"Belge eklenemedi",description:"Belge eklenemedi.",onConfirm:async()=>{}})}},children:"Olutur"})]})]})}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h4",{className:"text-lg font-medium mb-4",children:"deme Ekle"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Tutar (TL)"}),o.jsx("input",{value:w,onChange:q=>b(q.target.value),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Yntem"}),o.jsxs("select",{value:D,onChange:q=>A(q.target.value),className:"w-full px-3 py-2 border rounded",children:[o.jsx("option",{value:"cash",children:"Nakit"}),o.jsx("option",{value:"card",children:"Kart"}),o.jsx("option",{value:"bank_transfer",children:"EFT/Havale"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Not (opsiyonel)"}),o.jsx("input",{value:_,onChange:q=>S(q.target.value),className:"w-full px-3 py-2 border rounded"})]})]}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[o.jsx(de,{variant:"outline",onClick:()=>v(null),children:"ptal"}),o.jsx(de,{variant:"primary",onClick:async()=>{try{const q=parseFloat(w.replace(",","."));if(Number.isNaN(q))return X({open:!0,title:"Geersiz tutar",description:"Geerli bir tutar girin.",onConfirm:async()=>{}});const O=g;if(!O)return;const we={id:`pay_${Date.now()}`,amount:q,date:new Date().toISOString(),method:D,status:"completed",note:_||void 0},Se=(e.sales||[]).map(be=>{if(be.id!==O)return be;const ge=[...be.payments||[],we],Ne=ge.reduce((Re,H)=>Re+(H.amount||0),0)>=(be.totalAmount||0)?"paid":be.status||"confirmed";return{...be,payments:ge,status:Ne,updatedAt:new Date().toISOString()}});await re.mutateAsync({patientId:e.id,updates:{sales:Se}}),v(null),b(""),A("cash"),S("")}catch(q){console.error("Failed to add payment",q),X({open:!0,title:"deme eklenemedi",description:"deme eklenemedi.",onConfirm:async()=>{}})}},children:"Kaydet"})]})]})}),o.jsx(D$,{isOpen:Y.open,title:Y.title,description:Y.description,onClose:()=>X({open:!1}),onConfirm:async()=>{Y.onConfirm&&await Y.onConfirm(),X({open:!1})}}),l&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h4",{className:"text-lg font-medium mb-4",children:"Notu Dzenle"}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Not erii"}),o.jsx("textarea",{value:l.text,onChange:q=>u(O=>O&&{...O,text:q.target.value}),className:"w-full px-3 py-2 border rounded",rows:5})]})}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[o.jsx(de,{variant:"outline",onClick:()=>u(null),children:"ptal"}),o.jsx(de,{variant:"primary",onClick:async()=>{try{const q=(e.notes||[]).map(O=>O.id===l.id?{...O,text:l.text,date:new Date().toISOString()}:O);await re.mutateAsync({patientId:e.id,updates:{notes:q}}),u(null)}catch(q){console.error("Failed to update note",q),X({open:!0,title:"Not gncellenemedi",description:"Not gncellenemedi.",onConfirm:async()=>{}})}},children:"Kaydet"})]})]})})]})},M$={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},L$={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},B$=({size:e="md",text:t,className:r="",fullScreen:s=!1})=>{const n=o.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[o.jsx(TF,{className:`${M$[e]} animate-spin text-blue-600`}),t&&o.jsx("p",{className:`mt-2 text-gray-600 ${L$[e]}`,children:t})]});return s?o.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50",children:n}):n},z$=()=>{const{patientId:e}=zu({strict:!1}),t=Fl(),{showError:r}=MD(),[s,n]=F.useState(()=>localStorage.getItem(cw)||"general"),{data:a,isLoading:i,error:l}=T$(e||"");F.useEffect(()=>{if(l){const d=typeof l=="string"?l:(l==null?void 0:l.message)||"Hasta bilgileri yklenirken bir hata olutu";r(d)}},[l,r]);const u=d=>{n(d),localStorage.setItem(cw,d)},c=()=>{t({to:"/patients"})};if(!e)return o.jsx(eR,{resource:"hasta ID"});if(i)return o.jsx(B$,{size:"lg",text:"Hasta bilgileri ykleniyor...",fullScreen:!0});if(l){const d=typeof l=="string"?l:(l==null?void 0:l.message)||"Hasta bilgileri yklenirken bir hata olutu";return(d==null?void 0:d.includes("network"))||(d==null?void 0:d.includes("fetch"))?o.jsx(JF,{onRetry:()=>window.location.reload()}):o.jsx(uu,{type:"error",title:"Hasta Bulunamad",message:"Hasta bilgileri yklenirken bir hata olutu veya hasta bulunamad.",onRetry:()=>window.location.reload(),onDismiss:c,retryText:"Tekrar Dene"})}return a?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:o.jsxs("button",{onClick:c,className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[o.jsx(fF,{className:"w-4 h-4 mr-2"}),"Hasta Listesine Dn"]})}),o.jsx(A$,{patient:a,isLoading:i}),o.jsx(R$,{activeTab:s,onTabChange:u}),o.jsx("div",{className:"bg-white",children:o.jsx(I$,{patient:a,activeTab:s,isLoading:i})})]}):o.jsx(uu,{type:"error",title:"Hasta Bulunamad",message:"Belirtilen hasta bulunamad.",onDismiss:c})},U$=Lr("/patients/$patientId")({component:z$,loader:async({params:e})=>{if(!e.patientId)throw new Error("Patient ID is required");return{patientId:e.patientId}},errorComponent:({error:e})=>o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-200 max-w-md w-full text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Hasta Bulunamad"}),o.jsx("p",{className:"text-gray-600 mb-4",children:(e==null?void 0:e.message)||"Belirtilen hasta bulunamad veya eriim izniniz yok."}),o.jsx("a",{href:"/patients",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Hasta Listesine Dn"})]})})});class $${async loadPurchases(){try{const t=localStorage.getItem(xw);if(!t){const r=this.createSamplePurchases();return await this.savePurchases(r),r}return JSON.parse(t)}catch(t){return console.error("Error loading purchases:",t),[]}}async savePurchases(t){try{localStorage.setItem(xw,JSON.stringify(t))}catch(r){throw console.error("Error saving purchases:",r),r}}createSamplePurchases(){return[{id:"purchase-1",purchaseNumber:"AL202401001",type:"standard",status:"approved",supplierName:"ABC Medikal Ltd.",supplierTaxNumber:"1234567890",supplierAddress:"stanbul, Trkiye",supplierPhone:"+90 212 123 45 67",supplierEmail:"info@abcmedikal.com",issueDate:"2024-01-15",dueDate:"2024-02-15",paymentMethod:"Kredi Kart",items:this.createSamplePurchaseItems(),subtotal:8500,taxTotal:1530,grandTotal:10030,notes:"Acil sipari",xmlData:"<xml>sample xml data</xml>",xmlFileName:"AL202401001.xml",xmlImportDate:"2024-01-15T10:30:00Z",createdAt:"2024-01-15T10:30:00Z"}]}createSamplePurchaseItems(){return[{id:"item-1",name:"Dijital Termometre",description:"Infrared dijital termometre",quantity:10,unitPrice:850,taxRate:18,taxAmount:153,totalPrice:1003,unit:"adet",productCode:"TERM001",barcode:"1234567890123"}]}async createPurchase(t){try{const r=t.items.map(i=>({...i,id:this.generateId(),taxAmount:i.quantity*i.unitPrice*(i.taxRate/100),totalPrice:i.quantity*i.unitPrice*(1+i.taxRate/100)})),s=this.calculatePurchase(r),n={id:this.generateId(),purchaseNumber:this.generatePurchaseNumber(),status:"draft",type:t.type,supplierName:t.supplierName,supplierTaxNumber:t.supplierTaxNumber,supplierAddress:t.supplierAddress,supplierPhone:t.supplierPhone,supplierEmail:t.supplierEmail,issueDate:t.issueDate,dueDate:t.dueDate,paymentMethod:t.paymentMethod,items:r,subtotal:s.subtotal,taxTotal:s.totalTax,grandTotal:s.totalAmount,notes:t.notes,internalNotes:t.internalNotes,referenceNumber:t.referenceNumber,orderNumber:t.orderNumber,xmlData:t.xmlData,xmlFileName:t.xmlFileName,xmlImportDate:t.xmlData?new Date().toISOString():void 0,createdAt:new Date().toISOString()},a=await this.loadPurchases();return a.push(n),await this.savePurchases(a),await Ts.addOperation({method:"POST",endpoint:"/api/purchases",data:n}),n}catch(r){throw console.error("Error creating purchase:",r),r}}async updatePurchase(t,r){try{const s=await this.loadPurchases(),n=s.findIndex(l=>l.id===t);if(n===-1)throw new Error("Purchase not found");let a=s[n].items;r.items&&(a=r.items.map(l=>({...l,id:this.generateId(),taxAmount:l.quantity*l.unitPrice*(l.taxRate/100),totalPrice:l.quantity*l.unitPrice*(1+l.taxRate/100)})));const i={...s[n],...r,items:a,updatedAt:new Date().toISOString(),updatedBy:"current-user"};return s[n]=i,await this.savePurchases(s),await Ts.addOperation({method:"PUT",endpoint:`/api/purchases/${t}`,data:i}),i}catch(s){throw console.error("Error updating purchase:",s),s}}async deletePurchase(t){try{const s=(await this.loadPurchases()).filter(n=>n.id!==t);await this.savePurchases(s),await Ts.addOperation({method:"DELETE",endpoint:`/api/purchases/${t}`,data:{id:t}})}catch(r){throw console.error("Error deleting purchase:",r),r}}async searchPurchases(t={}){try{let s=[...await this.loadPurchases()];if(t.search){const c=t.search.toLowerCase();s=s.filter(d=>{var f;return d.purchaseNumber.toLowerCase().includes(c)||d.supplierName.toLowerCase().includes(c)||((f=d.notes)==null?void 0:f.toLowerCase().includes(c))})}t.status&&(s=s.filter(c=>c.status===t.status)),t.type&&(s=s.filter(c=>c.type===t.type)),t.supplierName&&(s=s.filter(c=>c.supplierName.toLowerCase().includes(t.supplierName.toLowerCase()))),t.hasXmlData!==void 0&&(s=s.filter(c=>t.hasXmlData?!!c.xmlData:!c.xmlData));const n=t.page||1,a=t.limit||10,i=(n-1)*a,l=i+a;return{purchases:s.slice(i,l),total:s.length,totalPages:Math.ceil(s.length/a),page:n,pageSize:a,limit:a,hasMore:l<s.length,filters:t}}catch(r){throw console.error("Error searching purchases:",r),r}}async getPurchaseById(t){try{return(await this.loadPurchases()).find(s=>s.id===t)||null}catch(r){return console.error("Error getting purchase by ID:",r),null}}async getPurchaseStats(){try{const t=await this.loadPurchases();return{total:t.length,draft:t.filter(s=>s.status==="draft").length,sent:t.filter(s=>s.status==="sent").length,approved:t.filter(s=>s.status==="approved").length,rejected:t.filter(s=>s.status==="rejected").length,paid:t.filter(s=>s.status==="paid").length,cancelled:t.filter(s=>s.status==="cancelled").length,totalAmount:t.reduce((s,n)=>s+n.grandTotal,0),xmlImported:t.filter(s=>!!s.xmlData).length}}catch(t){throw console.error("Error getting purchase stats:",t),t}}async importFromXML(t,r){try{const s=this.parseXMLToPurchaseData(t,r);return await this.createPurchase({...s,xmlData:t,xmlFileName:r,xmlImportDate:new Date().toISOString()})}catch(s){throw console.error("Error importing from XML:",s),s}}parseXMLToPurchaseData(t,r){return{type:"standard",supplierName:"XML e Aktarlan Tedariki",issueDate:new Date().toISOString().split("T")[0],items:[{name:"XML e Aktarlan rn",quantity:1,unitPrice:100,taxRate:18}]}}calculatePurchase(t){const r=t.reduce((a,i)=>a+i.quantity*i.unitPrice,0),s=t.reduce((a,i)=>a+i.taxAmount,0),n=r+s;return{items:t,subtotal:r,totalTax:s,totalAmount:n}}validatePurchase(t){var n,a;const r=[],s=[];return(n=t.supplierName)!=null&&n.trim()||r.push("Tedariki ad gereklidir"),t.issueDate||r.push("Fatura tarihi gereklidir"),(!t.items||t.items.length===0)&&r.push("En az bir kalem gereklidir"),(a=t.items)==null||a.forEach((i,l)=>{var u;(u=i.name)!=null&&u.trim()||r.push(`${l+1}. kalem ad gereklidir`),i.quantity<=0&&r.push(`${l+1}. kalem miktar 0'dan byk olmaldr`),i.unitPrice<=0&&r.push(`${l+1}. kalem birim fiyat 0'dan byk olmaldr`)}),{isValid:r.length===0,errors:r,warnings:s}}generateId(){return`purchase-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}generatePurchaseNumber(){const t=new Date,r=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`AL${r}${s}${n}${a}`}}const V$=new $$;function H$({onPurchaseSelect:e,filters:t={},showActions:r=!1,compact:s=!1}){const[n,a]=F.useState([]),[i,l]=F.useState(!0),[u,c]=F.useState(null),[d,f]=F.useState(null);F.useEffect(()=>{(async()=>{try{l(!0),c(null);const v=await V$.searchPurchases(t);a(v.purchases)}catch(v){c(v instanceof Error?v.message:"Al faturalar yklenirken hata olutu")}finally{l(!1)}})()},[t]);const h=g=>{f(g),e==null||e(g)},p=g=>new Date(g).toLocaleDateString("tr-TR"),m=g=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(g),x=g=>{switch(g){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"paid":return"bg-purple-100 text-purple-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},y=g=>{switch(g){case"draft":return"Taslak";case"sent":return"Gnderildi";case"approved":return"Onayland";case"rejected":return"Reddedildi";case"paid":return"dendi";case"cancelled":return"ptal";default:return g}};return i?o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Al faturalar ykleniyor..."})]}):u?o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Hata"}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.jsx("p",{children:u})})]})]})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsx("div",{className:"flex-1",children:o.jsx(qe,{type:"text",placeholder:"Al faturas ara...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})}),o.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:o.jsx("ul",{className:"divide-y divide-gray-200",children:n.length===0?o.jsx("li",{className:"px-6 py-8 text-center text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Al faturas bulunamad"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Henz XML formatnda al faturas import edilmemi."})]})}):n.map(g=>o.jsx("li",{className:`px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors ${(d==null?void 0:d.id)===g.id?"bg-blue-50":""}`,onClick:()=>h(g),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.purchaseNumber}),o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(g.status)}`,children:y(g.status)}),g.xmlFileName&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"XML"})]}),o.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[o.jsx("span",{children:g.supplierName}),g.supplierTaxNumber&&o.jsxs("span",{children:["VN: ",g.supplierTaxNumber]}),o.jsx("span",{children:p(g.issueDate)}),g.dueDate&&o.jsxs("span",{children:["Vade: ",p(g.dueDate)]})]})]})})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:m(g.grandTotal)}),o.jsxs("p",{className:"text-xs text-gray-500",children:[g.items.length," kalem"]})]}),r&&o.jsxs("div",{className:"flex items-center space-x-2",children:[g.status==="draft"&&o.jsx(de,{className:"text-blue-600 hover:text-blue-900 text-sm font-medium",onClick:v=>{v.stopPropagation()},variant:"default",children:"Onayla"}),g.status==="approved"&&o.jsx(de,{className:"text-green-600 hover:text-green-900 text-sm font-medium",onClick:v=>{v.stopPropagation()},variant:"default",children:"de"}),o.jsx(de,{className:"text-gray-400 hover:text-gray-600",onClick:v=>{v.stopPropagation()},variant:"default",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]})]})]})},g.id))})}),n.length>0&&o.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[o.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[o.jsx(de,{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",variant:"default",children:"nceki"}),o.jsx(de,{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",variant:"default",children:"Sonraki"})]}),o.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-gray-700",children:["Toplam ",o.jsx("span",{className:"font-medium",children:n.length})," al faturas"]})}),o.jsx("div",{children:o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[o.jsx(de,{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",variant:"default",children:"nceki"}),o.jsx(de,{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",variant:"default",children:"Sonraki"})]})})]})]})]})}function W$(){const[e,t]=F.useState(null),[r,s]=F.useState({}),[n,a]=F.useState("list"),[i,l]=F.useState(!1),u=f=>{t(f),a("details")},c=f=>{t(f),a("form")},d=()=>{a("list"),t(null)};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n!=="list"&&o.jsx("div",{className:"bg-white shadow",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs(de,{onClick:d,className:"flex items-center text-gray-600 hover:text-gray-900",variant:"default",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Allar Listesine Dn"]})})})}),n==="list"&&o.jsx("div",{className:"bg-white shadow",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsx("div",{className:"md:flex md:items-center md:justify-between",children:o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Allar"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"XML formatnda gelen al faturalarn ynetin ve takip edin"})]})})}),o.jsx("div",{className:"mt-4 flex items-center justify-between",children:o.jsxs(de,{onClick:()=>l(!i),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",variant:"default",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),"Filtreler",i?o.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):o.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),i&&o.jsx("div",{className:"mt-4 bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durum"}),o.jsx(ur,{value:r.status||"",onChange:f=>s({...r,status:f.target.value||void 0}),options:[{value:"",label:"Tm"},{value:"draft",label:"Taslak"},{value:"sent",label:"Gnderildi"},{value:"approved",label:"Onayland"},{value:"rejected",label:"Reddedildi"},{value:"paid",label:"dendi"},{value:"cancelled",label:"ptal"}],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tedariki"}),o.jsx(qe,{type:"text",value:r.supplierName||"",onChange:f=>s({...r,supplierName:f.target.value||void 0}),placeholder:"Tedariki ad...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balang Tarihi"}),o.jsx(qe,{type:"date",value:r.dateFrom||"",onChange:f=>s({...r,dateFrom:f.target.value||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Biti Tarihi"}),o.jsx(qe,{type:"date",value:r.dateTo||"",onChange:f=>s({...r,dateTo:f.target.value||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="list"&&o.jsx(H$,{onPurchaseSelect:u,filters:r,showActions:!0}),n==="form"&&o.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Al Faturas Formu"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Al faturas formu henz hazr deil. XML import zellii yaknda eklenecek."})]})}),n==="details"&&e&&o.jsx(K$,{purchase:e,onEdit:()=>c(e)})]})]})}function K$({purchase:e,onEdit:t}){const r=i=>new Date(i).toLocaleDateString("tr-TR"),s=i=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(i),n=i=>{switch(i){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"paid":return"bg-purple-100 text-purple-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},a=i=>{switch(i){case"draft":return"Taslak";case"sent":return"Gnderildi";case"approved":return"Onayland";case"rejected":return"Reddedildi";case"paid":return"dendi";case"cancelled":return"ptal";default:return i}};return o.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[o.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Al Faturas #",e.purchaseNumber]}),o.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:[r(e.createdAt)," tarihinde oluturuldu"]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n(e.status)}`,children:a(e.status)}),o.jsx(de,{onClick:t,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",variant:"default",children:"Dzenle"})]})]})}),o.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Tedariki Bilgileri"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Tedariki Ad"}),o.jsx("dd",{className:"text-sm text-gray-900",children:e.supplierName})]}),e.supplierTaxNumber&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Vergi No"}),o.jsx("dd",{className:"text-sm text-gray-900",children:e.supplierTaxNumber})]}),e.supplierAddress&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Adres"}),o.jsx("dd",{className:"text-sm text-gray-900",children:e.supplierAddress})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Fatura Bilgileri"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Fatura Tarihi"}),o.jsx("dd",{className:"text-sm text-gray-900",children:r(e.issueDate)})]}),e.dueDate&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Vade Tarihi"}),o.jsx("dd",{className:"text-sm text-gray-900",children:r(e.dueDate)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Toplam Tutar"}),o.jsx("dd",{className:"text-sm text-gray-900 font-medium",children:s(e.grandTotal)})]})]})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Fatura Kalemleri"}),o.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"rn/Hizmet"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Miktar"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Birim Fiyat"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KDV"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Toplam"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.items.map(i=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.name}),i.description&&o.jsx("div",{className:"text-sm text-gray-500",children:i.description})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.quantity}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(i.unitPrice)}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["%",i.taxRate]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(i.totalPrice)})]},i.id))})]})})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("div",{className:"w-full max-w-sm",children:o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("dt",{className:"text-sm text-gray-600",children:"Ara Toplam:"}),o.jsx("dd",{className:"text-sm text-gray-900",children:s(e.subtotal)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("dt",{className:"text-sm text-gray-600",children:"KDV:"}),o.jsx("dd",{className:"text-sm text-gray-900",children:s(e.taxTotal)})]}),o.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[o.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Genel Toplam:"}),o.jsx("dd",{className:"text-base font-medium text-gray-900",children:s(e.grandTotal)})]})]})})}),e.notes&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Notlar"}),o.jsx("p",{className:"text-sm text-gray-600",children:e.notes})]})]})]})}const G$=Lr("/invoices/purchases")({component:W$}),q$=Lr("/invoices/new")({component:Y$});function Y$(){return o.jsx(zN,{initialViewMode:"form"})}const X$=e5.update({id:"/uts",path:"/uts",getParentRoute:()=>sa}),Q$=QB.update({id:"/test",path:"/test",getParentRoute:()=>sa}),Z$=BU.update({id:"/sgk",path:"/sgk",getParentRoute:()=>sa}),d1=UU.update({id:"/patients",path:"/patients",getParentRoute:()=>sa}),ah=$U.update({id:"/invoices",path:"/invoices",getParentRoute:()=>sa}),J$=HU.update({id:"/inventory",path:"/inventory",getParentRoute:()=>sa}),eV=KU.update({id:"/appointments",path:"/appointments",getParentRoute:()=>sa}),tV=t$.update({id:"/",path:"/",getParentRoute:()=>sa}),rV=_$.update({id:"/",path:"/",getParentRoute:()=>d1}),sV=E$.update({id:"/",path:"/",getParentRoute:()=>ah}),nV=U$.update({id:"/$patientId",path:"/$patientId",getParentRoute:()=>d1}),aV=G$.update({id:"/purchases",path:"/purchases",getParentRoute:()=>ah}),iV=q$.update({id:"/new",path:"/new",getParentRoute:()=>ah}),oV={InvoicesNewRoute:iV,InvoicesPurchasesRoute:aV,InvoicesIndexRoute:sV},lV=ah._addFileChildren(oV),cV={PatientsPatientIdRoute:nV,PatientsIndexRoute:rV},uV=d1._addFileChildren(cV),dV={IndexRoute:tV,AppointmentsRoute:eV,InventoryRoute:J$,InvoicesRoute:lV,PatientsRoute:uV,SgkRoute:Z$,TestRoute:Q$,UtsRoute:X$},fV=sa._addFileChildren(dV)._addFileTypes(),hV=d3({routeTree:fV});function Fw(){const e=new YT({defaultOptions:{queries:{staleTime:3e5,gcTime:18e5,retry:(t,r)=>{var s;if(r&&typeof r=="object"&&"response"in r){const n=r;if((s=n.response)!=null&&s.status&&n.response.status>=400&&n.response.status<500)return!1}return t<3}}}});return o.jsx(QF,{children:o.jsx(XT,{client:e,children:o.jsx(J3,{children:o.jsx(LD,{children:o.jsxs(XF,{children:[o.jsx(m3,{router:hV}),o.jsx(dA,{initialIsOpen:!1})]})})})})})}const mV=[{from:"auth_token",to:hz,version:"v1"},{from:"token",to:yw,version:"v1"},{from:"jwt",to:yw,version:"v1"},{from:"xear_access_token",to:Uz,version:"v1"},{from:"refresh_token",to:mz,version:"v1"},{from:"user_session",to:pz,version:"v1"},{from:"currentUser",to:gw,version:"v1"},{from:"currentUserId",to:gw,transform:e=>({id:e,timestamp:Date.now()}),version:"v1"},{from:"sidebar_collapsed",to:lw,transform:e=>({collapsed:e,timestamp:Date.now()}),version:"v1"},{from:"sidebarCollapsed",to:lw,transform:e=>({collapsed:e==="true",timestamp:Date.now()}),version:"v1"},{from:"sgkSubmenuExpanded",to:Lz,transform:e=>e==="true",version:"v1"},{from:"faturaSubmenuExpanded",to:Bz,transform:e=>e==="true",version:"v1"},{from:"reportsSubmenuExpanded",to:zz,transform:e=>e==="true",version:"v1"},{from:"theme_preference",to:xz,version:"v1"},{from:"systemSettings",to:Iz,version:"v1"},{from:"xear_patients_data",to:xc,version:"v1"},{from:"xear_patients",to:dw,version:"v1"},{from:"patients",to:dw,version:"v1"},{from:"xear_crm_patients",to:vz,version:"v1"},{from:"patient_documents",to:hw,version:"v1"},{from:"xear_patients_documents",to:hw,version:"v1"},{from:"xear_saved_views",to:Pz,version:"v1"},{from:"appointments",to:_z,version:"v1"},{from:"appointmentFilterPresets",to:Ez,version:"v1"},{from:"sgkData",to:kz,version:"v1"},{from:"sgk_documents",to:fw,version:"v1"},{from:"xear_sgk_documents",to:fw,version:"v1"},{from:"sgk_reports",to:Nz,version:"v1"},{from:"unmatched_documents",to:Sz,version:"v1"},{from:"background_processing_status",to:Mz,version:"v1"},{from:"inventoryData",to:pw,version:"v1"},{from:"xear_crm_inventory",to:pw,version:"v1"},{from:"inventoryFilterPreset",to:bz,version:"v1"},{from:"cashRecords",to:mw,version:"v1"},{from:"dashboardCashRecords",to:mw,version:"v1"},{from:"incomeRecordTypes",to:Cz,version:"v1"},{from:"expenseRecordTypes",to:Tz,version:"v1"},{from:"sms_messages",to:wz,version:"v1"},{from:"smsLogs",to:Rz,version:"v1"},{from:"notifications",to:jz,version:"v1"},{from:"automationRules",to:Fz,version:"v1"},{from:"automationLogs",to:Dz,version:"v1"},{from:"xear_deviceMaintenance",to:Az,version:"v1"},{from:"ocrDynamicNames",to:Oz,version:"v1"},{from:"patient_form_draft",to:gz,version:"v1"},{from:"appointment_form_draft",to:yz,version:"v1"},{from:"patients_cache",to:uw+".patients",version:"v1"},{from:"appointments_cache",to:uw+".appointments",version:"v1"}],yi=class yi{constructor(){mt(this,"migrationVersion","storage_migration_v1")}static getInstance(){return yi.instance||(yi.instance=new yi),yi.instance}async migrate(){if(localStorage.getItem(this.migrationVersion))return;console.log(" Starting storage migration...");let r=0;for(const s of mV)this.migrateKey(s)&&r++;localStorage.setItem(this.migrationVersion,JSON.stringify({completed:!0,timestamp:Date.now(),migratedKeys:r})),console.log(` Storage migration completed. Migrated ${r} keys.`)}migrateKey(t){const r=localStorage.getItem(t.from);if(r===null)return!1;try{let s=r;if(t.transform){const n=JSON.parse(r);s=JSON.stringify(t.transform(n))}return localStorage.setItem(t.to,s),localStorage.removeItem(t.from),console.log(` Migrated: ${t.from}  ${t.to}`),!0}catch(s){return console.error(` Failed to migrate ${t.from}:`,s),!1}}getMigrationStatus(){const t=localStorage.getItem(this.migrationVersion);if(!t)return{completed:!1};try{return JSON.parse(t)}catch{return{completed:!1}}}resetMigration(){localStorage.removeItem(this.migrationVersion),console.log(" Migration status reset")}};mt(yi,"instance");let ox=yi;const pV=ox.getInstance();pV.migrate().then(()=>{f0.createRoot(document.getElementById("root")).render(o.jsx(gt.StrictMode,{children:o.jsx(Fw,{})}))}).catch(e=>{console.error("Storage migration failed:",e),f0.createRoot(document.getElementById("root")).render(o.jsx(gt.StrictMode,{children:o.jsx(Fw,{})}))});
//# sourceMappingURL=index-a3051a95.js.map
